{"id":"bd-271","title":"EPIC: Power Capabilities Wave 1 (Top-10 Differentiators)","description":"## Background\nQuotey is positioned as an agent-first, deterministic CPQ platform in Slack. We identified 10 pragmatic, high-leverage capabilities that can materially improve rep productivity, approval speed, deal quality, trust, and operational reliability without violating core safety constraints.\n\n## Why this epic exists\nThis epic captures a deliberately curated wave of enhancements that are:\n- High-impact for end users (sales reps, deal desk, approvers)\n- Aligned with deterministic pricing/configuration and auditability principles\n- Buildable in incremental slices with clear verification gates\n\n## Scope\nImplements 10 feature tracks:\n1. Deal Flight Simulator\n2. Constraint Auto-Repair + Tradeoff Explorer\n3. Approval Packet Autopilot\n4. Precedent Intelligence Graph\n5. Rule Sandbox + Blast-Radius Replay\n6. Explain Any Number\n7. Quote Health Score + Next-Best Fixes\n8. Adaptive Extraction Memory\n9. Renewal Delta Intelligence\n10. Resilient Execution Queue\n\n## Out of scope\n- New web dashboard surface area\n- Deep ERP orchestration beyond existing integration strategy\n- Non-deterministic pricing/policy decisions by LLMs\n\n## Program success criteria\n- Median quote iteration latency reduced\n- Approval turnaround time reduced\n- Rep correction loops reduced\n- Deterministic traceability preserved for every new capability\n\n## Quality gates for the initiative\n- `cargo fmt --check`\n- `cargo clippy --all-targets --all-features -- -D warnings`\n- `cargo test --all-targets --all-features`\n- `ubs --diff`\n- Slack thread demo scripts for each feature scenario","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-23T11:04:05.336540943Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:04:05.379377351Z","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":1,"issue_id":"bd-271","author":"Junior Love","text":"Decision record:\n- This epic intentionally favors features that amplify the existing architecture instead of introducing a second platform.\n- Every child feature must preserve the safety principle: LLM as translator/summarizer, deterministic engines as authority.\n- Prioritization favors revenue impact + implementation tractability + operational reliability.\n\nFuture-self notes:\n- If capacity is constrained, ship by dependency phase rather than by feature completeness.\n- Keep instrumentation first-class so each capability has measurable before/after impact.","created_at":"2026-02-23T11:04:05Z"}]}
{"id":"bd-271.1","title":"W1 [REL] Resilient Execution Queue","description":"## Feature Intent\nDurable idempotent execution for Slack CRM and PDF actions with retries recovery and explicit state.\n\n## User Value\nUsers see reliable progress and fewer silent failures.\n\n## Deterministic Anchor\nQueue state machine plus idempotency keys remain deterministic and auditable.\n\n## Slack Surface\nThread progress cards retry status actions and recovery notices.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce failed action rate and improve recoverability under transient outages.","status":"open","priority":0,"issue_type":"feature","created_at":"2026-02-23T11:05:05.993096714Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.049393381Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","wave1"],"dependencies":[{"issue_id":"bd-271.1","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:05.993096714Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":2,"issue_id":"bd-271.1","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:06Z"}]}
{"id":"bd-271.1.1","title":"[REL] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature REL.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.098526166Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.098526166Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","design","wave1"],"dependencies":[{"issue_id":"bd-271.1.1","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.098526166Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.2","title":"[REL] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature REL.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.153509458Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.721858798Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","data","wave1"],"dependencies":[{"issue_id":"bd-271.1.2","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.153509458Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.2","depends_on_id":"bd-271.1.1","type":"blocks","created_at":"2026-02-23T11:05:06.721810898Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.2.1","title":"[REL] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature REL.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.280775343Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.280775343Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.1.2.1","depends_on_id":"bd-271.1.2","type":"parent-child","created_at":"2026-02-23T11:05:06.280775343Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.3","title":"[REL] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature REL.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:06.338530568Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.785900330Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","engine","wave1"],"dependencies":[{"issue_id":"bd-271.1.3","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.338530568Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.3","depends_on_id":"bd-271.1.2","type":"blocks","created_at":"2026-02-23T11:05:06.785852461Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.3.1","title":"[REL] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature REL service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.402127112Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.402127112Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.1.3.1","depends_on_id":"bd-271.1.3","type":"parent-child","created_at":"2026-02-23T11:05:06.402127112Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.4","title":"[REL] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature REL.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.462847655Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.846014852Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","slack","wave1"],"dependencies":[{"issue_id":"bd-271.1.4","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.462847655Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.4","depends_on_id":"bd-271.1.3","type":"blocks","created_at":"2026-02-23T11:05:06.845952455Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.4.1","title":"[REL] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature REL.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.525290496Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.525290496Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.1.4.1","depends_on_id":"bd-271.1.4","type":"parent-child","created_at":"2026-02-23T11:05:06.525290496Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.5","title":"[REL] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature REL with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.591248429Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.907110904Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","qa","wave1"],"dependencies":[{"issue_id":"bd-271.1.5","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.591248429Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.5","depends_on_id":"bd-271.1.4","type":"blocks","created_at":"2026-02-23T11:05:06.907060208Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.5.1","title":"[REL] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature REL.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.656382982Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:06.656382982Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.1.5.1","depends_on_id":"bd-271.1.5","type":"parent-child","created_at":"2026-02-23T11:05:06.656382982Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10","title":"W1 [SAN] Rule Sandbox and Blast Radius Replay","description":"## Feature Intent\nReplay historical quotes under proposed policy changes before publish.\n\n## User Value\nDeal desk can evolve pricing policy without regressions.\n\n## Deterministic Anchor\nReplay computes deterministic before after diffs with full trace evidence.\n\n## Slack Surface\nCLI plus Slack summary report for impacted quotes.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce production policy incidents and rollback events.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:22.745773219Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:28.524776840Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","wave1"],"dependencies":[{"issue_id":"bd-271.10","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:22.745773219Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10","depends_on_id":"bd-271.1","type":"blocks","created_at":"2026-02-23T11:05:28.524716596Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10","depends_on_id":"bd-271.2","type":"blocks","created_at":"2026-02-23T11:05:28.340799617Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":11,"issue_id":"bd-271.10","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:22Z"}]}
{"id":"bd-271.10.1","title":"[SAN] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature SAN.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:23.105242185Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:23.105242185Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","design","wave1"],"dependencies":[{"issue_id":"bd-271.10.1","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:23.105242185Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.2","title":"[SAN] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature SAN.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:23.285618371Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:24.869976880Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","data","wave1"],"dependencies":[{"issue_id":"bd-271.10.2","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:23.285618371Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.2","depends_on_id":"bd-271.10.1","type":"blocks","created_at":"2026-02-23T11:05:24.869915044Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.2.1","title":"[SAN] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature SAN.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:23.470369523Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:23.470369523Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.10.2.1","depends_on_id":"bd-271.10.2","type":"parent-child","created_at":"2026-02-23T11:05:23.470369523Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.3","title":"[SAN] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature SAN.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:23.656651770Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:25.063592718Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","engine","wave1"],"dependencies":[{"issue_id":"bd-271.10.3","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:23.656651770Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.3","depends_on_id":"bd-271.10.2","type":"blocks","created_at":"2026-02-23T11:05:25.063527214Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.3.1","title":"[SAN] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature SAN service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:23.840795998Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:23.840795998Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.10.3.1","depends_on_id":"bd-271.10.3","type":"parent-child","created_at":"2026-02-23T11:05:23.840795998Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.4","title":"[SAN] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature SAN.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:24.028148882Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:25.252072947Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","slack","wave1"],"dependencies":[{"issue_id":"bd-271.10.4","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:24.028148882Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.4","depends_on_id":"bd-271.10.3","type":"blocks","created_at":"2026-02-23T11:05:25.251983369Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.4.1","title":"[SAN] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature SAN.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:24.216119752Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:24.216119752Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.10.4.1","depends_on_id":"bd-271.10.4","type":"parent-child","created_at":"2026-02-23T11:05:24.216119752Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.5","title":"[SAN] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature SAN with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:24.409277527Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:25.441228550Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","qa","wave1"],"dependencies":[{"issue_id":"bd-271.10.5","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:24.409277527Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.5","depends_on_id":"bd-271.10.4","type":"blocks","created_at":"2026-02-23T11:05:25.441168156Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.5.1","title":"[SAN] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature SAN.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:24.605325348Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:24.605325348Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.10.5.1","depends_on_id":"bd-271.10.5","type":"parent-child","created_at":"2026-02-23T11:05:24.605325348Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2","title":"W1 [EXP] Explain Any Number","description":"## Feature Intent\nExplain any line item or total using deterministic pricing trace and policy evidence.\n\n## User Value\nReps and approvers trust numbers and resolve disputes fast.\n\n## Deterministic Anchor\nTrace lineage is sourced only from deterministic pricing and rules artifacts.\n\n## Slack Surface\nquote explain command with expandable breakdown sections.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce pricing dispute time and increase audit confidence.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:06.970801996Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.039100090Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","wave1"],"dependencies":[{"issue_id":"bd-271.2","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:06.970801996Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":3,"issue_id":"bd-271.2","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:07Z"}]}
{"id":"bd-271.2.1","title":"[EXP] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature EXP.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.102762789Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.102762789Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","design","wave1"],"dependencies":[{"issue_id":"bd-271.2.1","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.102762789Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.2","title":"[EXP] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature EXP.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.170818015Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.756826717Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","data","wave1"],"dependencies":[{"issue_id":"bd-271.2.2","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.170818015Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.2","depends_on_id":"bd-271.2.1","type":"blocks","created_at":"2026-02-23T11:05:07.756757095Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.2.1","title":"[EXP] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature EXP.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.240631606Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.240631606Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.2.2.1","depends_on_id":"bd-271.2.2","type":"parent-child","created_at":"2026-02-23T11:05:07.240631606Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.3","title":"[EXP] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature EXP.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:07.309953019Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.830687134Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","engine","wave1"],"dependencies":[{"issue_id":"bd-271.2.3","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.309953019Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.3","depends_on_id":"bd-271.2.2","type":"blocks","created_at":"2026-02-23T11:05:07.830628162Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.3.1","title":"[EXP] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature EXP service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.380468392Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.380468392Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.2.3.1","depends_on_id":"bd-271.2.3","type":"parent-child","created_at":"2026-02-23T11:05:07.380468392Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.4","title":"[EXP] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature EXP.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.452913061Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.903886615Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","slack","wave1"],"dependencies":[{"issue_id":"bd-271.2.4","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.452913061Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.4","depends_on_id":"bd-271.2.3","type":"blocks","created_at":"2026-02-23T11:05:07.903832213Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.4.1","title":"[EXP] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature EXP.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.525977508Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.525977508Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.2.4.1","depends_on_id":"bd-271.2.4","type":"parent-child","created_at":"2026-02-23T11:05:07.525977508Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.5","title":"[EXP] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature EXP with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.605402292Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.976814475Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","qa","wave1"],"dependencies":[{"issue_id":"bd-271.2.5","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.605402292Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.5","depends_on_id":"bd-271.2.4","type":"blocks","created_at":"2026-02-23T11:05:07.976766765Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.5.1","title":"[EXP] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature EXP.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.680968714Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:07.680968714Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.2.5.1","depends_on_id":"bd-271.2.5","type":"parent-child","created_at":"2026-02-23T11:05:07.680968714Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3","title":"W1 [FIX] Constraint Auto-Repair and Tradeoff Explorer","description":"## Feature Intent\nWhen configurations fail propose nearest valid alternatives ranked by tradeoff profile.\n\n## User Value\nReps avoid dead ends and move to valid quotes quickly.\n\n## Deterministic Anchor\nConstraint solver and ranking rules are deterministic and tunable.\n\n## Slack Surface\nFix this config action with ranked option cards.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nLower invalid config churn and reduce deal desk intervention load.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:08.051250566Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.130960107Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","wave1"],"dependencies":[{"issue_id":"bd-271.3","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:08.051250566Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":4,"issue_id":"bd-271.3","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:08Z"}]}
{"id":"bd-271.3.1","title":"[FIX] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature FIX.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.206441489Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.206441489Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","design","wave1"],"dependencies":[{"issue_id":"bd-271.3.1","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.206441489Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.2","title":"[FIX] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature FIX.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.285361071Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.977522398Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","data","wave1"],"dependencies":[{"issue_id":"bd-271.3.2","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.285361071Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.2","depends_on_id":"bd-271.3.1","type":"blocks","created_at":"2026-02-23T11:05:08.977467303Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.2.1","title":"[FIX] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature FIX.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.365492406Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.365492406Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.3.2.1","depends_on_id":"bd-271.3.2","type":"parent-child","created_at":"2026-02-23T11:05:08.365492406Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.3","title":"[FIX] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature FIX.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:08.447568136Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.061657788Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","engine","wave1"],"dependencies":[{"issue_id":"bd-271.3.3","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.447568136Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.3","depends_on_id":"bd-271.3.2","type":"blocks","created_at":"2026-02-23T11:05:09.061611060Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.3.1","title":"[FIX] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature FIX service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.530244208Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.530244208Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.3.3.1","depends_on_id":"bd-271.3.3","type":"parent-child","created_at":"2026-02-23T11:05:08.530244208Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.4","title":"[FIX] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature FIX.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.618031351Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.147491761Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","slack","wave1"],"dependencies":[{"issue_id":"bd-271.3.4","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.618031351Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.4","depends_on_id":"bd-271.3.3","type":"blocks","created_at":"2026-02-23T11:05:09.147446686Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.4.1","title":"[FIX] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature FIX.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.705866776Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.705866776Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.3.4.1","depends_on_id":"bd-271.3.4","type":"parent-child","created_at":"2026-02-23T11:05:08.705866776Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.5","title":"[FIX] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature FIX with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.797776689Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.233340331Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","qa","wave1"],"dependencies":[{"issue_id":"bd-271.3.5","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.797776689Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.5","depends_on_id":"bd-271.3.4","type":"blocks","created_at":"2026-02-23T11:05:09.233296408Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.5.1","title":"[FIX] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature FIX.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.886384258Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:08.886384258Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.3.5.1","depends_on_id":"bd-271.3.5","type":"parent-child","created_at":"2026-02-23T11:05:08.886384258Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4","title":"W1 [PRE] Precedent Intelligence Graph","description":"## Feature Intent\nSurface similar prior deals with outcome context and approval paths.\n\n## User Value\nDecision makers anchor on internal evidence instead of guesswork.\n\n## Deterministic Anchor\nSimilarity scoring pipeline is deterministic versioned and auditable.\n\n## Slack Surface\nShow similar deals thread panel with filters and rationale.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nIncrease consistency of discount and approval outcomes.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:09.319955606Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.412996762Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","wave1"],"dependencies":[{"issue_id":"bd-271.4","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:09.319955606Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":5,"issue_id":"bd-271.4","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:09Z"}]}
{"id":"bd-271.4.1","title":"[PRE] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature PRE.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:09.502643239Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.502643239Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","design","wave1"],"dependencies":[{"issue_id":"bd-271.4.1","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.502643239Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.2","title":"[PRE] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature PRE.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:09.598488168Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.389848845Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","data","wave1"],"dependencies":[{"issue_id":"bd-271.4.2","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.598488168Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.2","depends_on_id":"bd-271.4.1","type":"blocks","created_at":"2026-02-23T11:05:10.389794322Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.2.1","title":"[PRE] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature PRE.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:09.695139627Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.695139627Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.4.2.1","depends_on_id":"bd-271.4.2","type":"parent-child","created_at":"2026-02-23T11:05:09.695139627Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.3","title":"[PRE] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature PRE.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:09.791586121Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.487277118Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","engine","wave1"],"dependencies":[{"issue_id":"bd-271.4.3","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.791586121Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.3","depends_on_id":"bd-271.4.2","type":"blocks","created_at":"2026-02-23T11:05:10.487222335Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.3.1","title":"[PRE] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature PRE service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:09.888636922Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:09.888636922Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.4.3.1","depends_on_id":"bd-271.4.3","type":"parent-child","created_at":"2026-02-23T11:05:09.888636922Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.4","title":"[PRE] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature PRE.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:09.987752295Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.588578360Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","slack","wave1"],"dependencies":[{"issue_id":"bd-271.4.4","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.987752295Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.4","depends_on_id":"bd-271.4.3","type":"blocks","created_at":"2026-02-23T11:05:10.588524038Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.4.1","title":"[PRE] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature PRE.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:10.086402160Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.086402160Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.4.4.1","depends_on_id":"bd-271.4.4","type":"parent-child","created_at":"2026-02-23T11:05:10.086402160Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.5","title":"[PRE] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature PRE with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:10.185677644Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.686174921Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","qa","wave1"],"dependencies":[{"issue_id":"bd-271.4.5","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:10.185677644Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.5","depends_on_id":"bd-271.4.4","type":"blocks","created_at":"2026-02-23T11:05:10.686119055Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.5.1","title":"[PRE] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature PRE.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:10.288615250Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.288615250Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.4.5.1","depends_on_id":"bd-271.4.5","type":"parent-child","created_at":"2026-02-23T11:05:10.288615250Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5","title":"W1 [HLT] Quote Health Score and Next Best Fixes","description":"## Feature Intent\nScore quote risk and quality then prescribe concrete remediation actions.\n\n## User Value\nReps know exactly what to fix next before requesting approval.\n\n## Deterministic Anchor\nScoring model is deterministic and decomposes by signal category.\n\n## Slack Surface\nHealth panel with one click fix actions and progress indicator.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nImprove first pass quote quality and reduce back and forth.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:05:10.785857041Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:25.822980138Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","wave1"],"dependencies":[{"issue_id":"bd-271.5","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:10.785857041Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5","depends_on_id":"bd-271.2","type":"blocks","created_at":"2026-02-23T11:05:25.633514783Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:25.822922430Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":6,"issue_id":"bd-271.5","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:10Z"}]}
{"id":"bd-271.5.1","title":"[HLT] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature HLT.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:10.990277943Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:10.990277943Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","design","wave1"],"dependencies":[{"issue_id":"bd-271.5.1","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:10.990277943Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.2","title":"[HLT] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature HLT.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:11.099062027Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:11.982481728Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","data","wave1"],"dependencies":[{"issue_id":"bd-271.5.2","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.099062027Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.2","depends_on_id":"bd-271.5.1","type":"blocks","created_at":"2026-02-23T11:05:11.982431113Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.2.1","title":"[HLT] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature HLT.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.203913200Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:11.203913200Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.5.2.1","depends_on_id":"bd-271.5.2","type":"parent-child","created_at":"2026-02-23T11:05:11.203913200Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.3","title":"[HLT] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature HLT.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:11.310681495Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:12.095545999Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","engine","wave1"],"dependencies":[{"issue_id":"bd-271.5.3","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.310681495Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.3","depends_on_id":"bd-271.5.2","type":"blocks","created_at":"2026-02-23T11:05:12.095495113Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.3.1","title":"[HLT] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature HLT service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.417700793Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:11.417700793Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.5.3.1","depends_on_id":"bd-271.5.3","type":"parent-child","created_at":"2026-02-23T11:05:11.417700793Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.4","title":"[HLT] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature HLT.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:11.527037679Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:12.549570593Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","slack","wave1"],"dependencies":[{"issue_id":"bd-271.5.4","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.527037679Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.4","depends_on_id":"bd-271.5.3","type":"blocks","created_at":"2026-02-23T11:05:12.549513205Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.4.1","title":"[HLT] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature HLT.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.639823996Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:11.639823996Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.5.4.1","depends_on_id":"bd-271.5.4","type":"parent-child","created_at":"2026-02-23T11:05:11.639823996Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.5","title":"[HLT] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature HLT with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:11.752133514Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:12.660722290Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","qa","wave1"],"dependencies":[{"issue_id":"bd-271.5.5","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.752133514Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.5","depends_on_id":"bd-271.5.4","type":"blocks","created_at":"2026-02-23T11:05:12.660658068Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.5.1","title":"[HLT] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature HLT.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.873020148Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:11.873020148Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.5.5.1","depends_on_id":"bd-271.5.5","type":"parent-child","created_at":"2026-02-23T11:05:11.873020148Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6","title":"W1 [APP] Approval Packet Autopilot","description":"## Feature Intent\nAuto assemble concise complete packets for faster higher quality approvals.\n\n## User Value\nApprovers can decide in one pass with full context.\n\n## Deterministic Anchor\nRouting and required fields stay policy driven and deterministic.\n\n## Slack Surface\nApproval packet preview and one tap decision actions.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nCut approval turnaround time and reopen rates.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:12.773659901Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:26.401085766Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","wave1"],"dependencies":[{"issue_id":"bd-271.6","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:12.773659901Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-271.1","type":"blocks","created_at":"2026-02-23T11:05:26.401014180Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:26.014883278Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-271.5","type":"blocks","created_at":"2026-02-23T11:05:26.208062404Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":7,"issue_id":"bd-271.6","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:12Z"}]}
{"id":"bd-271.6.1","title":"[APP] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature APP.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.007586409Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:13.007586409Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","design","wave1"],"dependencies":[{"issue_id":"bd-271.6.1","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.007586409Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.2","title":"[APP] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature APP.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.125132727Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:14.487701140Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","data","wave1"],"dependencies":[{"issue_id":"bd-271.6.2","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.125132727Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.2","depends_on_id":"bd-271.6.1","type":"blocks","created_at":"2026-02-23T11:05:14.487637942Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.2.1","title":"[APP] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature APP.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:13.247202489Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:13.247202489Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.6.2.1","depends_on_id":"bd-271.6.2","type":"parent-child","created_at":"2026-02-23T11:05:13.247202489Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.3","title":"[APP] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature APP.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:13.369283793Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:14.615855049Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","engine","wave1"],"dependencies":[{"issue_id":"bd-271.6.3","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.369283793Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.3","depends_on_id":"bd-271.6.2","type":"blocks","created_at":"2026-02-23T11:05:14.615799144Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.3.1","title":"[APP] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature APP service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:13.495538773Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:13.495538773Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.6.3.1","depends_on_id":"bd-271.6.3","type":"parent-child","created_at":"2026-02-23T11:05:13.495538773Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.4","title":"[APP] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature APP.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.621054130Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:14.740879450Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","slack","wave1"],"dependencies":[{"issue_id":"bd-271.6.4","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.621054130Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.4","depends_on_id":"bd-271.6.3","type":"blocks","created_at":"2026-02-23T11:05:14.740833193Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.4.1","title":"[APP] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature APP.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:13.747503145Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:13.747503145Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.6.4.1","depends_on_id":"bd-271.6.4","type":"parent-child","created_at":"2026-02-23T11:05:13.747503145Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.5","title":"[APP] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature APP with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.874866133Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:14.867431971Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","qa","wave1"],"dependencies":[{"issue_id":"bd-271.6.5","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.874866133Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.5","depends_on_id":"bd-271.6.4","type":"blocks","created_at":"2026-02-23T11:05:14.867386004Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.5.1","title":"[APP] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature APP.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:14.001210231Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:14.001210231Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.6.5.1","depends_on_id":"bd-271.6.5","type":"parent-child","created_at":"2026-02-23T11:05:14.001210231Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7","title":"W1 [SIM] Deal Flight Simulator","description":"## Feature Intent\nGenerate and compare negotiation scenarios in seconds before committing a quote.\n\n## User Value\nReps can respond live in customer calls with safe alternatives.\n\n## Deterministic Anchor\nScenario generation delegates all pricing and policy math to deterministic engines.\n\n## Slack Surface\nquote simulate command with side by side comparison blocks.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce quote iteration latency while improving close quality.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:14.995786879Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:27.755253999Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","wave1"],"dependencies":[{"issue_id":"bd-271.7","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:14.995786879Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.1","type":"blocks","created_at":"2026-02-23T11:05:27.755195949Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.3","type":"blocks","created_at":"2026-02-23T11:05:26.587845613Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:27.378003122Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.5","type":"blocks","created_at":"2026-02-23T11:05:27.571372005Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":8,"issue_id":"bd-271.7","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:15Z"}]}
{"id":"bd-271.7.1","title":"[SIM] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature SIM.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:15.256783121Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:15.256783121Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","design","wave1"],"dependencies":[{"issue_id":"bd-271.7.1","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.256783121Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.2","title":"[SIM] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature SIM.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:15.387423517Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:16.561738258Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","data","wave1"],"dependencies":[{"issue_id":"bd-271.7.2","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.387423517Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.2","depends_on_id":"bd-271.7.1","type":"blocks","created_at":"2026-02-23T11:05:16.561680969Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.2.1","title":"[SIM] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature SIM.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:15.528869516Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:15.528869516Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.7.2.1","depends_on_id":"bd-271.7.2","type":"parent-child","created_at":"2026-02-23T11:05:15.528869516Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.3","title":"[SIM] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature SIM.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:15.671825631Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:16.967761218Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","engine","wave1"],"dependencies":[{"issue_id":"bd-271.7.3","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.671825631Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.3","depends_on_id":"bd-271.7.2","type":"blocks","created_at":"2026-02-23T11:05:16.967712937Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.3.1","title":"[SIM] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature SIM service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:15.807363074Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:15.807363074Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.7.3.1","depends_on_id":"bd-271.7.3","type":"parent-child","created_at":"2026-02-23T11:05:15.807363074Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.4","title":"[SIM] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature SIM.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:15.950851833Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:17.100299730Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","slack","wave1"],"dependencies":[{"issue_id":"bd-271.7.4","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.950851833Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.4","depends_on_id":"bd-271.7.3","type":"blocks","created_at":"2026-02-23T11:05:17.100243755Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.4.1","title":"[SIM] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature SIM.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:16.089893690Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:16.089893690Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.7.4.1","depends_on_id":"bd-271.7.4","type":"parent-child","created_at":"2026-02-23T11:05:16.089893690Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.5","title":"[SIM] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature SIM with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:16.263110955Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:17.233544183Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","qa","wave1"],"dependencies":[{"issue_id":"bd-271.7.5","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:16.263110955Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.5","depends_on_id":"bd-271.7.4","type":"blocks","created_at":"2026-02-23T11:05:17.233494278Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.5.1","title":"[SIM] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature SIM.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:16.410758230Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:16.410758230Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.7.5.1","depends_on_id":"bd-271.7.5","type":"parent-child","created_at":"2026-02-23T11:05:16.410758230Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8","title":"W1 [MEM] Adaptive Extraction Memory","description":"## Feature Intent\nLearn accepted terminology corrections by account and team to improve parsing over time.\n\n## User Value\nLess repetitive correction work and higher intent extraction precision.\n\n## Deterministic Anchor\nMemory updates are explicit versioned reversible and policy bounded.\n\n## Slack Surface\nCorrection chips teach Quotey actions and memory source labels.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce extraction correction frequency across repeated workflows.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:05:17.373172776Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:17.514427524Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","wave1"],"dependencies":[{"issue_id":"bd-271.8","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:17.373172776Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":9,"issue_id":"bd-271.8","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:17Z"}]}
{"id":"bd-271.8.1","title":"[MEM] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature MEM.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:17.657601310Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:17.657601310Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","design","wave1"],"dependencies":[{"issue_id":"bd-271.8.1","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:17.657601310Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.2","title":"[MEM] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature MEM.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:17.802908575Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:19.488379551Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","data","wave1"],"dependencies":[{"issue_id":"bd-271.8.2","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:17.802908575Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.2","depends_on_id":"bd-271.8.1","type":"blocks","created_at":"2026-02-23T11:05:19.488329095Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.2.1","title":"[MEM] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature MEM.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:17.946210351Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:17.946210351Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.8.2.1","depends_on_id":"bd-271.8.2","type":"parent-child","created_at":"2026-02-23T11:05:17.946210351Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.3","title":"[MEM] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature MEM.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:18.089206221Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:19.658568819Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","engine","wave1"],"dependencies":[{"issue_id":"bd-271.8.3","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:18.089206221Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.3","depends_on_id":"bd-271.8.2","type":"blocks","created_at":"2026-02-23T11:05:19.658518865Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.3.1","title":"[MEM] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature MEM service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:18.238099515Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:18.238099515Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.8.3.1","depends_on_id":"bd-271.8.3","type":"parent-child","created_at":"2026-02-23T11:05:18.238099515Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.4","title":"[MEM] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature MEM.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:18.528887032Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:19.825612750Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","slack","wave1"],"dependencies":[{"issue_id":"bd-271.8.4","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:18.528887032Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.4","depends_on_id":"bd-271.8.3","type":"blocks","created_at":"2026-02-23T11:05:19.825563247Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.4.1","title":"[MEM] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature MEM.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:18.685423802Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:18.685423802Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.8.4.1","depends_on_id":"bd-271.8.4","type":"parent-child","created_at":"2026-02-23T11:05:18.685423802Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.5","title":"[MEM] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature MEM with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:18.831416529Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:19.984313237Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","qa","wave1"],"dependencies":[{"issue_id":"bd-271.8.5","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:18.831416529Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.5","depends_on_id":"bd-271.8.4","type":"blocks","created_at":"2026-02-23T11:05:19.984263843Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.5.1","title":"[MEM] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature MEM.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:19.325781148Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:19.325781148Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.8.5.1","depends_on_id":"bd-271.8.5","type":"parent-child","created_at":"2026-02-23T11:05:19.325781148Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9","title":"W1 [REN] Renewal Delta Intelligence","description":"## Feature Intent\nDiff renewal context and suggest expansion or risk mitigation options.\n\n## User Value\nRenewal reps gain speed and context for better outcomes.\n\n## Deterministic Anchor\nDiff engine and recommendation scoring are deterministic and auditable.\n\n## Slack Surface\nRenewal delta card with option set actions in thread.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nIncrease renewal throughput and expansion attach rates.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:20.148398141Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:28.147382163Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","wave1"],"dependencies":[{"issue_id":"bd-271.9","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:20.148398141Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:27.950231623Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9","depends_on_id":"bd-271.5","type":"blocks","created_at":"2026-02-23T11:05:28.147327499Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":10,"issue_id":"bd-271.9","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:20Z"}]}
{"id":"bd-271.9.1","title":"[REN] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature REN.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:20.479554307Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:20.479554307Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","design","wave1"],"dependencies":[{"issue_id":"bd-271.9.1","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:20.479554307Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.2","title":"[REN] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature REN.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:20.649844956Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:22.049773730Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","data","wave1"],"dependencies":[{"issue_id":"bd-271.9.2","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:20.649844956Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.2","depends_on_id":"bd-271.9.1","type":"blocks","created_at":"2026-02-23T11:05:22.049716152Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.2.1","title":"[REN] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature REN.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:20.820445099Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:20.820445099Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.9.2.1","depends_on_id":"bd-271.9.2","type":"parent-child","created_at":"2026-02-23T11:05:20.820445099Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.3","title":"[REN] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature REN.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:20.991050502Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:22.224059579Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","engine","wave1"],"dependencies":[{"issue_id":"bd-271.9.3","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:20.991050502Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.3","depends_on_id":"bd-271.9.2","type":"blocks","created_at":"2026-02-23T11:05:22.223999906Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.3.1","title":"[REN] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature REN service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:21.164133734Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:21.164133734Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.9.3.1","depends_on_id":"bd-271.9.3","type":"parent-child","created_at":"2026-02-23T11:05:21.164133734Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.4","title":"[REN] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature REN.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:21.341698032Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:22.396848716Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","slack","wave1"],"dependencies":[{"issue_id":"bd-271.9.4","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:21.341698032Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.4","depends_on_id":"bd-271.9.3","type":"blocks","created_at":"2026-02-23T11:05:22.396794024Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.4.1","title":"[REN] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature REN.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:21.517818257Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:21.517818257Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.9.4.1","depends_on_id":"bd-271.9.4","type":"parent-child","created_at":"2026-02-23T11:05:21.517818257Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.5","title":"[REN] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature REN with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:21.693500368Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:22.570091280Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","qa","wave1"],"dependencies":[{"issue_id":"bd-271.9.5","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:21.693500368Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.5","depends_on_id":"bd-271.9.4","type":"blocks","created_at":"2026-02-23T11:05:22.570031927Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.5.1","title":"[REN] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature REN.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:21.873038375Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:21.873038375Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.9.5.1","depends_on_id":"bd-271.9.5","type":"parent-child","created_at":"2026-02-23T11:05:21.873038375Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-272","title":"Align AGENTS/CLAUDE with planning config and PROJECT.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T10:51:47.636406141Z","created_by":"ubuntuman","updated_at":"2026-02-23T10:51:51.264495062Z","closed_at":"2026-02-23T10:51:51.246115915Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-70d","title":"EPIC: Quotey AI-Native CPQ Enhancement Initiative","description":"# EPIC: Quotey AI-Native CPQ Enhancement Initiative\n\n## Vision & Strategic Context\n\nThis epic represents a fundamental evolution of Quotey from a deterministic CPQ tool into an **AI-native, intelligence-driven quoting platform** that operates at the speed of conversation while maintaining absolute determinism for pricing and policy decisions.\n\n### Why This Matters Now\n\nTraditional CPQ systems are form-heavy, approval-slow, and knowledge-siloed. Sales reps spend 30%+ of their time on administrative quote activities rather than selling. This initiative changes the game by:\n\n1. **Meeting users where they work** (Slack-native, conversation-first)\n2. **Surfacing tribal knowledge automatically** (Deal DNA, past outcomes)\n3. **Removing friction from approvals** (emoji micro-approvals, smart routing)\n4. **Making the system explainable** (policy reasoning in plain English)\n5. **Ensuring trust through cryptographic integrity** (immutable audit trails)\n\n### Core Architectural Principles\n\nThese features share DNA that honors Quotey's foundational safety principle:\n\n- **Deterministic Reliability**: LLMs translate, predict, and explainbut NEVER decide prices, validity, or policy\n- **AI-Powered UX**: Natural language, prediction, proactive assistance\n- **Slack-Native Velocity**: Every feature optimized for thread-based collaboration\n- **Progressive Enhancement**: Core CPQ works without AI; AI makes it faster/smarter\n\n### Success Metrics\n\n- Quote creation time: 50% reduction\n- Approval cycle time: 70% reduction  \n- Sales rep satisfaction: NPS > 50\n- Quote accuracy: 99.5%+ (zero AI-induced pricing errors)\n- System adoption: 90%+ daily active usage\n\n### Implementation Approach\n\nThis epic decomposes into 10 major feature areas, each with granular sub-tasks:\n\n1. **Deal DNA** - Configuration fingerprinting for intelligent similarity matching\n2. **Conversational Solver** - Natural language constraint resolution\n3. **Emoji Micro-Approvals** - Frictionless approval workflows\n4. **Ghost Quotes** - Predictive opportunity creation from buying signals\n5. **Explainable Policy Engine** - Transparent reasoning for all decisions\n6. **Live Multi-User Sessions** - Real-time collaborative quote editing\n7. **Win Probability Pricing** - Data-informed pricing optimization\n8. **Immutable Quote Ledger** - Cryptographic integrity guarantees\n9. **Configuration Archaeology** - Natural language forensics for constraints\n10. **Smart Thread Routing** - Authority-aware automatic routing\n\n### Technical Foundation\n\nAll features build on Quotey's existing stack:\n- Rust backend with SQLx migrations\n- SQLite with vector extensions (planned)\n- Slack Socket Mode + Block Kit\n- Deterministic rule engine (unchanged)\n\n### Quality Gates\n\nFor ALL stories in this epic:\n- `cargo check` - Type checking and compilation\n- `cargo clippy` - Linting\n- `cargo test` - Unit tests pass\n- SQLx migrations must be reversible\n- No AI in critical path of pricing/policy decisions","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-23T11:02:31.214933450Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:02:31.214933450Z","external_ref":"agents:brainstorming-session-2026-02-23","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-70d.1","title":"FEAT-01: Deal DNA - Configuration Fingerprint Matching","description":"# FEAT-01: Deal DNA - Configuration Fingerprint Matching\n\n## Feature Overview\n\nDeal DNA provides **intelligent similarity matching** for quotes by generating mathematical fingerprints of every configuration. When a rep builds a quote, the system instantly surfaces 3-5 most similar past deals with their outcomes, pricing, and customer profiles.\n\n### The Problem This Solves\n\nSales reps operate in isolation. They don't know:\n- \"What did we charge similar customers?\"\n- \"What configs closed successfully for this use case?\"\n- \"What's the market-tested discount for this segment?\"\n\nTribal knowledge walks out the door when reps leave. Deal DNA captures it permanently.\n\n### How It Works\n\n1. **Fingerprint Generation**: Every finalized quote gets a MinHash/simhash fingerprint of its configuration\n2. **Vector Storage**: Fingerprints stored with outcome metadata (won/lost, final price, close time)\n3. **Similarity Query**: New quotes query for nearest neighbors in fingerprint space\n4. **Contextual Presentation**: Results shown with relevance scores and outcome summaries\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"Building quote for Acme Corp, Enterprise tier + Premium Support + API access\"\nQuotey: [Shows quote preview with Deal DNA card]\n        \"Similar deals closed at $45-52k with 15-20% discounts\"\n        \"3 of 5 similar deals won (60% win rate)\"\n        \"Average sales cycle: 34 days\"\n```\n\n### Technical Architecture\n\n```\n          \n  Quote Service   Fingerprint        Vector Store   \n                       Generator               (SQLite +      \n             extensions)   \n                                                  \n                                                            \n                                          \n          Similarity       \n                         Query Engine     \n                        \n```\n\n### Data Model Additions\n\n- `configuration_fingerprints` table: hash, vector representation, quote reference\n- `similarity_indices` table: precomputed similarity scores for fast lookup\n- `deal_outcomes` table: win/loss, final terms, close date\n\n### Integration Points\n\n- Quote finalization trigger (auto-generate fingerprint)\n- Quote retrieval (fetch similar deals)\n- Slack Block Kit rendering (similarity card)\n- Analytics dashboard (aggregate patterns)\n\n### Acceptance Criteria\n- [ ] Fingerprints generate deterministically for identical configs\n- [ ] Similarity queries return results in <100ms\n- [ ] Results include at least: price range, discount range, win rate\n- [ ] Integration with existing quote workflow (no extra steps)\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes\n- [ ] Migration is reversible","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:02:42.241808630Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:02:42.241808630Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:02:42.241808630Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.1","title":"DNA-001: Create configuration_fingerprints database schema","description":"## DNA-001: Create configuration_fingerprints database schema\n\n### Background\nDeal DNA requires storing mathematical fingerprints of quote configurations for similarity matching. This is the foundational database work.\n\n### Acceptance Criteria\n- [ ] Create `configuration_fingerprints` table with:\n  - id (UUID primary key)\n  - quote_id (foreign key to quotes)\n  - fingerprint_hash (string, indexed)\n  - configuration_vector (BLOB for vector storage)\n  - outcome_status (won/lost/pending)\n  - final_price (decimal)\n  - close_date (timestamp, nullable)\n  - created_at (timestamp)\n- [ ] Create `similarity_cache` table for precomputed similarities\n- [ ] Add SQLx migration (reversible)\n- [ ] Add indexes on fingerprint_hash and quote_id\n- [ ] `cargo sqlx migrate run` succeeds\n- [ ] `cargo check` passes","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:04:44.553390122Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:04:44.553390122Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.1","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:44.553390122Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.2","title":"DNA-002: Implement MinHash fingerprint generation service","description":"## DNA-002: Implement MinHash fingerprint generation service\n\n### Background\nGenerate deterministic fingerprints from quote configurations using MinHash algorithm for efficient similarity estimation.\n\n### Acceptance Criteria\n- [ ] Create `FingerprintGenerator` service in `src/dna/`\n- [ ] Implement MinHash (or SimHash) algorithm\n- [ ] Input: Quote configuration (JSON/product selection)\n- [ ] Output: 128-bit fingerprint hash + vector representation\n- [ ] Same configuration = identical fingerprint (deterministic)\n- [ ] Similar configurations = similar hashes (locality sensitive)\n- [ ] Unit tests with 90%+ coverage\n- [ ] `cargo test` passes\n- [ ] `cargo clippy` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:04:47.315937584Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:27.182852760Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.2","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:47.315937584Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.2","depends_on_id":"bd-70d.1.1","type":"blocks","created_at":"2026-02-23T11:29:27.182791355Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.3","title":"DNA-003: Build similarity search query engine","description":"## DNA-003: Build similarity search query engine\n\n### Background\nQuery engine to find similar deals given a fingerprint. Uses k-NN or similar vector similarity search.\n\n### Acceptance Criteria\n- [ ] Create `SimilarityEngine` in `src/dna/`\n- [ ] Implement cosine similarity or Hamming distance for fingerprint comparison\n- [ ] Method: `find_similar(fingerprint, limit: usize) -> Vec<SimilarDeal>`\n- [ ] Return deals within similarity threshold (configurable, default 0.8)\n- [ ] Query performance: <100ms for 10k fingerprints\n- [ ] Include outcome metadata in results\n- [ ] Unit tests with sample data\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:04:49.930973156Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:27.399647122Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.3","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:49.930973156Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.3","depends_on_id":"bd-70d.1.2","type":"blocks","created_at":"2026-02-23T11:29:27.399585485Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.4","title":"DNA-004: Create API endpoints for similarity queries","description":"## DNA-004: Create API endpoints for similarity queries\n\n### Background\nREST API for fetching similar deals for a given quote.\n\n### Acceptance Criteria\n- [ ] Add GET `/api/v1/quotes/:id/similar-deals` endpoint\n- [ ] Returns JSON array of similar deals with:\n  - quote_id, customer_name, similarity_score\n  - outcome (won/lost), final_price, close_date\n- [ ] Query param: `limit` (default 5, max 20)\n- [ ] Query param: `min_similarity` (default 0.7)\n- [ ] HTTP 404 if quote not found\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:04:52.461910937Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:27.611470755Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.4","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:52.461910937Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.4","depends_on_id":"bd-70d.1.3","type":"blocks","created_at":"2026-02-23T11:29:27.611410101Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.5","title":"DNA-005: Add Slack Block Kit Deal DNA card renderer","description":"## DNA-005: Add Slack Block Kit Deal DNA card renderer\n\n### Background\nRender Deal DNA similar deals as a rich Block Kit card in Slack threads.\n\n### Acceptance Criteria\n- [ ] Create `DealDnaCard` component in `src/slack/blocks/`\n- [ ] Display: similarity score, price range, discount range, win rate\n- [ ] Show up to 5 similar deals in collapsible section\n- [ ] Include \"View Details\" button for each similar deal\n- [ ] Style with appropriate emojis (  )\n- [ ] Compact view for thread context\n- [ ] Unit tests for card generation\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:04:59.315084996Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:27.825931148Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.5","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:59.315084996Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.5","depends_on_id":"bd-70d.1.4","type":"blocks","created_at":"2026-02-23T11:29:27.825869372Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.6","title":"DNA-006: Integrate fingerprint generation with quote lifecycle","description":"## DNA-006: Integrate fingerprint generation with quote lifecycle\n\n### Background\nAuto-generate fingerprints when quotes are finalized/closed.\n\n### Acceptance Criteria\n- [ ] Hook into quote finalization event\n- [ ] Generate and store fingerprint on quote close\n- [ ] Update fingerprint if quote is reopened/modified\n- [ ] Store outcome when deal is marked won/lost\n- [ ] Background job for backfilling historical quotes\n- [ ] Integration test: quote finalization  fingerprint created\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:01.469803985Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:28.044157087Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.6","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:05:01.469803985Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.6","depends_on_id":"bd-70d.1.2","type":"blocks","created_at":"2026-02-23T11:29:28.044096272Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.7","title":"DNA-007: Add /quotey similar-deals slash command","description":"## DNA-007: Add /quotey similar-deals slash command\n\n### Background\nSlack slash command to query similar deals on demand.\n\n### Acceptance Criteria\n- [ ] Register `/quotey similar-deals` slash command\n- [ ] Accept quote_id as parameter\n- [ ] Return Deal DNA card with similar deals\n- [ ] Handle invalid quote IDs gracefully\n- [ ] Integration test\n- [ ] `cargo test` passes","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:29:07.108506201Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:28.258291526Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.7","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:29:07.108506201Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.7","depends_on_id":"bd-70d.1.5","type":"blocks","created_at":"2026-02-23T11:29:28.258223468Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10","title":"FEAT-10: Smart Thread Routing","description":"# FEAT-10: Smart Thread Routing\n\n## Feature Overview\n\nThe system knows who can approve what based on real-time org data. When a discount exceeds thresholds, it doesn't just flagit **@mentions the correct approver with full context**: \"@sarah This needs VP approval: $67k ARR, 23% discount, strategic account. Tap  to approve.\"\n\n### The Problem This Solves\n\nFinding the right approver is a time sink:\n- \"Who approves $50k+ deals?\"\n- \"Sarah's OOO, who's the backup?\"\n- \"Is this a strategic account requiring exec sign-off?\"\n- Approval requests sit in wrong inboxes\n\nSmart Routing gets requests to the right person instantly.\n\n### How It Works\n\n1. **Authority Mapping**: Load org hierarchy and approval limits\n2. **Request Classification**: Analyze quote for routing criteria\n3. **Approver Resolution**: Match requirements to available approvers\n4. **Availability Check**: Calendar integration for OOO detection\n5. **Smart Mention**: @mention with context and action options\n6. **Escalation Path**: Auto-escalate if no response in timeframe\n\n### User Experience\n\n**Slack Thread Flow:**\n```\n[Quote requiring VP approval created]\n\nQuotey: \"@sarah-vp-sales Approval Required\n        \n         Quote: Acme Corp - Expansion\n         Value: $67,000 ARR\n         Discount: 23% (your limit: 25%)\n         Account: Strategic (tier 1)\n         Customer needs response by: Friday\n        \n         Approve immediately\n         Comment with changes\n         Delegate to @jane-vp-sales (you're OOO tomorrow)\n        \n        [View Full Quote] [See Similar Approvals]\"\n\n[sarah unavailable - system checks calendar]\n\nQuotey: \" Auto-escalating to @jane-vp-sales\n        @sarah-vp-sales is OOO until Monday\n        Jane has same authority and is available\"\n```\n\n### Technical Architecture\n\n```\n          \n  Approval        Routing Engine     Authority      \n  Request                                      Resolver       \n          \n                                                         \n                                                         \n                              \n           Smart Mention     Availability   \n                          Composer                Checker        \n                              \n```\n\n### Routing Criteria\n\n- **Deal Value**: $ thresholds by role\n- **Discount %**: Authority limits\n- **Account Tier**: Strategic accounts  exec approval\n- **Product Type**: Special products  specialist approval\n- **Geo/Region**: Territory-based routing\n- **Customer Segment**: Enterprise vs SMB paths\n\n### Authority Resolution Logic\n\n```rust\nfn resolve_approver(request: ApprovalRequest) -> Approver {\n    // Primary: Direct authority match\n    let primary = find_by_authority(request.requirements);\n    \n    // Check availability\n    if !is_available(primary) {\n        // Fallback: Same authority level\n        let fallback = find_same_authority(primary);\n        \n        if !is_available(fallback) {\n            // Escalate: Next authority level up\n            return escalate_to_next_level(primary);\n        }\n        return fallback;\n    }\n    \n    primary\n}\n```\n\n### Components\n\n- **Authority Registry**: Org structure, roles, limits\n- **Routing Engine**: Match requests to approvers\n- **Availability Service**: Calendar/OOO integration\n- **Mention Composer**: Context-rich @mention generation\n- **Escalation Manager**: Time-based auto-escalation\n\n### Data Model\n\n- `approval_authorities` table: Role  limits mapping\n- `org_hierarchy` table: Reporting structure\n- `routing_rules` table: Criteria  approver mapping\n- `escalation_paths` table: Fallback sequences\n\n### Integration Points\n\n- Slack @mention API\n- Calendar integration (Google/Outlook)\n- Quote service (approval requirements)\n- Notification system\n\n### Acceptance Criteria\n- [ ] 95%+ of requests routed correctly on first try\n- [ ] OOO detection triggers fallback within 1 minute\n- [ ] Context included in every routing mention\n- [ ] Escalation happens automatically after timeout\n- [ ] Reps can override routing with @mention\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:04:29.120191712Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:04:29.120191712Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:04:29.120191712Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10.1","title":"ROUTE-001: Create approval_routing database schema","description":"## ROUTE-001: Create approval_routing database schema\n\n### Background\nStore org hierarchy and routing rules for smart approvals.\n\n### Acceptance Criteria\n- [ ] Create `approval_authorities` table:\n  - user_id, role, max_discount_pct, max_deal_value\n  - account_tiers (JSON), product_categories (JSON)\n- [ ] Create `org_hierarchy` table:\n  - user_id, manager_id, department, level\n- [ ] Create `routing_rules` table:\n  - id, criteria_type, criteria_value, approver_role\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:51.516064580Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:51.516064580Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10.1","depends_on_id":"bd-70d.10","type":"parent-child","created_at":"2026-02-23T11:05:51.516064580Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10.2","title":"ROUTE-002: Build smart routing engine","description":"## ROUTE-002: Build smart routing engine\n\n### Background\nRoute approval requests to correct approver based on rules.\n\n### Acceptance Criteria\n- [ ] Create `RoutingEngine` in `src/routing/`\n- [ ] Match quote criteria to authority rules\n- [ ] Resolve approver from org hierarchy\n- [ ] Handle OOO fallback logic\n- [ ] Return RoutingResult with primary + fallback approvers\n- [ ] Integration with calendar API for availability\n- [ ] Unit tests for various routing scenarios\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:00.385228932Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:43.996620524Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10.2","depends_on_id":"bd-70d.10","type":"parent-child","created_at":"2026-02-23T11:06:00.385228932Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.2","depends_on_id":"bd-70d.10.1","type":"blocks","created_at":"2026-02-23T11:29:43.996566643Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10.3","title":"ROUTE-003: Add smart @mention composer for Slack","description":"## ROUTE-003: Add smart @mention composer for Slack\n\n### Background\nGenerate context-rich @mention messages for approval requests.\n\n### Acceptance Criteria\n- [ ] Create `SmartMentionComposer` in `src/routing/`\n- [ ] Include quote summary in mention\n- [ ] Show approval context (threshold exceeded)\n- [ ] Add emoji action buttons\n- [ ] Mention fallback approver if primary OOO\n- [ ] Handle urgent styling for time-sensitive\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:55.028066764Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:55.588497614Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10.3","depends_on_id":"bd-70d.10","type":"parent-child","created_at":"2026-02-23T11:28:55.028066764Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.3","depends_on_id":"bd-70d.10.2","type":"blocks","created_at":"2026-02-23T11:29:44.209854986Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.3","depends_on_id":"bd-70d.3.4","type":"blocks","created_at":"2026-02-23T11:29:55.588452680Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2","title":"FEAT-02: Conversational Constraint Solver","description":"# FEAT-02: Conversational Constraint Solver\n\n## Feature Overview\n\nTransform quote configuration from form-filling into **natural language negotiation**. Users express needs conversationally: \"I need the enterprise tier but my budget is $50k\" and the system reasons through constraints to find valid configurations or suggest alternatives.\n\n### The Problem This Solves\n\nTraditional CPQ forces users to understand:\n- Product hierarchies and dependencies\n- Constraint rules and incompatibilities\n- Pricing tiers and discount structures\n\nReps waste time hunting through catalogs. Conversational solver lets them *describe what they need* and guides them to valid configs.\n\n### How It Works\n\n1. **Intent Extraction**: Parse natural language for: product mentions, constraints, priorities\n2. **Constraint Mapping**: Map intents to product rules\n3. **Solver Invocation**: Run deterministic constraint engine\n4. **Response Generation**: Present solutions or clarifying questions\n5. **Dialogue State**: Maintain context across multi-turn conversations\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"I need the enterprise tier but my budget is $50k\"\nQuotey: \"Enterprise tier starts at $75k. Options:\n        1. 2-year commitment + standard support = $52k\n        2. Premium tier + annual = $48k (recommended: fits your use case)\n        Which would you prefer?\"\n\nRep: \"What's the difference between Premium and Enterprise?\"\nQuotey: [Explains feature differences relevant to customer's stated needs]\n```\n\n### Technical Architecture\n\n```\n          \n  Slack Message   Intent Extractor   Constraint     \n                       (Pattern/LLM)           Solver         \n          \n                                                          \n                                                          \n                              \n                         Dialogue State           Product        \n                         Manager                  Catalog        \n                              \n```\n\n### Components\n\n- **Intent Extractor**: Pattern matching + lightweight NLP for product/constraint identification\n- **Dialogue State Manager**: Track conversation context, pending clarifications\n- **Constraint Mapper**: Bridge natural language to deterministic rule engine\n- **Response Generator**: Format solutions, alternatives, and questions\n\n### Integration Points\n\n- Slack message handler (new conversation type)\n- Existing constraint engine (no changes to core)\n- Quote builder (can seed from conversation)\n\n### Safety Considerations\n\nCRITICAL: LLM only translates/explains. ALL pricing and validity decisions come from the deterministic constraint engine. Never trust LLM for price quotes.\n\n### Acceptance Criteria\n- [ ] Understands 90%+ of common product/constraint phrases\n- [ ] Always validates constraints through deterministic engine\n- [ ] Maintains context across 5+ turns\n- [ ] Falls back to form-based config when unclear\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:02:50.676628609Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:02:50.676628609Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:02:50.676628609Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.1","title":"CONV-001: Create dialogue_state database schema","description":"## CONV-001: Create dialogue_state database schema\n\n### Background\nStore conversational state for multi-turn constraint solving sessions.\n\n### Acceptance Criteria\n- [ ] Create `dialogue_sessions` table:\n  - id, slack_thread_id, user_id, created_at, expires_at\n  - current_intent (JSON), pending_clarifications (JSON)\n  - quote_draft_id (nullable), status (active/completed/expired)\n- [ ] Create `dialogue_turns` table for history:\n  - session_id, turn_number, user_message, bot_response\n- [ ] Add indexes on thread_id and user_id\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:03.966191853Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:03.966191853Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.1","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:03.966191853Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.2","title":"CONV-002: Implement intent extraction service","description":"## CONV-002: Implement intent extraction service\n\n### Background\nParse natural language for product mentions, constraints, and user goals.\n\n### Acceptance Criteria\n- [ ] Create `IntentExtractor` in `src/conversation/`\n- [ ] Extract entities: product_names, quantities, budgets, timelines\n- [ ] Pattern matching for common phrases (regex-based)\n- [ ] Optional: lightweight LLM integration for complex parsing\n- [ ] Return structured Intent object with confidence scores\n- [ ] Handle ambiguous intents with clarification requests\n- [ ] Unit tests for 20+ example phrases\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:06.154580576Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:28.472877656Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.2","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:06.154580576Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.2","depends_on_id":"bd-70d.2.1","type":"blocks","created_at":"2026-02-23T11:29:28.472805681Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.3","title":"CONV-003: Build constraint mapping engine","description":"## CONV-003: Build constraint mapping engine\n\n### Background\nBridge natural language intents to deterministic constraint engine rules.\n\n### Acceptance Criteria\n- [ ] Create `ConstraintMapper` in `src/conversation/`\n- [ ] Map extracted intents to product catalog items\n- [ ] Convert budget constraints to valid configurations\n- [ ] Validate mappings through constraint engine\n- [ ] Handle incomplete mappings with clarifying questions\n- [ ] Return ConstraintSet for solver\n- [ ] Unit tests for mapping accuracy\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:12.193361612Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:28.686842986Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.3","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:12.193361612Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.3","depends_on_id":"bd-70d.2.2","type":"blocks","created_at":"2026-02-23T11:29:28.686784817Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.4","title":"CONV-004: Create conversational Slack message handler","description":"## CONV-004: Create conversational Slack message handler\n\n### Background\nHandle threaded conversations for natural language quote building.\n\n### Acceptance Criteria\n- [ ] Add Slack event handler for conversational messages\n- [ ] Detect conversation start vs continuation\n- [ ] Maintain dialogue state across turns\n- [ ] Generate contextual responses with Block Kit\n- [ ] Handle /done command to finalize quote\n- [ ] Timeout inactive sessions (30 min default)\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:14.121591451Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:28.903390622Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.4","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:14.121591451Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.4","depends_on_id":"bd-70d.2.3","type":"blocks","created_at":"2026-02-23T11:29:28.903327083Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.5","title":"CONV-005: Add /quotey chat slash command","description":"## CONV-005: Add /quotey chat slash command\n\n### Background\nStart conversational quote building from slash command.\n\n### Acceptance Criteria\n- [ ] Register `/quotey chat` slash command\n- [ ] Accept optional initial request as parameter\n- [ ] Start new dialogue session\n- [ ] Return welcome message with hints\n- [ ] Handle busy state (existing session)\n- [ ] Integration test\n- [ ] `cargo test` passes","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:29:07.325432640Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:29.115096995Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.5","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:29:07.325432640Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.5","depends_on_id":"bd-70d.2.4","type":"blocks","created_at":"2026-02-23T11:29:29.115037152Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3","title":"FEAT-03: Emoji-Based Micro-Approvals","description":"# FEAT-03: Emoji-Based Micro-Approvals\n\n## Feature Overview\n\nRemove friction from the #1 CPQ bottleneck: **waiting for approvals**. Senior approvers can grant exceptions via simple emoji reactions () on Slack threads. The system captures this as valid approval with full audit trail.\n\n### The Problem This Solves\n\nApproval workflows kill deal velocity:\n- Reps wait hours/days for email responses\n- Approvers don't want to log into another system\n- Urgent deals stall over $5k exceptions\n- Audit trails are manual and error-prone\n\nEmoji approvals meet approvers where they already are (Slack) with zero friction.\n\n### How It Works\n\n1. **Exception Detection**: System detects discount/config exceeds thresholds\n2. **Smart Routing**: @mentions correct approver with context\n3. **Emoji Response**: Approver taps  (approve),  (reject), or  (discuss)\n4. **Instant Capture**: Reaction logged as formal approval with cryptographic audit\n5. **Thread Update**: Quote automatically advances to next stage\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nQuotey: \"@sarah-vp-sales This quote needs VP approval:\n         Customer: Acme Corp (strategic account)\n         Value: $67k ARR\n         Discount: 23% (threshold: 20%)\n         Term: 2-year commitment\n        \n         to approve |  to reject |  to discuss\"\n\n[Sarah taps  within 30 seconds]\n\nQuotey: \" Approved by @sarah-vp-sales at 2:34pm\n        Quote advancing to finalization...\"\n```\n\n### Technical Architecture\n\n```\n          \n  Slack Emoji     Reaction           Approval       \n  Event                Handler                 Validator      \n          \n                                                            \n                                                            \n                              \n  Audit Logger                                   Quote State    \n  (Immutable)                                    Machine        \n                              \n```\n\n### Components\n\n- **Reaction Handler**: Process Slack emoji reaction events\n- **Authority Validator**: Verify reactor has approval authority for this exception type\n- **Approval State Machine**: Transition quote based on valid approval\n- **Audit Logger**: Cryptographically-signed approval record\n\n### Security & Compliance\n\n- Emoji only valid from authorized approvers\n- Reaction timestamp + user ID + message ID captured\n- Immutable audit trail (hash chain)\n- Reversible within 5 minutes (misclick protection)\n\n### Integration Points\n\n- Slack Events API (reaction_added)\n- Existing approval workflow engine\n- Immutable ledger (Feature 08)\n- Notification system\n\n### Acceptance Criteria\n- [ ]  from authorized approver = valid approval\n- [ ] Unauthorized emoji reactions ignored with DM warning\n- [ ] Approval logged with: who, what, when, context\n- [ ] Quote state advances automatically on approval\n- [ ] 5-minute undo window for misclicks\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:03:00.046934541Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:03:00.046934541Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:00.046934541Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.1","title":"EMOJI-001: Create emoji_approvals database schema","description":"## EMOJI-001: Create emoji_approvals database schema\n\n### Background\nStore emoji-based approvals with full audit trail.\n\n### Acceptance Criteria\n- [ ] Create `emoji_approvals` table:\n  - id, quote_id, approver_user_id, emoji (//)\n  - slack_message_id, slack_timestamp\n  - approval_type (discount/config/etc.), metadata (JSON)\n  - created_at, undo_until (5-min window)\n- [ ] Create `approval_audit_log` table for immutability\n- [ ] Add indexes on quote_id and approver_id\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:16.690554635Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:16.690554635Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.1","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:05:16.690554635Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.2","title":"EMOJI-002: Implement Slack emoji reaction handler","description":"## EMOJI-002: Implement Slack emoji reaction handler\n\n### Background\nProcess emoji reactions as approval events.\n\n### Acceptance Criteria\n- [ ] Subscribe to `reaction_added` Slack events\n- [ ] Filter for    emojis on quote messages\n- [ ] Validate reactor has approval authority\n- [ ] Store approval in database\n- [ ] Trigger quote state transition\n- [ ] Send confirmation DM to approver\n- [ ] Handle undo within 5-minute window\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:18.967506564Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:29.326905230Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.2","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:05:18.967506564Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.2","depends_on_id":"bd-70d.3.1","type":"blocks","created_at":"2026-02-23T11:29:29.326852610Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.3","title":"EMOJI-003: Add approval validation service","description":"## EMOJI-003: Add approval validation service\n\n### Background\nValidate that emoji approver has authority for the specific approval type.\n\n### Acceptance Criteria\n- [ ] Create `ApprovalValidator` in `src/approvals/`\n- [ ] Check approver role against approval requirements\n- [ ] Validate discount % against approver's limit\n- [ ] Account tier-based authority checks\n- [ ] Return detailed validation result (allowed/denied + reason)\n- [ ] Unit tests for various scenarios\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:26.763388851Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:29.536801712Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.3","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:05:26.763388851Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.3","depends_on_id":"bd-70d.3.1","type":"blocks","created_at":"2026-02-23T11:29:29.536750605Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.4","title":"EMOJI-004: Add Slack Block Kit approval request cards","description":"## EMOJI-004: Add Slack Block Kit approval request cards\n\n### Background\nRich approval request UI with emoji action buttons.\n\n### Acceptance Criteria\n- [ ] Create `ApprovalRequestCard` in `src/slack/blocks/`\n- [ ] Display quote summary (customer, value, discount)\n- [ ] Show    action buttons\n- [ ] Include context on approval requirements\n- [ ] Style appropriately for urgency\n- [ ] Unit tests for card generation\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:06:18.254284648Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:29.751702334Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.4","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:06:18.254284648Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.4","depends_on_id":"bd-70d.3.3","type":"blocks","created_at":"2026-02-23T11:29:29.751655756Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4","title":"FEAT-04: Ghost Quotes - Predictive Opportunity Creation","description":"# FEAT-04: Ghost Quotes - Predictive Opportunity Creation\n\n## Feature Overview\n\nThe system monitors Slack channels for **buying signals** (competitor mentions, budget discussions, timeline pressure) and proactively creates draft quotes when confidence is high. Reps get DM: \"Sounds like Acme is shopping. I drafted a quote based on their last purchase.\"\n\n### The Problem This Solves\n\nOpportunities emerge in conversation before they're formalized:\n- Customer mentions \"evaluating options\" in #general\n- Competitor name drops in #random\n- Budget discussions in project channels\n\nReps miss 60%+ of these signals. Ghost Quotes captures them automatically.\n\n### How It Works\n\n1. **Signal Detection**: Monitor channels for buying intent keywords\n2. **Entity Extraction**: Identify company, use case, stakeholders\n3. **Context Enrichment**: Pull customer history, past quotes, preferences\n4. **Confidence Scoring**: ML model scores opportunity likelihood\n5. **Draft Generation**: Auto-create quote with suggested configuration\n6. **Proactive Delivery**: DM rep with draft + confidence score\n\n### User Experience\n\n**Behind the Scenes:**\n```\n[In #customer-success channel]\nCustomer: \"We're looking to expand to 3 more departments next quarter\"\n\n[Ghost Quotes detects signal: \"expand\" + timeline + departments]\n[Extracts: Acme Corp, growth use case, Q2 timeline]\n[Pulls: Last quote was Enterprise 100-seat, $45k]\n[Drafts: Enterprise 300-seat upgrade, $87k with growth discount]\n\n[DM to rep]\nQuotey: \" Ghost Quote detected\n        Acme Corp mentioned expansion in #customer-success\n        Confidence: 78%\n        \n        I drafted: Enterprise 300-seat upgrade\n        Suggested: $87k (23% growth discount pre-applied)\n        \n        [View Draft] [Dismiss] [Schedule Follow-up]\"\n```\n\n### Technical Architecture\n\n```\n          \n  Slack Message   Signal Detector    Context        \n  Stream               (Keywords + NLP)        Enricher       \n          \n                                                         \n                                                         \n          \n  Confidence             Draft Quote           Customer       \n  Scorer (ML)      Generator             History DB     \n          \n```\n\n### Components\n\n- **Signal Detector**: Keyword patterns, entity recognition\n- **Context Enricher**: Join with CRM data, past quotes\n- **Confidence Model**: Logistic regression on historical conversions\n- **Draft Generator**: Seed quote from similar past deals\n- **Notification Router**: DM appropriate rep with context\n\n### Privacy & Ethics\n\n- Only monitors public channels (never DMs)\n- Respects channel notification settings\n- Reps can disable for specific channels\n- Confidence threshold prevents spam (default: 70%)\n\n### Integration Points\n\n- Slack Events API (message monitoring)\n- CRM integration (customer lookup)\n- Deal DNA (similar deal lookup)\n- Notification system\n\n### Acceptance Criteria\n- [ ] Detects 80%+ of explicit buying signals\n- [ ] False positive rate <10% (to avoid spam)\n- [ ] Draft quotes seeded from customer history\n- [ ] Rep can convert to real quote in one click\n- [ ] Full audit trail of signal  quote creation\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:03:09.388813270Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:03:09.388813270Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:09.388813270Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.1","title":"GHOST-001: Create ghost_signals database schema","description":"## GHOST-001: Create ghost_signals database schema\n\n### Background\nStore buying signals and ghost quote drafts.\n\n### Acceptance Criteria\n- [ ] Create `buying_signals` table:\n  - id, slack_channel_id, slack_message_id, signal_type\n  - confidence_score, detected_company, extracted_intent\n  - matched_rep_id, status (new/processed/dismissed)\n- [ ] Create `ghost_quotes` table:\n  - id, signal_id, draft_quote_id, confidence_score\n  - rep_notified_at, rep_response (accepted/dismissed)\n- [ ] Add indexes on matched_rep_id and status\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:29.280127682Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:29.280127682Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.1","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:05:29.280127682Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.2","title":"GHOST-002: Implement signal detection engine","description":"## GHOST-002: Implement signal detection engine\n\n### Background\nMonitor Slack messages for buying intent keywords and patterns.\n\n### Acceptance Criteria\n- [ ] Create `SignalDetector` in `src/ghost/`\n- [ ] Keyword patterns: budget, expand, looking for, evaluating, etc.\n- [ ] Entity extraction: company names, departments, timelines\n- [ ] Competitor mention detection\n- [ ] Return Signal objects with confidence scores\n- [ ] Configurable confidence threshold (default 70%)\n- [ ] Unit tests with example messages\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:31.554920714Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:29.965484648Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.2","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:05:31.554920714Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.2","depends_on_id":"bd-70d.4.1","type":"blocks","created_at":"2026-02-23T11:29:29.965430457Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.3","title":"GHOST-003: Build ghost quote draft generator","description":"## GHOST-003: Build ghost quote draft generator\n\n### Background\nAuto-create quote drafts from detected buying signals.\n\n### Acceptance Criteria\n- [ ] Create `GhostQuoteGenerator` in `src/ghost/`\n- [ ] Fetch customer history for context\n- [ ] Use Deal DNA to find similar past deals\n- [ ] Generate suggested configuration\n- [ ] Apply appropriate discount based on patterns\n- [ ] Create draft quote in database\n- [ ] Return GhostQuote with confidence score\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:11.677633351Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:55.162719592Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.3","depends_on_id":"bd-70d.1.3","type":"blocks","created_at":"2026-02-23T11:29:55.162657806Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.3","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:06:11.677633351Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.3","depends_on_id":"bd-70d.4.2","type":"blocks","created_at":"2026-02-23T11:29:30.177177706Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.4","title":"GHOST-004: Add ghost quote notification DM handler","description":"## GHOST-004: Add ghost quote notification DM handler\n\n### Background\nSend proactive DMs to reps when ghost quotes are created.\n\n### Acceptance Criteria\n- [ ] Create `GhostNotifier` in `src/ghost/`\n- [ ] Format ghost quote DM with context\n- [ ] Include [View Draft] [Dismiss] [Schedule] buttons\n- [ ] Track rep responses\n- [ ] Respect notification preferences\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:29:12.133205936Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:30.395373327Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.4","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:29:12.133205936Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.4","depends_on_id":"bd-70d.4.3","type":"blocks","created_at":"2026-02-23T11:29:30.395320849Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5","title":"FEAT-05: Explainable Policy Engine","description":"# FEAT-05: Explainable Policy Engine\n\n## Feature Overview\n\nEvery rejected discount or configuration conflict gets an **instant plain-English explanation** with cited rules. \"This exceeds your approval limit by $12k (Rule: VP approval required >$50k)\" AND offers resolution paths: \"Tag @sarah-vp-sales or reduce quantity by 2 units.\"\n\n### The Problem This Solves\n\nCurrent CPQ black boxes frustrate users:\n- \"Why was my discount rejected?\"\n- \"What rule blocked this configuration?\"\n- \"How do I fix this?\"\n- Policy buried in documentation reps never read\n\nExplainable Policy turns opaque rules into actionable guidance.\n\n### How It Works\n\n1. **Policy Violation Detection**: Constraint engine flags violation\n2. **Rule Citation**: Identify specific policy rules triggered\n3. **Explanation Generation**: Natural language summary of the issue\n4. **Resolution Pathfinding**: Suggest alternative valid configurations\n5. **Context Formatting**: Tailor explanation to user's role/seniority\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"/quotey discount 25%\"\nQuotey: \" Discount rejected\n        \n        Why: 25% exceeds your approval authority (max: 20%)\n        Rule: Section 4.2 - Manager approval required >20%\n        \n        Resolution options:\n        1. Reduce to 20% (automatically approved)\n        2. @sarah-vp-sales for VP override\n        3. Apply 2-year term for automatic 25% eligibility\n        \n        [Apply 20%] [Request Override] [View Policy]\"\n```\n\n### Technical Architecture\n\n```\n          \n  Constraint      Explanation        Resolution     \n  Engine               Generator               Pathfinder     \n  (Violation)                                                 \n          \n                                                         \n                                                         \n            \n  Policy Rules           Natural Language        Alternative    \n  Registry               Templates               Configs        \n            \n```\n\n### Components\n\n- **Rule Parser**: Load policy rules with explanation metadata\n- **Explanation Generator**: Map violations to human-readable text\n- **Resolution Engine**: Calculate valid alternative configurations\n- **Citation System**: Link explanations to specific rule IDs/versions\n- **Policy Browser**: Interactive rule exploration UI\n\n### Policy Rule Schema Extension\n\n```json\n{\n  \"rule_id\": \"DISCOUNT_MGR_MAX\",\n  \"condition\": \"discount > 20%\",\n  \"explanation\": \"Manager approval limited to 20% discounts\",\n  \"resolution_hints\": [\"Reduce discount\", \"Request VP approval\"],\n  \"documentation_url\": \"/policies/pricing#manager-limits\"\n}\n```\n\n### Integration Points\n\n- Constraint engine (violation events)\n- Slack Block Kit (rich explanations)\n- Policy documentation (link generation)\n- User profile (role-based explanations)\n\n### Acceptance Criteria\n- [ ] Every rejection includes specific rule citation\n- [ ] Explanation generated in <50ms\n- [ ] At least 2 resolution paths offered when available\n- [ ] Policy links open relevant documentation\n- [ ] Explanations adapt to user role (rep vs manager)\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:03:24.185577404Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:03:24.185577404Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:24.185577404Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.1","title":"EXPLAIN-001: Create policy_explanations database schema","description":"## EXPLAIN-001: Create policy_explanations database schema\n\n### Background\nStore policy rule metadata for explainable violations.\n\n### Acceptance Criteria\n- [ ] Extend `policy_rules` table with:\n  - explanation_template (text)\n  - resolution_hints (JSON array)\n  - documentation_url (string)\n  - rule_category (pricing/approval/config)\n- [ ] Create `explanation_cache` table for generated explanations\n- [ ] Add indexes on rule_category\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:34.022920992Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:34.022920992Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.1","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:05:34.022920992Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.2","title":"EXPLAIN-002: Implement explanation generator service","description":"## EXPLAIN-002: Implement explanation generator service\n\n### Background\nGenerate human-readable explanations for policy violations.\n\n### Acceptance Criteria\n- [ ] Create `ExplanationGenerator` in `src/policy/`\n- [ ] Template-based explanation generation\n- [ ] Variable substitution (discount %, limit, etc.)\n- [ ] Resolution path suggestion\n- [ ] Role-based explanation tailoring\n- [ ] Cite specific rule IDs and documentation links\n- [ ] Unit tests for various violation types\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:04.678152469Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:42.067733205Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.2","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:06:04.678152469Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.2","depends_on_id":"bd-70d.5.1","type":"blocks","created_at":"2026-02-23T11:29:42.067676438Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.3","title":"EXPLAIN-003: Add explanation Slack Block Kit renderer","description":"## EXPLAIN-003: Add explanation Slack Block Kit renderer\n\n### Background\nRender policy explanations with resolution options in Slack.\n\n### Acceptance Criteria\n- [ ] Create `ExplanationCard` in `src/slack/blocks/`\n- [ ] Display violation reason with rule citation\n- [ ] Show 2-3 resolution buttons\n- [ ] Include \"View Policy\" link\n- [ ] Style with appropriate emojis (  )\n- [ ] Unit tests for card generation\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:06:45.420724945Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:06:45.420724945Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.3","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:06:45.420724945Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.4","title":"EXPLAIN-003: Add Slack Block Kit explanation cards","description":"## EXPLAIN-003: Add Slack Block Kit explanation cards\n\n### Background\nRich explanation UI with rule citations and resolution options.\n\n### Acceptance Criteria\n- [ ] Create `ExplanationCard` in `src/slack/blocks/`\n- [ ] Display violation reason with rule citation\n- [ ] Show 2-3 resolution path buttons\n- [ ] Link to policy documentation\n- [ ] Include relevant emojis (  )\n- [ ] Collapsible details section\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:47.557627261Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:42.283618944Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.4","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:28:47.557627261Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.4","depends_on_id":"bd-70d.5.2","type":"blocks","created_at":"2026-02-23T11:29:42.283569211Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6","title":"FEAT-06: Live Multi-User Quote Sessions","description":"# FEAT-06: Live Multi-User Quote Sessions\n\n## Feature Overview\n\nMultiple stakeholders edit the **same quote simultaneously** in a Slack thread (like Google Docs). Conflict resolution uses deterministic rules (last valid edit wins based on authority). Shows who's editing what in real-time.\n\n### The Problem This Solves\n\nQuote collaboration is chaotic:\n- Email threads with conflicting versions\n- \"Who has the latest?\" confusion\n- Senior rep overrides junior without visibility\n- No awareness of concurrent changes\n\nLive sessions bring order to collaboration.\n\n### How It Works\n\n1. **Session Initiation**: Quote enters \"collaborative mode\"\n2. **Presence Tracking**: Show who's viewing/editing\n3. **Operational Transform**: Merge concurrent edits safely\n4. **Authority Resolution**: Senior role wins on conflicts\n5. **Real-time Sync**: All participants see changes instantly\n6. **Session History**: Full edit log with attribution\n\n### User Experience\n\n**Slack Thread Flow:**\n```\n[Quote enters collaborative mode]\nQuotey: \" Live Session Active\n        @john-ae (editing line items)\n        @sarah-vp (viewing)\n        \n        Last change: Quantity updated 10  15 (by @john-ae, 2s ago)\n        \n        [Current Quote Preview]\n        \n         Tip: Type /done when finished editing\"\n\n[john changes discount from 10% to 20%]\n[sarah simultaneously changes to 25% - conflict!]\n\nQuotey: \" Edit conflict resolved\n        @sarah-vp's change (25%) applied\n        @john-ae's change (20%) overridden\n        Reason: VP authority > AE authority\"\n```\n\n### Technical Architecture\n\n```\n          \n  Slack Thread     Session Manager   Presence       \n  (WebSocket)                                  Tracker        \n          \n                                                         \n                                                         \n            \n  Block Kit              Operational             Authority      \n  Renderer               Transform               Resolver       \n            \n```\n\n### Components\n\n- **Session Manager**: Create/destroy collaborative sessions\n- **Operational Transform Engine**: Merge concurrent operations\n- **Presence Tracker**: Who's active, what they're editing\n- **Authority Resolver**: Role-based conflict resolution\n- **Change Broadcast**: WebSocket-based real-time updates\n\n### Conflict Resolution Rules\n\n1. Authority hierarchy: VP > Manager > AE > SDR\n2. Same authority: timestamp wins (later edit prevails)\n3. Invalid changes: rejected with explanation\n4. Blocking edits: require confirmation from affected party\n\n### Data Model\n\n- `quote_sessions` table: session state, participants, lock status\n- `quote_operations` table: operation log (insert/update/delete)\n- `presence_events` table: join/leave/idle tracking\n\n### Integration Points\n\n- Slack Socket Mode (real-time messaging)\n- Quote state machine (collaborative state)\n- User roles/permissions (authority)\n- Notification system (conflict alerts)\n\n### Acceptance Criteria\n- [ ] 3+ users can edit same quote simultaneously\n- [ ] Changes visible to all within 1 second\n- [ ] Conflicts auto-resolve based on authority\n- [ ] Session history shows who changed what\n- [ ] Graceful handling of disconnections\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:03:34.729815094Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:03:34.729815094Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:34.729815094Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6.1","title":"COLLAB-001: Create quote_sessions database schema","description":"## COLLAB-001: Create quote_sessions database schema\n\n### Background\nStore collaborative session state for multi-user quote editing.\n\n### Acceptance Criteria\n- [ ] Create `quote_sessions` table:\n  - id, quote_id, status (active/paused/closed)\n  - created_by, created_at, expires_at\n- [ ] Create `session_participants` table:\n  - session_id, user_id, role, joined_at, last_activity\n- [ ] Create `session_operations` table:\n  - id, session_id, user_id, operation_type, payload, timestamp\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:41.070723358Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:41.070723358Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6.1","depends_on_id":"bd-70d.6","type":"parent-child","created_at":"2026-02-23T11:05:41.070723358Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6.2","title":"COLLAB-002: Implement operational transform engine","description":"## COLLAB-002: Implement operational transform engine\n\n### Background\nMerge concurrent edits from multiple users safely.\n\n### Acceptance Criteria\n- [ ] Create `OperationalTransform` in `src/collab/`\n- [ ] Define operation types: Insert, Update, Delete\n- [ ] Transform function: reconcile concurrent operations\n- [ ] Authority-based conflict resolution\n- [ ] Apply operations to quote state atomically\n- [ ] Maintain operation history\n- [ ] Unit tests for conflict scenarios\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:16.136333801Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:42.497779703Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6.2","depends_on_id":"bd-70d.6","type":"parent-child","created_at":"2026-02-23T11:06:16.136333801Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.2","depends_on_id":"bd-70d.6.1","type":"blocks","created_at":"2026-02-23T11:29:42.497726983Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6.3","title":"COLLAB-003: Add WebSocket real-time sync handler","description":"## COLLAB-003: Add WebSocket real-time sync handler\n\n### Background\nReal-time updates for collaborative quote sessions.\n\n### Acceptance Criteria\n- [ ] Create WebSocket handler for session sync\n- [ ] Broadcast operations to all participants\n- [ ] Handle connection/disconnection\n- [ ] Implement presence heartbeat\n- [ ] Conflict resolution notifications\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:29:12.350118551Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:42.712530783Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6.3","depends_on_id":"bd-70d.6","type":"parent-child","created_at":"2026-02-23T11:29:12.350118551Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.3","depends_on_id":"bd-70d.6.2","type":"blocks","created_at":"2026-02-23T11:29:42.712465230Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.7","title":"FEAT-07: Win Probability Pricing Optimizer","description":"# FEAT-07: Win Probability Pricing Optimizer\n\n## Feature Overview\n\nDeterministic pricing meets ML intelligence: The system calculates not just *can* we price at $X, but *should* we? Shows a probability curve: \"At $45k = 78% win probability, at $52k = 45% probability. Break-even optimization suggests $48.5k.\"\n\n### The Problem This Solves\n\nReps price based on gut feel:\n- \"Can I get away with 30% discount?\"\n- \"Will this price win the deal?\"\n- \"Am I leaving money on the table?\"\n\nData-informed pricing removes guesswork.\n\n### How It Works\n\n1. **Historical Data Collection**: Gather past quotes + outcomes\n2. **Feature Extraction**: Customer segment, product mix, timing, etc.\n3. **Model Training**: Logistic regression on win/loss patterns\n4. **Probability Prediction**: Score current quote variants\n5. **Optimization**: Find price that maximizes expected value\n6. **Recommendation**: Present curve + suggested price\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"Thinking of quoting $52k for Acme\"\nQuotey: \" Pricing Intelligence\n        \n        Win Probability Curve:\n        $45k  78%\n        $48k  65%\n        $52k  45%\n        $55k  32%\n        \n         Optimal: $48.5k (59% prob, max expected value)\n         Based on: 23 similar deals in Enterprise/SaaS segment\n        \n        [Apply $48.5k] [Keep $52k] [View Similar Deals]\"\n```\n\n### Technical Architecture\n\n```\n          \n  Quote Features  Win Probability    Pricing        \n  Extractor            Model (ML)              Optimizer      \n          \n                                                         \n                                                         \n            \n  Deal DNA               Historical              Recommendation \n  (Similarity)     Outcomes DB             Engine         \n            \n```\n\n### Model Details\n\n- **Algorithm**: Logistic regression (interpretable, fast)\n- **Features**: Customer segment, product tier, discount %, term, seasonality\n- **Training**: Weekly retraining on new outcomes\n- **Calibration**: Probability outputs validated against actual win rates\n\n### Expected Value Calculation\n\n```\nExpected Value = Price  Win Probability\n\nExample:\n- $45k  78% = $35.1k EV\n- $48.5k  59% = $28.6k EV\n- $52k  45% = $23.4k EV\n\nOptimal is $45k for max EV, but $48.5k balances revenue and win rate\n```\n\n### Safety Safeguards\n\n- Model predictions are ADVISORY only\n- Never override deterministic pricing rules\n- Confidence interval displayed with all predictions\n- Rep always makes final pricing decision\n\n### Integration Points\n\n- Deal DNA (similar deal lookup for features)\n- Quote service (current quote data)\n- ML inference pipeline (separate service)\n- Slack Block Kit (curve visualization)\n\n### Acceptance Criteria\n- [ ] Win probability predictions within 10% of actual outcomes\n- [ ] Optimization suggestion updates in <2 seconds\n- [ ] Confidence intervals displayed for all predictions\n- [ ] Model retraining happens automatically weekly\n- [ ] Historical accuracy metrics visible to admins\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:03:46.750279453Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:03:46.750279453Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.7","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:46.750279453Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.7.1","title":"WIN-001: Create win_probability database schema","description":"## WIN-001: Create win_probability database schema\n\n### Background\nStore historical deal outcomes and model predictions.\n\n### Acceptance Criteria\n- [ ] Create `deal_outcomes` table:\n  - quote_id, outcome (won/lost), final_price, close_date\n  - customer_segment, product_mix, sales_cycle_days\n- [ ] Create `win_probability_models` table:\n  - id, version, training_date, accuracy_score, model_path\n- [ ] Create `prediction_cache` table:\n  - quote_id, model_version, win_probability, predicted_at\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:43.600718492Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:43.600718492Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.7.1","depends_on_id":"bd-70d.7","type":"parent-child","created_at":"2026-02-23T11:05:43.600718492Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.7.2","title":"WIN-002: Implement win probability ML model","description":"## WIN-002: Implement win probability ML model\n\n### Background\nTrain and run logistic regression model for win probability predictions.\n\n### Acceptance Criteria\n- [ ] Create `WinProbabilityModel` in `src/ml/`\n- [ ] Feature extraction from quote data\n- [ ] Logistic regression implementation (or use crate)\n- [ ] Training pipeline on historical outcomes\n- [ ] Prediction method: `predict_win_probability(quote) -> f64`\n- [ ] Model versioning and persistence\n- [ ] Accuracy evaluation (>70% on test set)\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:13.939413788Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:55.376174930Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.7.2","depends_on_id":"bd-70d.1.3","type":"blocks","created_at":"2026-02-23T11:29:55.376115629Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7.2","depends_on_id":"bd-70d.7","type":"parent-child","created_at":"2026-02-23T11:06:13.939413788Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7.2","depends_on_id":"bd-70d.7.1","type":"blocks","created_at":"2026-02-23T11:29:42.929519271Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8","title":"FEAT-08: Immutable Quote Ledger","description":"# FEAT-08: Immutable Quote Ledger\n\n## Feature Overview\n\nEvery quote version is **hashed and chained** (like a blockchain but local/SQLite). Customers get verification links proving quote authenticity. Internally, no \"he said/she said\" about what was promised. Zero-trust quote integrity without enterprise blockchain bloat.\n\n### The Problem This Solves\n\nQuote disputes damage trust:\n- \"That's not the price you quoted me\"\n- \"Someone changed the terms after approval\"\n- \"I have no proof of what was promised\"\n- Audit trails can be tampered with\n\nCryptographic integrity makes quotes tamper-evident and trustless.\n\n### How It Works\n\n1. **Version Hashing**: SHA-256 hash of quote content + metadata\n2. **Chain Linking**: Each version includes hash of previous version\n3. **Timestamping**: Cryptographic timestamp from internal clock\n4. **Verification Link**: Customer-facing URL for integrity check\n5. **Tamper Detection**: Any change breaks the hash chain\n6. **Audit Export**: Full chain export for compliance\n\n### User Experience\n\n**Customer Verification:**\n```\n[Customer receives quote PDF with verification link]\n\nCustomer clicks: https://quotey.company.com/verify/quote-abc-123\n\nPage shows:\n Quote Integrity Verified\n\nQuote ID: quote-abc-123\nVersion: 3 of 5\nCreated: 2026-02-23 14:32 UTC\nLast Modified: 2026-02-23 16:45 UTC\nVerified By: cryptographic-hash-chain\n\nStatus:  Untampered\nHash Chain: abc123...  def456...  ghi789...\n\n[Download Verified PDF] [View Audit Trail]\n```\n\n**Internal Audit Trail:**\n```\nQuotey: \"/quotey audit quote-abc-123\"\n\n[Shows full version history with signatures]\nVersion 1: Created by @john-ae, hash: a1b2c3...\nVersion 2: Modified by @sarah-vp, hash: d4e5f6... (prev: a1b2c3...)\nVersion 3: Approved by @sarah-vp, hash: g7h8i9... (prev: d4e5f6...)\n\nChain integrity:  Valid\n```\n\n### Technical Architecture\n\n```\n          \n  Quote Change    Hash Generator     Ledger Entry   \n  Event                (SHA-256)               Creation       \n          \n                                                            \n                                          \n          Previous Hash    \n                         Reference        \n                        \n```\n\n### Cryptographic Design\n\n```rust\nstruct LedgerEntry {\n    entry_id: UUID,\n    quote_id: String,\n    version: u32,\n    content_hash: String,      // SHA-256 of quote JSON\n    prev_hash: Option<String>, // Hash of previous version\n    timestamp: DateTime<Utc>,\n    actor_id: String,          // Who made the change\n    action: ActionType,        // Create, Update, Approve, etc.\n    signature: String,         // HMAC of all fields\n}\n```\n\n### Components\n\n- **Hash Generator**: SHA-256 of canonical quote representation\n- **Chain Manager**: Link entries, verify chain integrity\n- **Signature Engine**: HMAC with system secret key\n- **Verification Service**: Public endpoint for integrity checks\n- **Audit Exporter**: Full chain export for compliance\n\n### Storage\n\n- `quote_ledger` table: All ledger entries indexed by quote\n- `ledger_signatures` table: Signature verification data\n- No external blockchain required - pure SQLite implementation\n\n### Integration Points\n\n- Quote state machine (all state changes logged)\n- Quote API (verification endpoints)\n- Customer portal (verification page)\n- Compliance export (CSV/JSON chain dump)\n\n### Acceptance Criteria\n- [ ] Every quote change creates immutable ledger entry\n- [ ] Hash chain validates in O(n) time\n- [ ] Tampering detected and flagged immediately\n- [ ] Customer verification page loads in <1s\n- [ ] Full audit export available in <5s\n- [ ] No external dependencies (self-contained)\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:03:58.067799454Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:03:58.067799454Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:58.067799454Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8.1","title":"LEDGER-001: Create quote_ledger database schema","description":"## LEDGER-001: Create quote_ledger database schema\n\n### Background\nStore immutable cryptographic ledger entries for quote versions.\n\n### Acceptance Criteria\n- [ ] Create `quote_ledger` table:\n  - entry_id, quote_id, version_number\n  - content_hash (SHA-256), prev_hash (nullable)\n  - actor_id, action_type, timestamp\n  - signature (HMAC), metadata (JSON)\n- [ ] Create `ledger_verifications` table:\n  - entry_id, verified_at, verification_result\n- [ ] Add indexes on quote_id and content_hash\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:46.405497864Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:46.405497864Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8.1","depends_on_id":"bd-70d.8","type":"parent-child","created_at":"2026-02-23T11:05:46.405497864Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8.2","title":"LEDGER-002: Implement cryptographic hash chain service","description":"## LEDGER-002: Implement cryptographic hash chain service\n\n### Background\nGenerate SHA-256 hashes and chain quote versions for immutability.\n\n### Acceptance Criteria\n- [ ] Create `LedgerService` in `src/ledger/`\n- [ ] Implement SHA-256 hashing of quote content\n- [ ] Chain linking: each entry references previous hash\n- [ ] HMAC signing with system secret key\n- [ ] Method: `append_entry(quote, action, actor) -> LedgerEntry`\n- [ ] Method: `verify_chain(quote_id) -> VerificationResult`\n- [ ] Unit tests for hash consistency and chain integrity\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:58.177501021Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:43.142807345Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8.2","depends_on_id":"bd-70d.8","type":"parent-child","created_at":"2026-02-23T11:05:58.177501021Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.2","depends_on_id":"bd-70d.8.1","type":"blocks","created_at":"2026-02-23T11:29:43.142742462Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8.3","title":"LEDGER-003: Create quote verification API endpoint","description":"## LEDGER-003: Create quote verification API endpoint\n\n### Background\nPublic endpoint for customers to verify quote integrity.\n\n### Acceptance Criteria\n- [ ] Add GET `/verify/quote/:id` endpoint\n- [ ] Return verification status (valid/tampered)\n- [ ] Display hash chain for transparency\n- [ ] Show version history\n- [ ] HTML page with quote details\n- [ ] JSON API for programmatic verification\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:43.727530918Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:43.355015714Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8.3","depends_on_id":"bd-70d.8","type":"parent-child","created_at":"2026-02-23T11:28:43.727530918Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.3","depends_on_id":"bd-70d.8.2","type":"blocks","created_at":"2026-02-23T11:29:43.354951933Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9","title":"FEAT-09: Configuration Archaeology","description":"# FEAT-09: Configuration Archaeology\n\n## Feature Overview\n\nAsk \"Why can't I add the premium module to this config?\" and get a **full dependency walkback**: \"Because you selected Standard Hosting (line 3), which lacks API access. Premium Module requires API access. Change hosting to Enterprise or remove the failover requirement.\" Natural language forensics for constraint chains.\n\n### The Problem This Solves\n\nComplex configurations are hard to debug:\n- \"Why is this option grayed out?\"\n- \"What do I need to change to enable this feature?\"\n- \"Which rule is blocking me?\"\n- Trial-and-error configuration is frustrating\n\nConfiguration Archaeology makes the constraint graph transparent and navigable.\n\n### How It Works\n\n1. **Constraint Graph Traversal**: Map all dependencies for a configuration\n2. **Blockage Detection**: Identify which rules prevent desired state\n3. **Root Cause Analysis**: Walk back the dependency chain to origin\n4. **Explanation Generation**: Natural language description of the chain\n5. **Resolution Suggestion**: Alternative paths to achieve goal\n6. **Interactive Navigation**: Click through the constraint graph\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"Why can't I add Premium Analytics?\"\nQuotey: \" Configuration Analysis\n        \n        Premium Analytics requires:\n         Enterprise API Access  MISSING\n            Requires: Enterprise Hosting Tier\n                You have: Standard Hosting \n         Minimum 100 seats  (you have 50)\n        \n        Resolution paths:\n        1. Upgrade to Enterprise Hosting (+$12k)\n            Unlocks API Access  Enables Premium Analytics\n        2. Increase seats to 100 (+$5k)\n            Meets seat minimum  Enables Premium Analytics\n        3. Choose Standard Analytics instead (compatible)\n        \n        [Upgrade Hosting] [Add Seats] [View Standard Analytics]\"\n```\n\n### Technical Architecture\n\n```\n          \n  User Query      Dependency         Constraint     \n  (NL or               Graph Builder           Evaluator      \n   Structured)                                                \n          \n                                                         \n                                                         \n                              \n           Explanation       Resolution     \n                          Generator               Pathfinder     \n                              \n```\n\n### Components\n\n- **Dependency Graph Builder**: Construct full constraint graph for config\n- **Blockage Analyzer**: Find specific constraints blocking desired state\n- **Chain Tracer**: Walk back dependencies to root causes\n- **Explanation Generator**: Convert technical chains to human text\n- **Resolution Engine**: Calculate minimal changes to achieve goal\n\n### Constraint Graph Representation\n\n```rust\nstruct ConstraintNode {\n    node_id: String,\n    node_type: Product|Feature|Rule|Dependency,\n    status: Satisfied|Blocked|Missing,\n    requires: Vec<ConstraintEdge>,\n    required_by: Vec<ConstraintEdge>,\n}\n\nstruct ConstraintEdge {\n    from: String,\n    to: String,\n    condition: String,  // \"API Access = true\"\n}\n```\n\n### Query Types Supported\n\n- \"Why can't I add X?\"  Shows blocking dependency chain\n- \"What do I need for X?\"  Shows all requirements\n- \"What would break if I change Y?\"  Impact analysis\n- \"What's the shortest path to enable X?\"  Minimal changes\n\n### Integration Points\n\n- Constraint engine (dependency data)\n- Product catalog (requirement definitions)\n- Slack Block Kit (tree visualization)\n- Quote service (current configuration)\n\n### Acceptance Criteria\n- [ ] Explains 95%+ of configuration blocks correctly\n- [ ] Dependency chains visualized up to 5 levels deep\n- [ ] At least 2 resolution paths suggested when available\n- [ ] Explanations generated in <100ms\n- [ ] Interactive tree navigation in Slack\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:04:15.276273155Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:04:15.276273155Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:04:15.276273155Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9.1","title":"ARCH-001: Create dependency_graph storage schema","description":"## ARCH-001: Create dependency_graph storage schema\n\n### Background\nStore constraint dependency graphs for archaeology queries.\n\n### Acceptance Criteria\n- [ ] Create `constraint_nodes` table:\n  - id, config_id, node_type, node_key, status\n- [ ] Create `constraint_edges` table:\n  - id, config_id, from_node, to_node, edge_type, condition\n- [ ] Create `archaeology_queries` cache table:\n  - id, config_id, query_type, result (JSON), created_at\n- [ ] Add indexes on config_id and node_key\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:49.038770838Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:05:49.038770838Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9.1","depends_on_id":"bd-70d.9","type":"parent-child","created_at":"2026-02-23T11:05:49.038770838Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9.2","title":"ARCH-002: Build dependency graph traversal engine","description":"## ARCH-002: Build dependency graph traversal engine\n\n### Background\nTraverse constraint graphs to find blockages and paths.\n\n### Acceptance Criteria\n- [ ] Create `DependencyGraphEngine` in `src/archaeology/`\n- [ ] Build graph from product catalog constraints\n- [ ] BFS/DFS traversal for dependency chain discovery\n- [ ] Find shortest path to enable blocked feature\n- [ ] Identify root causes of configuration blocks\n- [ ] Return GraphAnalysis with paths and alternatives\n- [ ] Unit tests with sample constraint graphs\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:02.745704099Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:43.567372241Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9.2","depends_on_id":"bd-70d.9","type":"parent-child","created_at":"2026-02-23T11:06:02.745704099Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.2","depends_on_id":"bd-70d.9.1","type":"blocks","created_at":"2026-02-23T11:29:43.567319863Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9.3","title":"ARCH-003: Add Slack Block Kit dependency tree renderer","description":"## ARCH-003: Add Slack Block Kit dependency tree renderer\n\n### Background\nVisualize dependency chains as interactive tree in Slack.\n\n### Acceptance Criteria\n- [ ] Create `DependencyTreeCard` in `src/slack/blocks/`\n- [ ] Render tree structure with ASCII/emoji\n- [ ] Show status ( ) for each node\n- [ ] Collapsible sections for deep trees\n- [ ] Include resolution path buttons\n- [ ] Handle trees up to 5 levels deep\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:51.651252590Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:29:43.787221190Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9.3","depends_on_id":"bd-70d.9","type":"parent-child","created_at":"2026-02-23T11:28:51.651252590Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.3","depends_on_id":"bd-70d.9.2","type":"blocks","created_at":"2026-02-23T11:29:43.787169922Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
