{"id":"bd-256v","title":"EPIC: Research & Architecture Investigation","description":"# EPIC: Research & Architecture Investigation\n\n## Purpose\n\nThis epic contains research tasks that inform architectural decisions, validate technology choices, and reduce implementation risk. Each research task produces actionable findings that guide implementation.\n\n## Research Philosophy\n\n- **Research BEFORE coding** - Discover issues while they're cheap to fix\n- **Document findings** - Create ADRs (Architecture Decision Records) from research\n- **Validate assumptions** - Don't guess about performance, security, or feasibility\n- **Look at real-world usage** - Find production case studies, not just docs\n\n## Success Criteria\n\nEach research task must produce:\n1. Summary of findings (2-3 pages)\n2. Clear recommendations with trade-offs\n3. List of \"gotchas\" or pitfalls to avoid\n4. Decision record (if architectural impact)\n5. Implementation notes (if applicable)\n\n## Relationship to Implementation\n\nResearch tasks can run PARALLEL to foundation implementation but must complete BEFORE features that depend on them:\n\n- SQLite research → Before Deal DNA similarity queries\n- Slack research → Before production deployment\n- Constraint research → Before CPQ core implementation\n- LLM research → Before Agent runtime\n- Security research → Before handling real customer data\n\n## Research Tasks\n\n1. RCH-01: SQLite Performance & Scaling Research\n2. RCH-02: Slack Socket Mode Reliability Research\n3. RCH-03: Constraint Solver Algorithm Research\n4. RCH-04: LLM Prompt Engineering for CPQ Research\n5. RCH-05: Security & Audit Compliance Research\n6. RCH-06: PDF Generation Options Deep Dive\n7. RCH-07: CRM Integration Patterns (Composio) Research\n8. RCH-08: Async Rust Testing Strategies Research\n9. RCH-09: Single Binary Distribution & Updates Research\n10. RCH-10: CPQ Domain Expert Research","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2026-02-23T11:58:01.959383855Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:07:14.684210925Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-256v.1","title":"RCH-01: SQLite Performance & Scaling Research","description":"## RCH-01: SQLite Performance & Scaling Research\n\n### Research Question\nCan SQLite handle Quotey's workload? What are the limits? When do we need to migrate to PostgreSQL?\n\n### Background\nWe're betting on SQLite for local-first CPQ. This research validates that bet with data.\n\n### Research Areas\n\n1. **Connection Pool Limits**\n   - SQLite has single-writer limitation\n   - How does WAL mode affect concurrency?\n   - Realistic connection pool sizing\n\n2. **Query Performance at Scale**\n   - 10k quotes: query performance\n   - 100k quotes: query performance\n   - Deal DNA similarity search: vector comparison speed\n   - Index strategies for CPQ queries\n\n3. **Database Size Limits**\n   - Maximum practical DB size\n   - Performance degradation curves\n   - Vacuum/repack strategies\n\n4. **Write Performance**\n   - Quote creation throughput\n   - Audit log append performance\n   - Batch insert optimization\n\n5. **Backup & Migration**\n   - Online backup strategies\n   - Migration path to PostgreSQL if needed\n   - Export/import performance\n\n### Deliverables\n\n- [ ] Performance benchmarks (queries/sec at various data sizes)\n- [ ] Connection pool recommendation\n- [ ] Indexing strategy document\n- [ ] SQLite configuration best practices\n- [ ] Migration path to PostgreSQL (if needed)\n- [ ] ADR: SQLite vs PostgreSQL decision record\n\n### Research Methods\n\n1. Create test database with synthetic data\n2. Run load tests with `cargo bench` or `criterion`\n3. Profile slow queries with `EXPLAIN QUERY PLAN`\n4. Research SQLite tuning parameters\n5. Find production case studies using SQLite at scale\n\n### Time Estimate\n2-3 days\n\n### Blocks\n- Deal DNA implementation (depends on similarity query performance)\n- Production deployment decision","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-23T11:58:19.805164408Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:07:15.015164080Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.1","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:58:19.805164408Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-256v.10","title":"RCH-10: CPQ Domain Expert Research","description":"## RCH-10: CPQ Domain Expert Research\n\n### Research Question\nWhat do CPQ users actually need? What are their pain points? What features matter most?\n\n### Background\nWe can build the wrong thing well. Domain research ensures we build the right thing.\n\n### Research Areas\n\n1. **User Personas**\n   - Sales rep daily workflow\n   - Deal desk analyst role\n   - Sales manager approval needs\n   - IT admin configuration tasks\n\n2. **Pain Point Analysis**\n   - Current CPQ frustrations (Salesforce, etc.)\n   - Spreadsheet quoting problems\n   - Approval bottleneck causes\n   - Training/documentation gaps\n\n3. **Feature Prioritization**\n   - Must-have vs nice-to-have\n   - Frequency of use\n   - Time-saving potential\n   - Competitive differentiation\n\n4. **Integration Needs**\n   - Most common CRM systems\n   - ERP integration requirements\n   - Document storage (SharePoint, etc.)\n   - E-signature needs (DocuSign, etc.)\n\n5. **Pricing & Packaging**\n   - Pricing model preferences\n   - Deployment size expectations\n   - Support needs\n   - Compliance requirements by industry\n\n### Deliverables\n\n- [ ] User persona documents\n- [ ] Pain point analysis\n- [ ] Feature priority matrix\n- [ ] Integration requirements doc\n- [ ] Competitive analysis\n- [ ] Pricing research\n- [ ] Product roadmap input\n\n### Research Methods\n\n1. Interview sales reps and deal desk staff\n2. Analyze Salesforce CPQ reviews\n3. Study CPQ vendor documentation\n4. Survey potential users\n5. Analyze support forums\n\n### Time Estimate\nOngoing (initial: 2-3 days)\n\n### Blocks\n- Feature prioritization\n- UX/UI design decisions\n- Go-to-market strategy","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T12:00:14.284821690Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:00:14.284821690Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.10","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T12:00:14.284821690Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-256v.2","title":"RCH-02: Slack Socket Mode Reliability Research","description":"## RCH-02: Slack Socket Mode Reliability Research\n\n### Research Question\nHow reliable is Slack Socket Mode in production? What failure modes exist? How do we handle them?\n\n### Background\nSocket Mode is critical infrastructure. We need to understand its real-world behavior.\n\n### Research Areas\n\n1. **Connection Lifecycle**\n   - How often do connections drop?\n   - What causes disconnections?\n   - Reconnection behavior and backoff\n\n2. **Rate Limiting**\n   - Slack API rate limits\n   - WebSocket message limits\n   - Handling 429 responses\n   - Burst vs sustained throughput\n\n3. **Message Delivery Guarantees**\n   - At-most-once? At-least-once?\n   - Message ordering guarantees\n   - Handling missed messages\n   - Idempotency requirements\n\n4. **Failure Scenarios**\n   - Network partitions\n   - Slack API outages\n   - Token expiration\n   - Shard failures (if sharding needed)\n\n5. **Production Patterns**\n   - Connection pooling (multiple Socket Mode connections?)\n   - Health checking\n   - Graceful shutdown\n   - Observability (metrics to track)\n\n### Deliverables\n\n- [ ] Connection reliability report\n- [ ] Rate limiting strategy\n- [ ] Failure handling playbook\n- [ ] Monitoring/alerting recommendations\n- [ ] Code patterns for reconnection logic\n- [ ] ADR: Socket Mode connection management\n\n### Research Methods\n\n1. Review slack-morphism-rust source code for patterns\n2. Search GitHub issues for \"socket mode\" \"reliability\" \"reconnect\"\n3. Study Slack API documentation on Socket Mode\n4. Look for postmortems or incident reports\n5. Implement prototype and test failure scenarios\n\n### Time Estimate\n2 days\n\n### Blocks\n- Production deployment readiness\n- Monitoring/alerting setup","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:58:32.905691659Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:19:21.175242945Z","closed_at":"2026-02-23T12:19:21.175220983Z","close_reason":"Completed: Socket Mode reliability research and ADR delivered","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.2","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:58:32.905691659Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":21,"issue_id":"bd-256v.2","author":"Codex","text":"Completed with source-backed report and ADR:\\n- .planning/research/RCH-02-Slack-Socket-Mode-Reliability.md\\n- .planning/research/ADR-002-Socket-Mode-Connection-Management.md\\nIncludes connection lifecycle, ack/idempotency model, rate-limit strategy, failure playbook, monitoring/alerts, and reconnect patterns.","created_at":"2026-02-23T12:19:20Z"}]}
{"id":"bd-256v.3","title":"RCH-03: Constraint Solver Algorithm Research","description":"## RCH-03: Constraint Solver Algorithm Research\n\n### Research Question\nWhat's the best algorithm for CPQ constraint solving? How do we implement it efficiently in Rust?\n\n### Background\nConstraint solving is the heart of CPQ. Wrong algorithm = slow quotes, frustrated users.\n\n### Research Areas\n\n1. **Constraint Types Analysis**\n   - Requires/Excludes (binary constraints)\n   - Attribute constraints (unary)\n   - Quantity constraints (numeric)\n   - Cross-product constraints (complex)\n\n2. **Algorithm Options**\n   - Constraint Satisfaction Problem (CSP) solvers\n   - SAT solvers (Boolean satisfiability)\n   - SMT solvers (Satisfiability Modulo Theories)\n   - Custom propagation algorithm\n   - Arc consistency (AC-3, AC-4)\n\n3. **Existing Implementations**\n   - Tacton (commercial CPQ) - what do they use?\n   - Choco Solver (Java CSP)\n   - OR-Tools (Google optimization)\n   - Rust constraint libraries (varnisat, etc.)\n\n4. **Performance Characteristics**\n   - Complexity analysis (NP-complete?)\n   - Real-world performance on 100+ products\n   - Incremental solving (adding one product)\n   - Explanation generation (why did it fail?)\n\n5. **Rust Implementation Strategy**\n   - Data structures for constraint graph\n   - Iterative vs recursive solving\n   - Parallelization potential\n   - Memory layout for performance\n\n### Deliverables\n\n- [ ] Constraint solver algorithm comparison\n- [ ] Complexity analysis\n- [ ] Recommended algorithm with justification\n- [ ] Rust implementation sketch\n- [ ] Explanation generation approach\n- [ ] ADR: Constraint solver architecture\n\n### Research Methods\n\n1. Read academic papers on CP CSPs\n2. Study Tacton/PROS documentation\n3. Implement prototype solvers, benchmark\n4. Review open-source CPQ implementations\n5. Consult constraint programming literature\n\n### Time Estimate\n3-4 days\n\n### Blocks\n- CPQ core implementation\n- Configuration validation logic\n- \"Why can't I add this?\" explanation feature","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:58:46.266573532Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:12:57.669626902Z","closed_at":"2026-02-23T12:12:57.669610512Z","close_reason":"Research complete. Produced comprehensive constraint solver research report and ADR. Recommends custom AC-3 based solver.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.3","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:58:46.266573532Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-256v.4","title":"RCH-04: LLM Prompt Engineering for CPQ Research","description":"## RCH-04: LLM Prompt Engineering for CPQ Research\n\n### Research Question\nHow do we reliably extract structured quote intent from natural language? What prompting strategies work best?\n\n### Background\nThe Agent Runtime depends on LLM for intent extraction. This research validates our approach.\n\n### Research Areas\n\n1. **Intent Extraction Patterns**\n   - Zero-shot vs few-shot prompting\n   - Chain-of-thought reasoning\n   - Structured output (JSON mode)\n   - Function calling vs text extraction\n\n2. **Prompt Design Strategies**\n   - System prompts for CPQ domain\n   - Product catalog context injection\n   - Handling ambiguous requests\n   - Multi-turn conversation context\n\n3. **Model Comparison**\n   - GPT-4 vs GPT-3.5 vs Claude vs local models\n   - Accuracy on CPQ-specific tasks\n   - Latency vs quality tradeoffs\n   - Cost analysis\n\n4. **Failure Modes**\n   - Hallucination detection\n   - Confidence scoring\n   - Fallback strategies\n   - Human-in-the-loop triggers\n\n5. **Safety & Guardrails**\n   - Preventing price hallucination\n   - Validating extracted data\n   - Policy compliance checks\n   - Audit trail requirements\n\n### Deliverables\n\n- [ ] Prompt library for common CPQ tasks\n- [ ] Model comparison matrix\n- [ ] Accuracy benchmarks on test cases\n- [ ] Failure mode catalog\n- [ ] Guardrail implementation guide\n- [ ] ADR: LLM integration architecture\n\n### Research Methods\n\n1. Build test dataset of CPQ conversations\n2. Test different prompting strategies\n3. Evaluate across multiple models\n4. Measure latency and cost\n5. Document failure cases\n\n### Time Estimate\n3 days\n\n### Blocks\n- Agent runtime implementation\n- Conversational solver feature\n- Quote intelligence feature","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:59:00.050023799Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:25:37.230935471Z","closed_at":"2026-02-23T12:25:37.230912688Z","close_reason":"Completed: LLM prompt engineering research and ADR delivered","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.4","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:59:00.050023799Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":22,"issue_id":"bd-256v.4","author":"Codex","text":"Completed with LLM prompt-engineering research package and ADR:\\n- .planning/research/RCH-04-LLM-Prompt-Engineering-for-CPQ.md\\n- .planning/research/ADR-004-LLM-Integration-Architecture.md\\nIncludes prompt library, model matrix, CPQ benchmark framework + gates, failure mode catalog, and guardrail implementation guidance.","created_at":"2026-02-23T12:25:36Z"}]}
{"id":"bd-256v.5","title":"RCH-05: Security & Audit Compliance Research","description":"## RCH-05: Security & Audit Compliance Research\n\n### Research Question\nWhat security requirements does a CPQ system have? How do we build audit trails that satisfy compliance?\n\n### Background\nCPQ handles pricing, approvals, customer data. Security isn't optional.\n\n### Research Areas\n\n1. **Data Protection**\n   - Customer PII in quotes\n   - Pricing data sensitivity\n   - Encryption at rest (SQLite)\n   - Encryption in transit\n\n2. **Authentication & Authorization**\n   - Slack workspace authentication\n   - User role management\n   - Approval authority verification\n   - Token rotation\n\n3. **Audit Requirements**\n   - SOX compliance for pricing\n   - Quote change tracking\n   - Approval audit trails\n   - Data retention policies\n\n4. **Quote Integrity**\n   - Tamper-evident storage\n   - Cryptographic signatures\n   - Version verification\n   - \"What was promised\" proof\n\n5. **Deployment Security**\n   - Secrets management\n   - Container hardening\n   - Network security\n   - Backup encryption\n\n### Deliverables\n\n- [ ] Security threat model\n- [ ] Audit trail requirements doc\n- [ ] Encryption strategy\n- [ ] Authentication flow design\n- [ ] Compliance checklist (SOX, GDPR)\n- [ ] ADR: Security architecture\n- [ ] Security hardening guide\n\n### Research Methods\n\n1. Study Salesforce CPQ security docs\n2. Review SOX compliance requirements\n3. Research SQLite encryption options (SQLCipher)\n4. Analyze audit trail patterns\n5. Consult security best practices guides\n\n### Time Estimate\n2-3 days\n\n### Blocks\n- Immutable quote ledger feature\n- Production deployment\n- Customer data handling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:59:16.665850361Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:29:34.932882416Z","closed_at":"2026-02-23T12:29:34.932858851Z","close_reason":"Completed: security and audit compliance research delivered","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.5","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:59:16.665850361Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":24,"issue_id":"bd-256v.5","author":"Codex","text":"Completed security/audit compliance research package:\\n- .planning/research/RCH-05-Security-Audit-Compliance-Research.md\\n- .planning/research/ADR-006-CPQ-Security-Compliance-Architecture.md\\nIncludes threat model, audit requirements, encryption strategy, auth/authz flow, SOX/GDPR-oriented checklist, and hardening guide.","created_at":"2026-02-23T12:29:34Z"}]}
{"id":"bd-256v.6","title":"RCH-06: PDF Generation Options Deep Dive","description":"## RCH-06: PDF Generation Options Deep Dive\n\n### Research Question\nWhat's the best way to generate PDF quotes? What are the tradeoffs?\n\n### Background\nWe deferred PDF to v2. This research decides the approach.\n\n### Research Areas\n\n1. **Option Analysis**\n   - headless_chrome (Chromium-based)\n   - wkhtmltopdf (deprecated but stable)\n   - genpdf (pure Rust, limited features)\n   - printpdf (lower-level)\n   - WeasyPrint (Python, not Rust)\n   - LaTeX (overkill?)\n\n2. **HTML-to-PDF Comparison**\n   - CSS support level\n   - Header/footer capabilities\n   - Page break control\n   - Image embedding\n   - Font handling\n\n3. **Template Engine Integration**\n   - Tera + PDF generator\n   - Handlebars + PDF generator\n   - MiniJinja + PDF generator\n   - Direct PDF construction\n\n4. **Performance & Resources**\n   - Memory usage\n   - CPU usage\n   - Generation time\n   - Concurrent generation\n   - Binary size impact\n\n5. **Operational Considerations**\n   - External dependencies (Chromium)\n   - Container size\n   - Deployment complexity\n   - Error handling\n\n### Deliverables\n\n- [ ] PDF generation options matrix\n- [ ] Proof-of-concept implementations\n- [ ] Performance benchmarks\n- [ ] Template integration examples\n- [ ] Deployment impact analysis\n- [ ] Recommendation with tradeoffs\n- [ ] ADR: PDF generation approach\n\n### Research Methods\n\n1. Implement PoC with each option\n2. Generate identical quote PDFs\n3. Measure performance\n4. Test CSS complexity support\n5. Evaluate operational overhead\n\n### Time Estimate\n2 days\n\n### Blocks\n- PDF generation feature\n- Quote template design\n- Deployment packaging","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-23T11:59:25.691637169Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:49:11.833317267Z","closed_at":"2026-02-23T12:49:11.833287511Z","close_reason":"Completed: produced PDF options matrix and architecture ADR at .planning/research/RCH-06-PDF-Generation-Options-Deep-Dive.md and .planning/research/ADR-RCH06-PDF-Generation-Architecture.md","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.6","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:59:25.691637169Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-256v.7","title":"RCH-07: CRM Integration Patterns (Composio) Research","description":"## RCH-07: CRM Integration Patterns (Composio) Research\n\n### Research Question\nHow do we integrate with Salesforce/HubSpot via Composio? What patterns work?\n\n### Background\nCRM integration is critical for CPQ value. Composio is our chosen path.\n\n### Research Areas\n\n1. **Composio Platform**\n   - Authentication flows (OAuth)\n   - API patterns\n   - Rate limiting\n   - Error handling\n   - Webhook support\n\n2. **Salesforce Integration**\n   - Account/Contact sync\n   - Opportunity creation\n   - Quote attachment\n   - Custom field mapping\n   - Real-time vs batch sync\n\n3. **HubSpot Integration**\n   - Company/Contact sync\n   - Deal creation\n   - Quote association\n   - Line item handling\n\n4. **Data Synchronization**\n   - Bidirectional sync strategies\n   - Conflict resolution\n   - Offline handling\n   - Sync scheduling\n\n5. **Error Handling & Reliability**\n   - API failure recovery\n   - Partial sync handling\n   - Data validation\n   - Retry strategies\n\n### Deliverables\n\n- [ ] Composio integration guide\n- [ ] Salesforce sync patterns\n- [ ] HubSpot sync patterns\n- [ ] Data mapping examples\n- [ ] Error handling strategies\n- [ ] Stub implementation for offline demos\n- [ ] ADR: CRM integration architecture\n\n### Research Methods\n\n1. Study Composio documentation\n2. Review Salesforce API docs\n3. Build proof-of-concept sync\n4. Test error scenarios\n5. Interview users about CRM pain points\n\n### Time Estimate\n2-3 days\n\n### Blocks\n- CRM integration feature\n- Quote-to-CRM workflow\n- Account lookup functionality","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-23T11:59:36.278519682Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:49:54.040409025Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.7","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:59:36.278519682Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-256v.8","title":"RCH-08: Async Rust Testing Strategies Research","description":"## RCH-08: Async Rust Testing Strategies Research\n\n### Research Question\nHow do we effectively test async Rust code? What patterns work for our architecture?\n\n### Background\nTesting async code is hard. Mocking is hard. We need proven patterns.\n\n### Research Areas\n\n1. **Async Test Runtimes**\n   - tokio::test\n   - tokio-test crate\n   - nextest\n   - Test isolation strategies\n\n2. **Mocking Strategies**\n   - mockall for traits\n   - Manual mock implementations\n   - HTTP mocking (wiremock, mockito)\n   - Database mocking (in-memory SQLite)\n\n3. **Integration Testing**\n   - Testcontainers for dependencies\n   - In-memory database approach\n   - HTTP testing patterns\n   - End-to-end test setup\n\n4. **Test Organization**\n   - Unit test location (inline vs separate)\n   - Test fixtures and factories\n   - Test database setup\n   - Parallel vs sequential tests\n\n5. **Property-Based Testing**\n   - proptest for constraint validation\n   - Fuzzing strategies\n   - Generating valid/invalid configs\n\n### Deliverables\n\n- [ ] Testing strategy document\n- [ ] Mock implementation examples\n- [ ] Integration test setup guide\n- [ ] Test fixture patterns\n- [ ] CI/CD test configuration\n- [ ] Code coverage approach\n- [ ] ADR: Testing architecture\n\n### Research Methods\n\n1. Study realworld-axum-sqlx testing\n2. Review mockall documentation\n3. Set up test infrastructure\n4. Write example tests\n5. Measure coverage\n\n### Time Estimate\n2 days\n\n### Blocks\n- All implementation (testing affects how we write code)\n- CI/CD pipeline setup","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:59:46.125761196Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:42:25.877593317Z","closed_at":"2026-02-23T12:42:25.877572798Z","close_reason":"Research complete. Produced comprehensive async testing strategies report and ADR. Recommends tokio::test + nextest + SQLite in-memory + wiremock + mockall stack.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.8","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T11:59:46.125761196Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-256v.9","title":"RCH-09: Single Binary Distribution & Updates Research","description":"## RCH-09: Single Binary Distribution & Updates Research\n\n### Research Question\nHow do we distribute Quotey as a single binary? How do users update it?\n\n### Background\nLocal-first means easy distribution. Single binary is a core promise.\n\n### Research Areas\n\n1. **Distribution Formats**\n   - Cargo install\n   - GitHub Releases with binaries\n   - Homebrew formula\n   - Docker image\n   - Platform packages (deb, rpm, msi)\n\n2. **Cross-Compilation**\n   - Linux x86_64, ARM64\n   - macOS Intel, Apple Silicon\n   - Windows\n   - Cross-compilation tooling (cross, cargo-zigbuild)\n\n3. **Binary Optimization**\n   - Strip symbols\n   - LTO (Link Time Optimization)\n   - UPX compression\n   - Feature flags for size reduction\n\n4. **Update Mechanisms**\n   - Self-updating binary\n   - Update checking\n   - Database migration on update\n   - Rollback strategy\n\n5. **Deployment Patterns**\n   - Desktop/laptop deployment\n   - Small business server\n   - Cloud VM deployment\n   - Container orchestration\n\n### Deliverables\n\n- [ ] Distribution strategy document\n- [ ] Cross-compilation setup\n- [ ] CI/CD for releases\n- [ ] Update mechanism design\n- [ ] Installation guide\n- [ ] Platform-specific notes\n- [ ] ADR: Distribution architecture\n\n### Research Methods\n\n1. Study Rust release tooling (cargo-dist, release-plz)\n2. Review popular Rust CLI distribution\n3. Test cross-compilation\n4. Measure binary sizes\n5. Design update flow\n\n### Time Estimate\n1-2 days\n\n### Blocks\n- Production release process\n- User installation experience\n- Update notifications","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T12:00:05.081230919Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:50:16.843662874Z","closed_at":"2026-02-23T12:50:16.843642255Z","close_reason":"Completed: added .planning/research/RCH-09-Single-Binary-Distribution-and-Updates-Research.md and .planning/research/ADR-009-Distribution-Architecture.md","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-256v.9","depends_on_id":"bd-256v","type":"parent-child","created_at":"2026-02-23T12:00:05.081230919Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271","title":"EPIC: Power Capabilities Wave 1 (Top-10 Differentiators)","description":"## Background\nQuotey is positioned as an agent-first, deterministic CPQ platform in Slack. We identified 10 pragmatic, high-leverage capabilities that can materially improve rep productivity, approval speed, deal quality, trust, and operational reliability without violating core safety constraints.\n\n## Why this epic exists\nThis epic captures a deliberately curated wave of enhancements that are:\n- High-impact for end users (sales reps, deal desk, approvers)\n- Aligned with deterministic pricing/configuration and auditability principles\n- Buildable in incremental slices with clear verification gates\n\n## Scope\nImplements 10 feature tracks:\n1. Deal Flight Simulator\n2. Constraint Auto-Repair + Tradeoff Explorer\n3. Approval Packet Autopilot\n4. Precedent Intelligence Graph\n5. Rule Sandbox + Blast-Radius Replay\n6. Explain Any Number\n7. Quote Health Score + Next-Best Fixes\n8. Adaptive Extraction Memory\n9. Renewal Delta Intelligence\n10. Resilient Execution Queue\n\n## Out of scope\n- New web dashboard surface area\n- Deep ERP orchestration beyond existing integration strategy\n- Non-deterministic pricing/policy decisions by LLMs\n\n## Program success criteria\n- Median quote iteration latency reduced\n- Approval turnaround time reduced\n- Rep correction loops reduced\n- Deterministic traceability preserved for every new capability\n\n## Quality gates for the initiative\n- `cargo fmt --check`\n- `cargo clippy --all-targets --all-features -- -D warnings`\n- `cargo test --all-targets --all-features`\n- `ubs --diff`\n- Slack thread demo scripts for each feature scenario","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-23T11:04:05.336540943Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:48.714374412Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-271","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:48.714308208Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":1,"issue_id":"bd-271","author":"Junior Love","text":"Decision record:\n- This epic intentionally favors features that amplify the existing architecture instead of introducing a second platform.\n- Every child feature must preserve the safety principle: LLM as translator/summarizer, deterministic engines as authority.\n- Prioritization favors revenue impact + implementation tractability + operational reliability.\n\nFuture-self notes:\n- If capacity is constrained, ship by dependency phase rather than by feature completeness.\n- Keep instrumentation first-class so each capability has measurable before/after impact.","created_at":"2026-02-23T11:04:05Z"}]}
{"id":"bd-271.1","title":"W1 [REL] Resilient Execution Queue","description":"## Feature Intent\nDurable idempotent execution for Slack CRM and PDF actions with retries recovery and explicit state.\n\n## User Value\nUsers see reliable progress and fewer silent failures.\n\n## Deterministic Anchor\nQueue state machine plus idempotency keys remain deterministic and auditable.\n\n## Slack Surface\nThread progress cards retry status actions and recovery notices.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce failed action rate and improve recoverability under transient outages.","status":"open","priority":0,"issue_type":"feature","created_at":"2026-02-23T11:05:05.993096714Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:40.466874522Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","wave1"],"dependencies":[{"issue_id":"bd-271.1","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:05.993096714Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:40.466807075Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":2,"issue_id":"bd-271.1","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:06Z"}]}
{"id":"bd-271.1.1","title":"[REL] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature REL.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.098526166Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:01.669596053Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","design","wave1"],"dependencies":[{"issue_id":"bd-271.1.1","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.098526166Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:01.669533426Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.2","title":"[REL] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature REL.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.153509458Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:01.442403095Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","data","wave1"],"dependencies":[{"issue_id":"bd-271.1.2","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.153509458Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.2","depends_on_id":"bd-271.1.1","type":"blocks","created_at":"2026-02-23T11:05:06.721810898Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:01.442334265Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.2.1","title":"[REL] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature REL.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.280775343Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:13.741047016Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.1.2.1","depends_on_id":"bd-271.1.2","type":"parent-child","created_at":"2026-02-23T11:05:06.280775343Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:13.740952418Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.3","title":"[REL] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature REL.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:06.338530568Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:47.552960288Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","engine","wave1"],"dependencies":[{"issue_id":"bd-271.1.3","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.338530568Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.3","depends_on_id":"bd-271.1.2","type":"blocks","created_at":"2026-02-23T11:05:06.785852461Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:47.552875349Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.3.1","title":"[REL] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature REL service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.402127112Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:13.499547074Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.1.3.1","depends_on_id":"bd-271.1.3","type":"parent-child","created_at":"2026-02-23T11:05:06.402127112Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:13.499481140Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.4","title":"[REL] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature REL.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.462847655Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:01.215922620Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","slack","wave1"],"dependencies":[{"issue_id":"bd-271.1.4","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.462847655Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.4","depends_on_id":"bd-271.1.3","type":"blocks","created_at":"2026-02-23T11:05:06.845952455Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:01.215855894Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.4.1","title":"[REL] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature REL.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.525290496Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:13.258682531Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.1.4.1","depends_on_id":"bd-271.1.4","type":"parent-child","created_at":"2026-02-23T11:05:06.525290496Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:13.258616436Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.5","title":"[REL] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature REL with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:06.591248429Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:00.981684293Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","qa","wave1"],"dependencies":[{"issue_id":"bd-271.1.5","depends_on_id":"bd-271.1","type":"parent-child","created_at":"2026-02-23T11:05:06.591248429Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.5","depends_on_id":"bd-271.1.4","type":"blocks","created_at":"2026-02-23T11:05:06.907060208Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:00.981614702Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.1.5.1","title":"[REL] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature REL.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:06.656382982Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:13.020255621Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REL","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.1.5.1","depends_on_id":"bd-271.1.5","type":"parent-child","created_at":"2026-02-23T11:05:06.656382982Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.1.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:13.020175349Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10","title":"W1 [SAN] Rule Sandbox and Blast Radius Replay","description":"## Feature Intent\nReplay historical quotes under proposed policy changes before publish.\n\n## User Value\nDeal desk can evolve pricing policy without regressions.\n\n## Deterministic Anchor\nReplay computes deterministic before after diffs with full trace evidence.\n\n## Slack Surface\nCLI plus Slack summary report for impacted quotes.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce production policy incidents and rollback events.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:22.745773219Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:43.642055926Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","wave1"],"dependencies":[{"issue_id":"bd-271.10","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:22.745773219Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10","depends_on_id":"bd-271.1","type":"blocks","created_at":"2026-02-23T11:05:28.524716596Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10","depends_on_id":"bd-271.2","type":"blocks","created_at":"2026-02-23T11:05:28.340799617Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:43.641966237Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":11,"issue_id":"bd-271.10","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:22Z"}]}
{"id":"bd-271.10.1","title":"[SAN] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature SAN.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:23.105242185Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:52.439055548Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","design","wave1"],"dependencies":[{"issue_id":"bd-271.10.1","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:23.105242185Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:52.438965158Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.2","title":"[SAN] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature SAN.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:23.285618371Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:52.208523767Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","data","wave1"],"dependencies":[{"issue_id":"bd-271.10.2","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:23.285618371Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.2","depends_on_id":"bd-271.10.1","type":"blocks","created_at":"2026-02-23T11:05:24.869915044Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:52.208459536Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.2.1","title":"[SAN] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature SAN.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:23.470369523Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:05.152156977Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.10.2.1","depends_on_id":"bd-271.10.2","type":"parent-child","created_at":"2026-02-23T11:05:23.470369523Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:05.152095490Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.3","title":"[SAN] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature SAN.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:23.656651770Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:43.416195389Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","engine","wave1"],"dependencies":[{"issue_id":"bd-271.10.3","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:23.656651770Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.3","depends_on_id":"bd-271.10.2","type":"blocks","created_at":"2026-02-23T11:05:25.063527214Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:43.416132039Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.3.1","title":"[SAN] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature SAN service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:23.840795998Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:04.922623357Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.10.3.1","depends_on_id":"bd-271.10.3","type":"parent-child","created_at":"2026-02-23T11:05:23.840795998Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:04.922565248Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.4","title":"[SAN] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature SAN.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:24.028148882Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:51.981802087Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","slack","wave1"],"dependencies":[{"issue_id":"bd-271.10.4","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:24.028148882Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.4","depends_on_id":"bd-271.10.3","type":"blocks","created_at":"2026-02-23T11:05:25.251983369Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:51.981736143Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.4.1","title":"[SAN] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature SAN.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:24.216119752Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:04.683339442Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.10.4.1","depends_on_id":"bd-271.10.4","type":"parent-child","created_at":"2026-02-23T11:05:24.216119752Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:04.683278528Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.5","title":"[SAN] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature SAN with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:24.409277527Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:51.746449029Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","qa","wave1"],"dependencies":[{"issue_id":"bd-271.10.5","depends_on_id":"bd-271.10","type":"parent-child","created_at":"2026-02-23T11:05:24.409277527Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.5","depends_on_id":"bd-271.10.4","type":"blocks","created_at":"2026-02-23T11:05:25.441168156Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:51.746383897Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.10.5.1","title":"[SAN] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature SAN.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:24.605325348Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:04.452203323Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SAN","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.10.5.1","depends_on_id":"bd-271.10.5","type":"parent-child","created_at":"2026-02-23T11:05:24.605325348Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.10.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:04.452142748Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2","title":"W1 [EXP] Explain Any Number","description":"## Feature Intent\nExplain any line item or total using deterministic pricing trace and policy evidence.\n\n## User Value\nReps and approvers trust numbers and resolve disputes fast.\n\n## Deterministic Anchor\nTrace lineage is sourced only from deterministic pricing and rules artifacts.\n\n## Slack Surface\nquote explain command with expandable breakdown sections.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce pricing dispute time and increase audit confidence.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:06.970801996Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:47.325076868Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","wave1"],"dependencies":[{"issue_id":"bd-271.2","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:06.970801996Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:47.324979155Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":3,"issue_id":"bd-271.2","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:07Z"}]}
{"id":"bd-271.2.1","title":"[EXP] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature EXP.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.102762789Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:00.742932020Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","design","wave1"],"dependencies":[{"issue_id":"bd-271.2.1","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.102762789Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:00.742852350Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.2","title":"[EXP] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature EXP.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.170818015Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:00.513092082Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","data","wave1"],"dependencies":[{"issue_id":"bd-271.2.2","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.170818015Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.2","depends_on_id":"bd-271.2.1","type":"blocks","created_at":"2026-02-23T11:05:07.756757095Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:00.513022732Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.2.1","title":"[EXP] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature EXP.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.240631606Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:12.778725002Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.2.2.1","depends_on_id":"bd-271.2.2","type":"parent-child","created_at":"2026-02-23T11:05:07.240631606Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:12.778660159Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.3","title":"[EXP] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature EXP.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:07.309953019Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:47.097558005Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","engine","wave1"],"dependencies":[{"issue_id":"bd-271.2.3","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.309953019Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.3","depends_on_id":"bd-271.2.2","type":"blocks","created_at":"2026-02-23T11:05:07.830628162Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:47.097483665Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.3.1","title":"[EXP] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature EXP service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.380468392Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:12.534569816Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.2.3.1","depends_on_id":"bd-271.2.3","type":"parent-child","created_at":"2026-02-23T11:05:07.380468392Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:12.534504051Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.4","title":"[EXP] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature EXP.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.452913061Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:00.284762893Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","slack","wave1"],"dependencies":[{"issue_id":"bd-271.2.4","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.452913061Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.4","depends_on_id":"bd-271.2.3","type":"blocks","created_at":"2026-02-23T11:05:07.903832213Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:00.284682361Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.4.1","title":"[EXP] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature EXP.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.525977508Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:12.294793171Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.2.4.1","depends_on_id":"bd-271.2.4","type":"parent-child","created_at":"2026-02-23T11:05:07.525977508Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:12.294697862Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.5","title":"[EXP] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature EXP with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:07.605402292Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:00.057387090Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","qa","wave1"],"dependencies":[{"issue_id":"bd-271.2.5","depends_on_id":"bd-271.2","type":"parent-child","created_at":"2026-02-23T11:05:07.605402292Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.5","depends_on_id":"bd-271.2.4","type":"blocks","created_at":"2026-02-23T11:05:07.976766765Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:00.057321776Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.2.5.1","title":"[EXP] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature EXP.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:07.680968714Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:12.051884746Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["EXP","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.2.5.1","depends_on_id":"bd-271.2.5","type":"parent-child","created_at":"2026-02-23T11:05:07.680968714Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.2.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:12.051817970Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3","title":"W1 [FIX] Constraint Auto-Repair and Tradeoff Explorer","description":"## Feature Intent\nWhen configurations fail propose nearest valid alternatives ranked by tradeoff profile.\n\n## User Value\nReps avoid dead ends and move to valid quotes quickly.\n\n## Deterministic Anchor\nConstraint solver and ranking rules are deterministic and tunable.\n\n## Slack Surface\nFix this config action with ranked option cards.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nLower invalid config churn and reduce deal desk intervention load.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:08.051250566Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:46.862662961Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","wave1"],"dependencies":[{"issue_id":"bd-271.3","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:08.051250566Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:46.862588411Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":4,"issue_id":"bd-271.3","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:08Z"}]}
{"id":"bd-271.3.1","title":"[FIX] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature FIX.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.206441489Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:59.816659664Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","design","wave1"],"dependencies":[{"issue_id":"bd-271.3.1","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.206441489Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:59.816593529Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.2","title":"[FIX] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature FIX.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.285361071Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:59.585146874Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","data","wave1"],"dependencies":[{"issue_id":"bd-271.3.2","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.285361071Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.2","depends_on_id":"bd-271.3.1","type":"blocks","created_at":"2026-02-23T11:05:08.977467303Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:59.585079377Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.2.1","title":"[FIX] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature FIX.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.365492406Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:11.814561185Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.3.2.1","depends_on_id":"bd-271.3.2","type":"parent-child","created_at":"2026-02-23T11:05:08.365492406Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:11.814480774Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.3","title":"[FIX] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature FIX.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:08.447568136Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:46.633040744Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","engine","wave1"],"dependencies":[{"issue_id":"bd-271.3.3","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.447568136Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.3","depends_on_id":"bd-271.3.2","type":"blocks","created_at":"2026-02-23T11:05:09.061611060Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:46.632957146Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.3.1","title":"[FIX] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature FIX service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.530244208Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:11.574189841Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.3.3.1","depends_on_id":"bd-271.3.3","type":"parent-child","created_at":"2026-02-23T11:05:08.530244208Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:11.574122564Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.4","title":"[FIX] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature FIX.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.618031351Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:59.356028607Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","slack","wave1"],"dependencies":[{"issue_id":"bd-271.3.4","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.618031351Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.4","depends_on_id":"bd-271.3.3","type":"blocks","created_at":"2026-02-23T11:05:09.147446686Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:59.355922818Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.4.1","title":"[FIX] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature FIX.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.705866776Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:11.335706033Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.3.4.1","depends_on_id":"bd-271.3.4","type":"parent-child","created_at":"2026-02-23T11:05:08.705866776Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:11.335640379Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.5","title":"[FIX] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature FIX with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:08.797776689Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:59.123537544Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","qa","wave1"],"dependencies":[{"issue_id":"bd-271.3.5","depends_on_id":"bd-271.3","type":"parent-child","created_at":"2026-02-23T11:05:08.797776689Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.5","depends_on_id":"bd-271.3.4","type":"blocks","created_at":"2026-02-23T11:05:09.233296408Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:59.123473363Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.3.5.1","title":"[FIX] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature FIX.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:08.886384258Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:11.096148703Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["FIX","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.3.5.1","depends_on_id":"bd-271.3.5","type":"parent-child","created_at":"2026-02-23T11:05:08.886384258Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.3.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:11.096078902Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4","title":"W1 [PRE] Precedent Intelligence Graph","description":"## Feature Intent\nSurface similar prior deals with outcome context and approval paths.\n\n## User Value\nDecision makers anchor on internal evidence instead of guesswork.\n\n## Deterministic Anchor\nSimilarity scoring pipeline is deterministic versioned and auditable.\n\n## Slack Surface\nShow similar deals thread panel with filters and rationale.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nIncrease consistency of discount and approval outcomes.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:09.319955606Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:46.402589214Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","wave1"],"dependencies":[{"issue_id":"bd-271.4","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:09.319955606Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:46.402510627Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":5,"issue_id":"bd-271.4","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:09Z"}]}
{"id":"bd-271.4.1","title":"[PRE] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature PRE.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:09.502643239Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:58.887567785Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","design","wave1"],"dependencies":[{"issue_id":"bd-271.4.1","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.502643239Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:58.887498605Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.2","title":"[PRE] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature PRE.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:09.598488168Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:58.656376732Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","data","wave1"],"dependencies":[{"issue_id":"bd-271.4.2","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.598488168Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.2","depends_on_id":"bd-271.4.1","type":"blocks","created_at":"2026-02-23T11:05:10.389794322Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:58.656312360Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.2.1","title":"[PRE] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature PRE.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:09.695139627Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:10.869771562Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.4.2.1","depends_on_id":"bd-271.4.2","type":"parent-child","created_at":"2026-02-23T11:05:09.695139627Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:10.869706589Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.3","title":"[PRE] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature PRE.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:09.791586121Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:46.175880549Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","engine","wave1"],"dependencies":[{"issue_id":"bd-271.4.3","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.791586121Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.3","depends_on_id":"bd-271.4.2","type":"blocks","created_at":"2026-02-23T11:05:10.487222335Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:46.175815687Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.3.1","title":"[PRE] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature PRE service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:09.888636922Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:10.631169432Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.4.3.1","depends_on_id":"bd-271.4.3","type":"parent-child","created_at":"2026-02-23T11:05:09.888636922Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:10.631101654Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.4","title":"[PRE] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature PRE.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:09.987752295Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:58.326617857Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","slack","wave1"],"dependencies":[{"issue_id":"bd-271.4.4","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:09.987752295Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.4","depends_on_id":"bd-271.4.3","type":"blocks","created_at":"2026-02-23T11:05:10.588524038Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:58.326489495Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.4.1","title":"[PRE] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature PRE.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:10.086402160Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:10.386622037Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.4.4.1","depends_on_id":"bd-271.4.4","type":"parent-child","created_at":"2026-02-23T11:05:10.086402160Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:10.386553728Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.5","title":"[PRE] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature PRE with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:10.185677644Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:58.004035156Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","qa","wave1"],"dependencies":[{"issue_id":"bd-271.4.5","depends_on_id":"bd-271.4","type":"parent-child","created_at":"2026-02-23T11:05:10.185677644Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.5","depends_on_id":"bd-271.4.4","type":"blocks","created_at":"2026-02-23T11:05:10.686119055Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:58.003933294Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.4.5.1","title":"[PRE] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature PRE.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:10.288615250Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:10.147141761Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["PRE","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.4.5.1","depends_on_id":"bd-271.4.5","type":"parent-child","created_at":"2026-02-23T11:05:10.288615250Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.4.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:10.147077932Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5","title":"W1 [HLT] Quote Health Score and Next Best Fixes","description":"## Feature Intent\nScore quote risk and quality then prescribe concrete remediation actions.\n\n## User Value\nReps know exactly what to fix next before requesting approval.\n\n## Deterministic Anchor\nScoring model is deterministic and decomposes by signal category.\n\n## Slack Surface\nHealth panel with one click fix actions and progress indicator.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nImprove first pass quote quality and reduce back and forth.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:05:10.785857041Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:57.777259795Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","wave1"],"dependencies":[{"issue_id":"bd-271.5","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:10.785857041Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5","depends_on_id":"bd-271.2","type":"blocks","created_at":"2026-02-23T11:05:25.633514783Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:25.822922430Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:57.777187518Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":6,"issue_id":"bd-271.5","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:10Z"}]}
{"id":"bd-271.5.1","title":"[HLT] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature HLT.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:10.990277943Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:57.556625035Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","design","wave1"],"dependencies":[{"issue_id":"bd-271.5.1","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:10.990277943Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:57.556564081Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.2","title":"[HLT] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature HLT.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:11.099062027Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:57.333674733Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","data","wave1"],"dependencies":[{"issue_id":"bd-271.5.2","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.099062027Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.2","depends_on_id":"bd-271.5.1","type":"blocks","created_at":"2026-02-23T11:05:11.982431113Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:57.333594281Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.2.1","title":"[HLT] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature HLT.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.203913200Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:09.906887628Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.5.2.1","depends_on_id":"bd-271.5.2","type":"parent-child","created_at":"2026-02-23T11:05:11.203913200Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:09.906808639Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.3","title":"[HLT] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature HLT.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:11.310681495Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:45.939555380Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","engine","wave1"],"dependencies":[{"issue_id":"bd-271.5.3","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.310681495Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.3","depends_on_id":"bd-271.5.2","type":"blocks","created_at":"2026-02-23T11:05:12.095495113Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:45.939490347Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.3.1","title":"[HLT] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature HLT service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.417700793Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:09.665597632Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.5.3.1","depends_on_id":"bd-271.5.3","type":"parent-child","created_at":"2026-02-23T11:05:11.417700793Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:09.665533431Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.4","title":"[HLT] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature HLT.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:11.527037679Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:57.108812276Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","slack","wave1"],"dependencies":[{"issue_id":"bd-271.5.4","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.527037679Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.4","depends_on_id":"bd-271.5.3","type":"blocks","created_at":"2026-02-23T11:05:12.549513205Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:57.108712949Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.4.1","title":"[HLT] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature HLT.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.639823996Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:09.424590939Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.5.4.1","depends_on_id":"bd-271.5.4","type":"parent-child","created_at":"2026-02-23T11:05:11.639823996Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:09.424502293Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.5","title":"[HLT] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature HLT with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:11.752133514Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:56.870328689Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","qa","wave1"],"dependencies":[{"issue_id":"bd-271.5.5","depends_on_id":"bd-271.5","type":"parent-child","created_at":"2026-02-23T11:05:11.752133514Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.5","depends_on_id":"bd-271.5.4","type":"blocks","created_at":"2026-02-23T11:05:12.660658068Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:56.870265730Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.5.5.1","title":"[HLT] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature HLT.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:11.873020148Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:09.185934888Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["HLT","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.5.5.1","depends_on_id":"bd-271.5.5","type":"parent-child","created_at":"2026-02-23T11:05:11.873020148Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.5.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:09.185868473Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6","title":"W1 [APP] Approval Packet Autopilot","description":"## Feature Intent\nAuto assemble concise complete packets for faster higher quality approvals.\n\n## User Value\nApprovers can decide in one pass with full context.\n\n## Deterministic Anchor\nRouting and required fields stay policy driven and deterministic.\n\n## Slack Surface\nApproval packet preview and one tap decision actions.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nCut approval turnaround time and reopen rates.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:12.773659901Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:45.482355590Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","wave1"],"dependencies":[{"issue_id":"bd-271.6","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:12.773659901Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-271.1","type":"blocks","created_at":"2026-02-23T11:05:26.401014180Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:26.014883278Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-271.5","type":"blocks","created_at":"2026-02-23T11:05:26.208062404Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:45.482281751Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":7,"issue_id":"bd-271.6","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:12Z"}]}
{"id":"bd-271.6.1","title":"[APP] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature APP.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.007586409Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:56.641025604Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","design","wave1"],"dependencies":[{"issue_id":"bd-271.6.1","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.007586409Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:56.640942708Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.2","title":"[APP] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature APP.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.125132727Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:56.410874110Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","data","wave1"],"dependencies":[{"issue_id":"bd-271.6.2","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.125132727Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.2","depends_on_id":"bd-271.6.1","type":"blocks","created_at":"2026-02-23T11:05:14.487637942Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:56.410809427Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.2.1","title":"[APP] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature APP.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:13.247202489Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:08.946888379Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.6.2.1","depends_on_id":"bd-271.6.2","type":"parent-child","created_at":"2026-02-23T11:05:13.247202489Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:08.946822526Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.3","title":"[APP] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature APP.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:13.369283793Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:45.254031891Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","engine","wave1"],"dependencies":[{"issue_id":"bd-271.6.3","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.369283793Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.3","depends_on_id":"bd-271.6.2","type":"blocks","created_at":"2026-02-23T11:05:14.615799144Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:45.253950036Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.3.1","title":"[APP] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature APP service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:13.495538773Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:08.700558556Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.6.3.1","depends_on_id":"bd-271.6.3","type":"parent-child","created_at":"2026-02-23T11:05:13.495538773Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:08.700474247Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.4","title":"[APP] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature APP.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.621054130Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:56.177643242Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","slack","wave1"],"dependencies":[{"issue_id":"bd-271.6.4","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.621054130Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.4","depends_on_id":"bd-271.6.3","type":"blocks","created_at":"2026-02-23T11:05:14.740833193Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:56.177578811Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.4.1","title":"[APP] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature APP.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:13.747503145Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:08.462081041Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.6.4.1","depends_on_id":"bd-271.6.4","type":"parent-child","created_at":"2026-02-23T11:05:13.747503145Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:08.461964561Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.5","title":"[APP] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature APP with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:13.874866133Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:55.948049839Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","qa","wave1"],"dependencies":[{"issue_id":"bd-271.6.5","depends_on_id":"bd-271.6","type":"parent-child","created_at":"2026-02-23T11:05:13.874866133Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.5","depends_on_id":"bd-271.6.4","type":"blocks","created_at":"2026-02-23T11:05:14.867386004Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:55.947971662Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.6.5.1","title":"[APP] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature APP.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:14.001210231Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:08.222377404Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["APP","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.6.5.1","depends_on_id":"bd-271.6.5","type":"parent-child","created_at":"2026-02-23T11:05:14.001210231Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.6.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:08.222303626Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7","title":"W1 [SIM] Deal Flight Simulator","description":"## Feature Intent\nGenerate and compare negotiation scenarios in seconds before committing a quote.\n\n## User Value\nReps can respond live in customer calls with safe alternatives.\n\n## Deterministic Anchor\nScenario generation delegates all pricing and policy math to deterministic engines.\n\n## Slack Surface\nquote simulate command with side by side comparison blocks.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce quote iteration latency while improving close quality.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:14.995786879Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:45.020305318Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","wave1"],"dependencies":[{"issue_id":"bd-271.7","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:14.995786879Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.1","type":"blocks","created_at":"2026-02-23T11:05:27.755195949Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.3","type":"blocks","created_at":"2026-02-23T11:05:26.587845613Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:27.378003122Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-271.5","type":"blocks","created_at":"2026-02-23T11:05:27.571372005Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:45.020209268Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":8,"issue_id":"bd-271.7","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:15Z"}]}
{"id":"bd-271.7.1","title":"[SIM] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature SIM.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:15.256783121Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:55.477097782Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","design","wave1"],"dependencies":[{"issue_id":"bd-271.7.1","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.256783121Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:55.476967356Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.2","title":"[SIM] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature SIM.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:15.387423517Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:55.248070386Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","data","wave1"],"dependencies":[{"issue_id":"bd-271.7.2","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.387423517Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.2","depends_on_id":"bd-271.7.1","type":"blocks","created_at":"2026-02-23T11:05:16.561680969Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:55.247980276Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.2.1","title":"[SIM] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature SIM.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:15.528869516Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:07.982377490Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.7.2.1","depends_on_id":"bd-271.7.2","type":"parent-child","created_at":"2026-02-23T11:05:15.528869516Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:07.982263435Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.3","title":"[SIM] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature SIM.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:15.671825631Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:44.789029055Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","engine","wave1"],"dependencies":[{"issue_id":"bd-271.7.3","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.671825631Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.3","depends_on_id":"bd-271.7.2","type":"blocks","created_at":"2026-02-23T11:05:16.967712937Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:44.788941289Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.3.1","title":"[SIM] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature SIM service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:15.807363074Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:07.740257710Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.7.3.1","depends_on_id":"bd-271.7.3","type":"parent-child","created_at":"2026-02-23T11:05:15.807363074Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:07.740184973Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.4","title":"[SIM] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature SIM.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:15.950851833Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:55.003462597Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","slack","wave1"],"dependencies":[{"issue_id":"bd-271.7.4","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:15.950851833Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.4","depends_on_id":"bd-271.7.3","type":"blocks","created_at":"2026-02-23T11:05:17.100243755Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:55.003396123Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.4.1","title":"[SIM] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature SIM.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:16.089893690Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:07.499504556Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.7.4.1","depends_on_id":"bd-271.7.4","type":"parent-child","created_at":"2026-02-23T11:05:16.089893690Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:07.499425888Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.5","title":"[SIM] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature SIM with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:16.263110955Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:54.767064250Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","qa","wave1"],"dependencies":[{"issue_id":"bd-271.7.5","depends_on_id":"bd-271.7","type":"parent-child","created_at":"2026-02-23T11:05:16.263110955Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.5","depends_on_id":"bd-271.7.4","type":"blocks","created_at":"2026-02-23T11:05:17.233494278Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:54.766997344Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.7.5.1","title":"[SIM] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature SIM.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:16.410758230Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:07.258693904Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["SIM","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.7.5.1","depends_on_id":"bd-271.7.5","type":"parent-child","created_at":"2026-02-23T11:05:16.410758230Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.7.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:07.258626296Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8","title":"W1 [MEM] Adaptive Extraction Memory","description":"## Feature Intent\nLearn accepted terminology corrections by account and team to improve parsing over time.\n\n## User Value\nLess repetitive correction work and higher intent extraction precision.\n\n## Deterministic Anchor\nMemory updates are explicit versioned reversible and policy bounded.\n\n## Slack Surface\nCorrection chips teach Quotey actions and memory source labels.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nReduce extraction correction frequency across repeated workflows.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:05:17.373172776Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:54.530134041Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","wave1"],"dependencies":[{"issue_id":"bd-271.8","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:17.373172776Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:54.530070391Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":9,"issue_id":"bd-271.8","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:17Z"}]}
{"id":"bd-271.8.1","title":"[MEM] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature MEM.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:17.657601310Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:54.301773532Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","design","wave1"],"dependencies":[{"issue_id":"bd-271.8.1","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:17.657601310Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:54.301711616Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.2","title":"[MEM] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature MEM.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:17.802908575Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:54.073036113Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","data","wave1"],"dependencies":[{"issue_id":"bd-271.8.2","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:17.802908575Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.2","depends_on_id":"bd-271.8.1","type":"blocks","created_at":"2026-02-23T11:05:19.488329095Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:54.072933971Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.2.1","title":"[MEM] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature MEM.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:17.946210351Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:07.015606329Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.8.2.1","depends_on_id":"bd-271.8.2","type":"parent-child","created_at":"2026-02-23T11:05:17.946210351Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:07.015538731Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.3","title":"[MEM] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature MEM.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:18.089206221Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:44.559204326Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","engine","wave1"],"dependencies":[{"issue_id":"bd-271.8.3","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:18.089206221Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.3","depends_on_id":"bd-271.8.2","type":"blocks","created_at":"2026-02-23T11:05:19.658518865Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:44.559126791Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.3.1","title":"[MEM] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature MEM service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:18.238099515Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:06.774234479Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.8.3.1","depends_on_id":"bd-271.8.3","type":"parent-child","created_at":"2026-02-23T11:05:18.238099515Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:06.774159668Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.4","title":"[MEM] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature MEM.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:18.528887032Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:53.838638106Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","slack","wave1"],"dependencies":[{"issue_id":"bd-271.8.4","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:18.528887032Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.4","depends_on_id":"bd-271.8.3","type":"blocks","created_at":"2026-02-23T11:05:19.825563247Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:53.838571741Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.4.1","title":"[MEM] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature MEM.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:18.685423802Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:06.543530443Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.8.4.1","depends_on_id":"bd-271.8.4","type":"parent-child","created_at":"2026-02-23T11:05:18.685423802Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:06.543467024Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.5","title":"[MEM] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature MEM with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:18.831416529Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:53.606822987Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","qa","wave1"],"dependencies":[{"issue_id":"bd-271.8.5","depends_on_id":"bd-271.8","type":"parent-child","created_at":"2026-02-23T11:05:18.831416529Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.5","depends_on_id":"bd-271.8.4","type":"blocks","created_at":"2026-02-23T11:05:19.984263843Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:53.606758745Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.8.5.1","title":"[MEM] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature MEM.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:19.325781148Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:06.315375993Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["MEM","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.8.5.1","depends_on_id":"bd-271.8.5","type":"parent-child","created_at":"2026-02-23T11:05:19.325781148Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.8.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:06.315311081Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9","title":"W1 [REN] Renewal Delta Intelligence","description":"## Feature Intent\nDiff renewal context and suggest expansion or risk mitigation options.\n\n## User Value\nRenewal reps gain speed and context for better outcomes.\n\n## Deterministic Anchor\nDiff engine and recommendation scoring are deterministic and auditable.\n\n## Slack Surface\nRenewal delta card with option set actions in thread.\n\n## Acceptance Criteria\n- Accessible within quote thread context and tied to quote ID.\n- Deterministic engines remain source of truth for all financial and policy outcomes.\n- Audit trail records inputs decisions outputs and state transitions.\n- Errors are recoverable and user visible with next actions.\n- Telemetry supports adoption and outcome measurement.\n\n## Quality Gates\n- cargo fmt --check\n- cargo clippy --all-targets --all-features -- -D warnings\n- cargo test --all-targets --all-features\n- ubs --diff\n\n## Success Metric Focus\nIncrease renewal throughput and expansion attach rates.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:05:20.148398141Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:44.100666505Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","wave1"],"dependencies":[{"issue_id":"bd-271.9","depends_on_id":"bd-271","type":"parent-child","created_at":"2026-02-23T11:05:20.148398141Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9","depends_on_id":"bd-271.4","type":"blocks","created_at":"2026-02-23T11:05:27.950231623Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9","depends_on_id":"bd-271.5","type":"blocks","created_at":"2026-02-23T11:05:28.147327499Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:44.100602004Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":10,"issue_id":"bd-271.9","author":"Junior Love","text":"Rationale and future-self context:\n- Selected for high impact and practical implementation within current Slack first deterministic architecture.\n- This feature should ship incrementally behind flags where feasible.\n- Keep strict separation: LLM assists language and summarization only while deterministic engines own price config policy and routing truth.\n\nImplementation notes:\n- Prefer small vertical slices that end with demonstrable user value.\n- Instrument usage and quality signals from first rollout.\n- Document known tradeoffs and any intentionally deferred complexity.","created_at":"2026-02-23T11:05:20Z"}]}
{"id":"bd-271.9.1","title":"[REN] Task 1 Spec KPI Guardrails","description":"## Objective\nDefine execution spec KPI contract and guardrails for feature REN.\n\n## Acceptance Criteria\n- Scope non goals and rollout slices documented.\n- KPI baseline target and owner defined.\n- Deterministic safety constraints documented.\n- API contracts and interface boundaries drafted.\n- Risk register created with mitigations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:20.479554307Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:53.364773991Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","design","wave1"],"dependencies":[{"issue_id":"bd-271.9.1","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:20.479554307Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:53.364709028Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.2","title":"[REN] Task 2 Data Model Persistence","description":"## Objective\nImplement persistence and data model primitives for feature REN.\n\n## Acceptance Criteria\n- SQLite schema changes defined and reviewed.\n- Repository methods added for read write query pathways.\n- Audit fields and version semantics captured.\n- Data migration behavior and rollback expectations documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:20.649844956Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:53.136791805Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","data","wave1"],"dependencies":[{"issue_id":"bd-271.9.2","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:20.649844956Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.2","depends_on_id":"bd-271.9.1","type":"blocks","created_at":"2026-02-23T11:05:22.049716152Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:53.136727483Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.2.1","title":"[REN] Subtask 2a Migration Fixtures","description":"## Objective\nImplement migration SQL fixtures and seed updates for feature REN.\n\n## Acceptance Criteria\n- Migration scripts apply cleanly in empty and existing states.\n- Fixtures represent realistic edge cases for this feature.\n- Migration assumptions recorded for downstream tasks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:20.820445099Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:06.083527741Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","migration","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.9.2.1","depends_on_id":"bd-271.9.2","type":"parent-child","created_at":"2026-02-23T11:05:20.820445099Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:06.083460423Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.3","title":"[REN] Task 3 Deterministic Engine Logic","description":"## Objective\nBuild deterministic service and decision logic for feature REN.\n\n## Acceptance Criteria\n- Core algorithm and decision rules implemented.\n- Inputs outputs validated with strict typing.\n- Failure modes classified and surfaced.\n- No non deterministic shortcuts for financial or policy decisions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:20.991050502Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:43.869973360Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","engine","wave1"],"dependencies":[{"issue_id":"bd-271.9.3","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:20.991050502Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.3","depends_on_id":"bd-271.9.2","type":"blocks","created_at":"2026-02-23T11:05:22.223999906Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:43.869899721Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.3.1","title":"[REN] Subtask 3a Guardrails Policy Enforcement","description":"## Objective\nImplement guardrail and policy enforcement for feature REN service path.\n\n## Acceptance Criteria\n- Violations emit explicit user safe messages.\n- Audit events capture denial and fallback paths.\n- Tests cover allowed denied and degraded flows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:21.164133734Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:05.854425885Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","guardrails","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.9.3.1","depends_on_id":"bd-271.9.3","type":"parent-child","created_at":"2026-02-23T11:05:21.164133734Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:05.854360782Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.4","title":"[REN] Task 4 Slack UX and Interaction Flow","description":"## Objective\nDeliver Slack command thread and interactive UX for feature REN.\n\n## Acceptance Criteria\n- Entry point command action and response blocks implemented.\n- User actions map deterministically to backend state changes.\n- Error and retry paths are understandable and actionable.\n- UX copy is concise and policy aware.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:21.341698032Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:52.896674609Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","slack","wave1"],"dependencies":[{"issue_id":"bd-271.9.4","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:21.341698032Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.4","depends_on_id":"bd-271.9.3","type":"blocks","created_at":"2026-02-23T11:05:22.396794024Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:52.896610408Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.4.1","title":"[REN] Subtask 4a Block Kit Thread Lifecycle","description":"## Objective\nFinalize Block Kit details and thread lifecycle behavior for feature REN.\n\n## Acceptance Criteria\n- Interactive controls are idempotent where retries can occur.\n- Thread updates preserve quote context and chronology.\n- Accessibility and readability checks pass for message blocks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:21.517818257Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:05.614369594Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","subtask","ux","wave1"],"dependencies":[{"issue_id":"bd-271.9.4.1","depends_on_id":"bd-271.9.4","type":"parent-child","created_at":"2026-02-23T11:05:21.517818257Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:05.614302338Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.5","title":"[REN] Task 5 Tests Telemetry Runbook","description":"## Objective\nHarden feature REN with tests telemetry and runbook documentation.\n\n## Acceptance Criteria\n- Unit integration and scenario tests added.\n- Metrics logs and alertable signals emitted.\n- Demo script and operator runbook included.\n- Follow up limitations clearly documented.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:21.693500368Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:52.667429022Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","qa","wave1"],"dependencies":[{"issue_id":"bd-271.9.5","depends_on_id":"bd-271.9","type":"parent-child","created_at":"2026-02-23T11:05:21.693500368Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.5","depends_on_id":"bd-271.9.4","type":"blocks","created_at":"2026-02-23T11:05:22.570031927Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:52.667361744Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-271.9.5.1","title":"[REN] Subtask 5a Demo Checklist","description":"## Objective\nProduce acceptance checklist and scripted demonstration for feature REN.\n\n## Acceptance Criteria\n- Reproducible demo steps with expected outputs.\n- Checklist maps directly to feature acceptance criteria.\n- Known gaps and deferred work are logged.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:05:21.873038375Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:05.385043375Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["REN","demo","subtask","wave1"],"dependencies":[{"issue_id":"bd-271.9.5.1","depends_on_id":"bd-271.9.5","type":"parent-child","created_at":"2026-02-23T11:05:21.873038375Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-271.9.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:05.384955309Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-272","title":"Align AGENTS/CLAUDE with planning config and PROJECT.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T10:51:47.636406141Z","created_by":"ubuntuman","updated_at":"2026-02-23T10:51:51.264495062Z","closed_at":"2026-02-23T10:51:51.246115915Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3d8","title":"EPIC: Foundation Scaffold and Core Bootstrapping","description":"## Purpose\nEstablish the minimum viable Quotey application scaffold before any advanced feature work proceeds.\n\n## Why this is mandatory first\nMultiple parallel feature streams currently exist. Without a shared scaffold baseline, agents risk building incompatible slices and accumulating integration debt.\n\nThis epic creates the canonical first milestone:\n- project skeleton and module boundaries\n- database/migration bootstrapping\n- Slack Socket Mode entrypoint skeleton\n- deterministic flow and CPQ service interfaces\n- core audit/telemetry hooks\n- CLI bootstrap commands and smoke checks\n\n## Coordination contract for all agents\nNo feature implementation starts until the foundation gate task in this epic is complete.\nAll open non-foundation beads are explicitly blocked on that gate.\n\n## Acceptance criteria\n- Scaffold compiles and boots in development mode.\n- Core directories/modules exist per planning architecture.\n- Migrations run and seed baseline data.\n- Slack event loop skeleton and command router are wired.\n- Deterministic engine traits/interfaces are in place.\n- Basic audit pipeline and smoke tests pass.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-23T11:31:31.634275312Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:51.152379064Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["critical-path","foundation","scaffold"],"comments":[{"id":12,"issue_id":"bd-3d8","author":"Junior Love","text":"Coordination update:\n- Introduced hard scaffold-first execution gate for multi-agent safety.\n- All currently open non-foundation beads are blocked on bd-3d8.10.\n- This ensures no advanced feature work starts before scaffold convergence.\n\nOperational guidance:\n- Claim FND tasks first.\n- Close bd-3d8.10 only after FND 01-09 and smoke checks are verified.","created_at":"2026-02-23T11:32:13Z"},{"id":15,"issue_id":"bd-3d8","author":"Junior Love","text":"Gap alignment update from FOUNDATION_IMPLEMENTATION_PLAN:\n- Added missing Phase 0 environment/tooling task and linked it into foundation execution.\n- Added granular subtasks across FND 01/02/03/04/05 to match plan sections.\n- Added explicit subtasks for error taxonomy, doctor checks, health endpoint, quality-gate automation, and migration reversibility verification.\n\nIntent:\n- Keep implementation and tracker in 1:1 alignment so parallel agents can execute without ambiguity.","created_at":"2026-02-23T11:42:51Z"}]}
{"id":"bd-3d8.1","title":"[FND] 01 Scaffold crate and module skeleton","description":"## Objective\\nCreate the baseline Rust crate/module structure aligned with .planning/PROJECT.md.\\n\\n## Acceptance Criteria\\n- src module tree scaffolded for db slack agent flows cpq cli audit.\\n- Build compiles with placeholder implementations.\\n- Module ownership boundaries documented.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:31:31.861656836Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:32.551929795Z","closed_at":"2026-02-23T12:23:32.551890862Z","close_reason":"Completed: foundational crate/module scaffold landed, compiles with placeholders, and ownership boundaries documented in README.","source_repo":".","compaction_level":0,"original_size":0,"labels":["architecture","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.1","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:31.861656836Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1","depends_on_id":"bd-3d8.12","type":"blocks","created_at":"2026-02-23T11:42:34.830199319Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.1","title":"[FND-01a] Workspace manifests and crate boundary layout","description":"## Objective\\nImplement workspace-level Cargo manifests and initial crate layout.\\n\\n## Acceptance Criteria\\n- crates/core, db, slack, agent, cli, server manifests exist.\\n- dependency boundaries align with architecture plan.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:36.197710014Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:30.144838318Z","closed_at":"2026-02-23T12:23:30.144808741Z","close_reason":"Completed: root workspace manifest plus crate manifests for core/db/slack/agent/cli/server created with explicit dependency boundaries.","source_repo":".","compaction_level":0,"original_size":0,"labels":["crate-layout","foundation","scaffold","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.1","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:36.197710014Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.2","title":"[FND-01b] Core crate exports and module skeleton","description":"## Objective\\nCreate core crate module/export skeleton.\\n\\n## Acceptance Criteria\\n- explicit module exports in core lib.\\n- domain/pricing/constraints/policy/flow modules scaffolded.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:36.483411398Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:30.477459636Z","closed_at":"2026-02-23T12:23:30.477443315Z","close_reason":"Completed: core crate exports/module skeleton implemented (domain/cpq/flows/audit with explicit lib exports).","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","foundation","scaffold","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.2","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:36.483411398Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1.2","depends_on_id":"bd-3d8.1.1","type":"blocks","created_at":"2026-02-23T11:42:38.209675058Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.3","title":"[FND-01c] DB crate skeleton and migration embedding setup","description":"## Objective\\nCreate db crate skeleton with migration embedding strategy.\\n\\n## Acceptance Criteria\\n- db connection, migrations, repositories modules scaffolded.\\n- migration embedding approach documented.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:36.767163467Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:30.857503507Z","closed_at":"2026-02-23T12:23:30.857480684Z","close_reason":"Completed: db crate scaffolded with connection/migrations/repositories modules and migration embedding seam documented in code comments.","source_repo":".","compaction_level":0,"original_size":0,"labels":["db","foundation","scaffold","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.3","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:36.767163467Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1.3","depends_on_id":"bd-3d8.1.1","type":"blocks","created_at":"2026-02-23T11:42:38.493491600Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.4","title":"[FND-01d] Slack crate skeleton (socket events commands blocks)","description":"## Objective\\nCreate slack crate skeleton for socket/events/commands/blocks.\\n\\n## Acceptance Criteria\\n- module tree exists and compiles.\\n- event handler seams are explicit.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:37.057270013Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:31.221093188Z","closed_at":"2026-02-23T12:23:31.221076036Z","close_reason":"Completed: slack crate scaffolded with socket/events/commands/blocks modules and explicit event/command seams.","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","scaffold","slack","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.4","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:37.057270013Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1.4","depends_on_id":"bd-3d8.1.1","type":"blocks","created_at":"2026-02-23T11:42:38.772183754Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.5","title":"[FND-01e] Agent crate skeleton (runtime tools guardrails)","description":"## Objective\\nCreate agent crate skeleton and guardrail/tool seams.\\n\\n## Acceptance Criteria\\n- runtime/tools/guardrails modules scaffolded.\\n- LLM/tool traits defined at interface level.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:37.346700264Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:31.551852107Z","closed_at":"2026-02-23T12:23:31.551833111Z","close_reason":"Completed: agent crate scaffolded with runtime/tools/guardrails and interface-level LLM + tool traits.","source_repo":".","compaction_level":0,"original_size":0,"labels":["agent","foundation","scaffold","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.5","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:37.346700264Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1.5","depends_on_id":"bd-3d8.1.1","type":"blocks","created_at":"2026-02-23T11:42:39.054052835Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.6","title":"[FND-01f] CLI crate scaffold and command stubs","description":"## Objective\\nCreate CLI crate scaffold with command stubs.\\n\\n## Acceptance Criteria\\n- start/migrate/seed/config/doctor command surfaces scaffolded.\\n- help output is structured and testable.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:37.637086206Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:31.883447432Z","closed_at":"2026-02-23T12:23:31.883428006Z","close_reason":"Completed: CLI crate scaffolded with start/migrate/seed/config/doctor command stubs and structured clap help surface.","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","foundation","scaffold","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.6","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:37.637086206Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1.6","depends_on_id":"bd-3d8.1.1","type":"blocks","created_at":"2026-02-23T11:42:39.339144761Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.1.7","title":"[FND-01g] Server crate scaffold and bootstrap entrypoint","description":"## Objective\\nCreate server crate scaffold and main bootstrap entrypoint.\\n\\n## Acceptance Criteria\\n- startup wiring path compiles.\\n- graceful shutdown seam defined.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:37.928195621Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:23:32.217868382Z","closed_at":"2026-02-23T12:23:32.217850519Z","close_reason":"Completed: server crate scaffolded with startup wiring and explicit graceful shutdown seam (ctrl-c handler).","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","scaffold","server","subtask"],"dependencies":[{"issue_id":"bd-3d8.1.7","depends_on_id":"bd-3d8.1","type":"parent-child","created_at":"2026-02-23T11:42:37.928195621Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.1.7","depends_on_id":"bd-3d8.1.1","type":"blocks","created_at":"2026-02-23T11:42:39.619073074Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.10","title":"[FND-GATE] Foundation scaffold complete","description":"## Objective\\nAct as the hard dependency gate for all non-foundation work.\\n\\n## Acceptance Criteria\\n- Tasks FND 01 through FND 09 are complete and verified.\\n- Smoke checks and quality gates pass.\\n- Foundation handoff notes documented for all agents.\\n\\n## Coordination Rule\\nNo feature bead outside the foundation subtree may start before this gate is closed.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:31:33.986305727Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:35.081963745Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["critical-path","foundation","gate"],"dependencies":[{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:33.986305727Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.1","type":"blocks","created_at":"2026-02-23T11:31:36.528828958Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.11.11","type":"blocks","created_at":"2026-02-23T11:38:46.259653924Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.12","type":"blocks","created_at":"2026-02-23T11:42:35.081884826Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.2","type":"blocks","created_at":"2026-02-23T11:31:36.757592647Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.3","type":"blocks","created_at":"2026-02-23T11:31:36.985970729Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.4","type":"blocks","created_at":"2026-02-23T11:31:37.212424114Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.5","type":"blocks","created_at":"2026-02-23T11:31:37.442261357Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.6","type":"blocks","created_at":"2026-02-23T11:31:37.672624740Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.7","type":"blocks","created_at":"2026-02-23T11:31:37.910186060Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.8","type":"blocks","created_at":"2026-02-23T11:31:38.136301537Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10","depends_on_id":"bd-3d8.9","type":"blocks","created_at":"2026-02-23T11:31:38.364388982Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.10.1","title":"[FND-10a] Integration smoke test for end-to-end quote path","description":"## Objective\\nCreate integration smoke test validating critical quote path.\\n\\n## Acceptance Criteria\\n- test covers startup, data path, and core transition checkpoints.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:48.938258805Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:48.938258805Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","integration","subtask"],"dependencies":[{"issue_id":"bd-3d8.10.1","depends_on_id":"bd-3d8.10","type":"parent-child","created_at":"2026-02-23T11:42:48.938258805Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.10.2","title":"[FND-10b] Health endpoint and readiness contract","description":"## Objective\\nImplement /health endpoint and readiness response contract.\\n\\n## Acceptance Criteria\\n- reports service/database readiness.\\n- response schema documented and tested.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:49.266322594Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:49.266322594Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","health","subtask"],"dependencies":[{"issue_id":"bd-3d8.10.2","depends_on_id":"bd-3d8.10","type":"parent-child","created_at":"2026-02-23T11:42:49.266322594Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.10.3","title":"[FND-10c] Quality gate command matrix automation","description":"## Objective\\nAutomate quality gate command matrix execution.\\n\\n## Acceptance Criteria\\n- build/test/clippy/fmt/deny/doc checks scripted and documented.\\n- failures produce actionable output.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:49.586062157Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:50.522936013Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","quality-gates","subtask"],"dependencies":[{"issue_id":"bd-3d8.10.3","depends_on_id":"bd-3d8.10","type":"parent-child","created_at":"2026-02-23T11:42:49.586062157Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10.3","depends_on_id":"bd-3d8.10.1","type":"blocks","created_at":"2026-02-23T11:42:50.218048381Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10.3","depends_on_id":"bd-3d8.10.2","type":"blocks","created_at":"2026-02-23T11:42:50.522876701Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.10.4","title":"[FND-10d] Migration reversibility verification workflow","description":"## Objective\\nVerify migration up/down reversibility in repeatable workflow.\\n\\n## Acceptance Criteria\\n- up/down/up produces equivalent schema state.\\n- verification steps documented in runbook.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:49.906675326Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:50.839392489Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","migrations","subtask","verification"],"dependencies":[{"issue_id":"bd-3d8.10.4","depends_on_id":"bd-3d8.10","type":"parent-child","created_at":"2026-02-23T11:42:49.906675326Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.10.4","depends_on_id":"bd-3d8.3.1","type":"blocks","created_at":"2026-02-23T11:42:50.839334660Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11","title":"EPIC: Foundation Research and Planning Groundwork","description":"## Purpose\nEstablish decision-grade research and planning artifacts so implementation teams can move quickly without architectural churn.\n\n## Required outputs\n- ADR-style decision records for each research topic\n- Option analysis with chosen/rejected alternatives\n- Explicit invariants, interfaces, and risk mitigations\n- Verification plans tied to measurable KPIs\n- Sequenced execution plan for next delivery waves\n\n## Collaboration model\n- Multiple agents may work topics in parallel after RCH-00 completes.\n- Every topic must produce a self-contained writeup in repo docs with links from the bead comment trail.\n\n## Definition of done\n- All RCH topics completed with documented decisions.\n- Decision Freeze task approved.\n- Research gate closed and linked into foundation gate.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-23T11:38:36.040776450Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:04:05.232144562Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","planning","research"],"dependencies":[{"issue_id":"bd-3d8.11","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:38:36.040776450Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":13,"issue_id":"bd-3d8.11","author":"Junior Love","text":"Why this exists:\n- Prevent expensive rework during scaffold and feature implementation.\n- Ensure cross-agent consistency on domain model, rules architecture, reliability, and governance.\n\nOperating rule:\n- Do not treat research as abstract docs-only work; each task must end in implementation-ready contracts and acceptance checks.","created_at":"2026-02-23T11:38:36Z"},{"id":14,"issue_id":"bd-3d8.11","author":"Junior Love","text":"Research lane activated under foundation.\n\nCritical sequencing:\n- bd-3d8.11.11 blocks bd-3d8.10.\n- This guarantees scaffold completion includes decision-quality research outcomes.\n\nExecution guidance:\n- Run RCH-00 first.\n- Then parallelize RCH-01..RCH-08 across agents.\n- Converge in RCH-09 and close bd-3d8.11.11.","created_at":"2026-02-23T11:38:46Z"},{"id":17,"issue_id":"bd-3d8.11","author":"Junior Love","text":"RCH-00 completed via .planning/ARCHITECTURE_DECISION_RESEARCH.md (4000 lines). This document now serves as baseline for RCH-01..RCH-09 and decision freeze prep.","created_at":"2026-02-23T12:04:05Z"}]}
{"id":"bd-3d8.11.1","title":"[RCH] 00 Research operating model and ADR template","description":"## Objective\nCreate the shared research operating model and ADR template used by all subsequent RCH tasks.\n\n## Acceptance Criteria\n- ADR template includes: context, options, decision, consequences, risks, verification.\n- Research quality bar documented (evidence requirements, confidence levels, unresolved questions).\n- Output file locations and naming convention defined.\n- Review/approval workflow defined for multi-agent collaboration.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:38:36.538639895Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:03:48.906782025Z","closed_at":"2026-02-23T12:03:48.906757369Z","close_reason":"Completed: ADR operating model and template published","source_repo":".","compaction_level":0,"original_size":0,"labels":["adr","foundation","research"],"dependencies":[{"issue_id":"bd-3d8.11.1","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:36.538639895Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":16,"issue_id":"bd-3d8.11.1","author":"Junior Love","text":"Delivered architecture research dossier and ADR operating model in .planning/ARCHITECTURE_DECISION_RESEARCH.md (4000 lines). Includes ADR template, confidence rubric, dependency overlays, risk/FMEA, scenario catalog, field dictionary, and command cookbook. This satisfies RCH-00 acceptance criteria and provides execution-ready references for downstream RCH tasks.","created_at":"2026-02-23T12:03:48Z"}]}
{"id":"bd-3d8.11.10","title":"[RCH] 09 Decision freeze and phased execution plan","description":"## Objective\nPerform decision freeze and translate research outputs into a sequenced implementation plan.\n\n## Deliverables\n- Finalized ADR index with accepted decisions.\n- Phase plan (P0/P1/P2) and dependency graph.\n- Risks/debt backlog with explicit deferrals.\n\n## Acceptance Criteria\n- All unresolved high-risk questions are either closed or consciously deferred.\n- Plan is executable by multiple agents without ambiguity.\n- Entry criteria for post-foundation feature work defined.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:38:41.164367044Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:32:53.955026154Z","closed_at":"2026-02-23T12:32:53.954973605Z","close_reason":"Completed: decision freeze + phased execution plan in .planning/research/RCH-09-Decision-Freeze-and-Phased-Execution-Plan.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","planning","research"],"dependencies":[{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:41.164367044Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.2","type":"blocks","created_at":"2026-02-23T11:38:43.849599049Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.3","type":"blocks","created_at":"2026-02-23T11:38:44.120931412Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.4","type":"blocks","created_at":"2026-02-23T11:38:44.391208538Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.5","type":"blocks","created_at":"2026-02-23T11:38:44.657450578Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.6","type":"blocks","created_at":"2026-02-23T11:38:44.928825372Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.7","type":"blocks","created_at":"2026-02-23T11:38:45.195424084Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.8","type":"blocks","created_at":"2026-02-23T11:38:45.457999404Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.10","depends_on_id":"bd-3d8.11.9","type":"blocks","created_at":"2026-02-23T11:38:45.723865886Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.11","title":"[RCH-GATE] Research groundwork complete","description":"## Objective\nHard gate signaling research/planning groundwork is complete and implementation-ready.\n\n## Acceptance Criteria\n- RCH-00 through RCH-09 completed and reviewed.\n- ADR index and phased execution plan published.\n- Open assumptions/risks logged as explicit backlog items.\n\n## Coordination Rule\nThis gate must be closed before foundation gate can be closed.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:38:41.441587213Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:33:07.987767654Z","closed_at":"2026-02-23T12:33:07.987748137Z","close_reason":"Completed: RCH-00..RCH-09 complete; ADR index + phased plan published in .planning/research/RCH-09-Decision-Freeze-and-Phased-Execution-Plan.md; explicit risk/assumption deferrals mapped to open backlog beads","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","gate","research"],"dependencies":[{"issue_id":"bd-3d8.11.11","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:41.441587213Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.11","depends_on_id":"bd-3d8.11.10","type":"blocks","created_at":"2026-02-23T11:38:45.996450309Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.2","title":"[RCH] 01 Canonical domain model and invariants","description":"## Objective\nDefine canonical domain model and non-negotiable invariants across quote, line, flow, approval, and audit entities.\n\n## Deliverables\n- Entity map and lifecycle state transitions.\n- Invariant list (must-always-hold rules).\n- Contract boundaries between domain and adapters.\n\n## Acceptance Criteria\n- Ambiguities called out with explicit resolution recommendation.\n- Data ownership and mutation authority documented per entity.\n- Handoff note includes implementation implications.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:36.794696729Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:13:51.636863217Z","closed_at":"2026-02-23T12:13:51.636843420Z","close_reason":"Completed: canonical domain model + invariants artifact at .planning/research/RCH-01-Canonical-Domain-Model-Invariants.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["domain","foundation","research"],"dependencies":[{"issue_id":"bd-3d8.11.2","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:36.794696729Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.2","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:41.712316831Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":18,"issue_id":"bd-3d8.11.2","author":"Codex","text":"Coordination note: overlapping claim detected with LilacMountain. Releasing primary ownership of bd-3d8.11.2 to avoid duplicate execution. Draft artifact produced at .planning/research/bd-3d8.11.2-canonical-domain-model-invariants.md for reuse in bd-3d8.11.2 completion.","created_at":"2026-02-23T12:13:30Z"}]}
{"id":"bd-3d8.11.2.1","title":"[RCH] 01a Domain sequence diagrams and boundary examples","description":"## Objective\\nProduce scenario-driven sequence diagrams for net-new, renewal, and approval exception paths.\\n\\n## Acceptance Criteria\\n- Includes failure/retry branches.\\n- Maps each step to owning service/module.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:37.055381017Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:13:47.690450037Z","closed_at":"2026-02-23T12:13:47.690428637Z","close_reason":"Completed: sequence diagrams and ownership boundaries documented","source_repo":".","compaction_level":0,"original_size":0,"labels":["domain","foundation","research","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.2.1","depends_on_id":"bd-3d8.11.2","type":"parent-child","created_at":"2026-02-23T11:38:37.055381017Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":19,"issue_id":"bd-3d8.11.2.1","author":"Codex","text":"Completed with scenario-driven sequence and boundary artifact at .planning/research/bd-3d8.11.2-canonical-domain-model-invariants.md. See Section 8 for net-new, renewal, and discount exception Mermaid diagrams including failure/retry branches; ownership/service mapping included per scenario.","created_at":"2026-02-23T12:13:46Z"}]}
{"id":"bd-3d8.11.3","title":"[RCH] 02 Rules architecture and evaluation order","description":"## Objective\nFinalize deterministic rule representation and evaluation order for constraints, pricing, and policy engines.\n\n## Deliverables\n- Rule storage model options and tradeoffs.\n- Deterministic evaluation pipeline and precedence rules.\n- Versioning and migration strategy for rule changes.\n\n## Acceptance Criteria\n- Chosen model supports audit explainability and replay.\n- Evaluation order proven with concrete examples.\n- Blast-radius concerns and mitigations documented.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:37.311959454Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:16:58.180936104Z","closed_at":"2026-02-23T12:16:58.180917299Z","close_reason":"Completed: rules architecture + deterministic evaluation order artifact at .planning/research/RCH-02-Rules-Architecture-and-Evaluation-Order.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","research","rules"],"dependencies":[{"issue_id":"bd-3d8.11.3","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:37.311959454Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.3","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:41.978401835Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":20,"issue_id":"bd-3d8.11.3","author":"Codex","text":"Coordination note: overlapping claim detected with LilacMountain (claimed first). Releasing primary ownership to avoid duplicate execution. Draft artifact available at .planning/research/bd-3d8.11.3-rules-architecture-evaluation-order.md for optional reuse.","created_at":"2026-02-23T12:16:28Z"}]}
{"id":"bd-3d8.11.3.1","title":"[RCH] 02a Rule schema alternatives and replay benchmark","description":"## Objective\\nEvaluate at least two schema approaches and benchmark replay/explain cost.\\n\\n## Acceptance Criteria\\n- Decision matrix with objective criteria.\\n- Recommendation includes migration path.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:37.576441328Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:42:23.743142661Z","closed_at":"2026-02-23T12:42:23.743122443Z","close_reason":"Completed: rule schema alternatives + replay/explain benchmark in .planning/research/RCH-02a-Rule-Schema-Alternatives-and-Replay-Benchmark.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","research","rules","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.3.1","depends_on_id":"bd-3d8.11.3","type":"parent-child","created_at":"2026-02-23T11:38:37.576441328Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.4","title":"[RCH] 03 Slack command grammar and thread lifecycle","description":"## Objective\nDefine Slack UX contract: command grammar, thread lifecycle, and interaction affordances.\n\n## Deliverables\n- Command taxonomy and expected payload contracts.\n- Block Kit interaction patterns for decision-heavy flows.\n- Error/recovery UX policy.\n\n## Acceptance Criteria\n- UX contract maps cleanly to deterministic backend actions.\n- Includes accessibility/readability considerations.\n- Covers high-volume thread hygiene strategy.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:37.839035313Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:18:52.844784135Z","closed_at":"2026-02-23T12:18:52.844752435Z","close_reason":"Completed: Slack command grammar and thread lifecycle artifact at .planning/research/RCH-03-Slack-Command-Grammar-and-Thread-Lifecycle.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","research","slack"],"dependencies":[{"issue_id":"bd-3d8.11.4","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:37.839035313Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.4","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:42.249172792Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.4.1","title":"[RCH] 03a Block Kit pattern library and message state map","description":"## Objective\\nDefine reusable Block Kit templates and state transitions.\\n\\n## Acceptance Criteria\\n- Pattern list includes success, warning, approval, and degraded states.\\n- Message updates are idempotency-safe.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:38.102483299Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:41:32.489201813Z","closed_at":"2026-02-23T12:41:32.489183880Z","close_reason":"Completed: created .planning/research/RCH-03a-Block-Kit-Pattern-Library-and-Message-State-Map.md with success/warning/approval/degraded templates and idempotency-safe message update protocol","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","research","slack","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.4.1","depends_on_id":"bd-3d8.11.4","type":"parent-child","created_at":"2026-02-23T11:38:38.102483299Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.5","title":"[RCH] 04 Reliability and idempotency architecture","description":"## Objective\nDesign reliability model for idempotency, retry, timeout, and recovery semantics across adapters.\n\n## Deliverables\n- Failure mode catalog by adapter and operation class.\n- Idempotency key strategy and dedupe semantics.\n- Retry policy matrix with backoff and dead-letter behavior.\n\n## Acceptance Criteria\n- Recovery paths are user-visible and auditable.\n- Exactly-once/at-least-once semantics are explicit per operation.\n- Testing strategy defined for fault injection.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:38.363311807Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:21:20.316951236Z","closed_at":"2026-02-23T12:21:20.316929836Z","close_reason":"Completed: reliability/idempotency architecture artifact at .planning/research/RCH-04-Reliability-and-Idempotency-Architecture.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","reliability","research"],"dependencies":[{"issue_id":"bd-3d8.11.5","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:38.363311807Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.5","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:42.519898362Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.5.1","title":"[RCH] 04a Failure injection test matrix","description":"## Objective\\nCreate a deterministic fault-injection matrix for critical flows.\\n\\n## Acceptance Criteria\\n- Includes Slack, CRM, and PDF adapter failures.\\n- Defines expected system behavior and operator actions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:38.636997926Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:37:42.893326077Z","closed_at":"2026-02-23T12:37:42.893304747Z","close_reason":"Completed: deterministic fault-injection matrix published at .planning/research/RCH-04a-Failure-Injection-Test-Matrix.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","reliability","research","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.5.1","depends_on_id":"bd-3d8.11.5","type":"parent-child","created_at":"2026-02-23T11:38:38.636997926Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.6","title":"[RCH] 05 Approval governance and delegation model","description":"## Objective\nSpecify approval governance: authority matrix, delegation, escalation, and exception policy.\n\n## Deliverables\n- Approval authority matrix and threshold boundaries.\n- Delegation/OOO fallback semantics.\n- Escalation timing and conflict resolution policy.\n\n## Acceptance Criteria\n- Model is enforceable deterministically.\n- Governance rules align with audit/legal requirements.\n- Ambiguous authority scenarios resolved with explicit policy.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:38.908278753Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:24:35.366466681Z","closed_at":"2026-02-23T12:24:35.366443577Z","close_reason":"Completed: approval governance/delegation model artifact at .planning/research/RCH-05-Approval-Governance-and-Delegation-Model.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["approvals","foundation","research"],"dependencies":[{"issue_id":"bd-3d8.11.6","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:38.908278753Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.6","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:42.786760381Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.6.1","title":"[RCH] 05a Approval matrix workbook and edge-case playbook","description":"## Objective\\nDocument edge cases for authority, delegation, and emergency overrides.\\n\\n## Acceptance Criteria\\n- Includes tie-break and audit consequences.\\n- Ready to convert into policy engine fixtures.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:39.182520229Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:37:29.112479140Z","closed_at":"2026-02-23T12:37:29.112461426Z","close_reason":"Completed: created .planning/research/RCH-05a-Approval-Matrix-Workbook-and-Edge-Case-Playbook.md with deterministic authority matrix, tie-break policy, edge-case outcomes, and audit consequences","source_repo":".","compaction_level":0,"original_size":0,"labels":["approvals","foundation","research","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.6.1","depends_on_id":"bd-3d8.11.6","type":"parent-child","created_at":"2026-02-23T11:38:39.182520229Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.7","title":"[RCH] 06 CRM contract and sync boundary design","description":"## Objective\nDefine CRM integration contract and sync boundaries for robust incremental adoption.\n\n## Deliverables\n- Field mapping contract for minimum viable CRM sync.\n- Source-of-truth ownership by field/domain.\n- Conflict and retry semantics for sync operations.\n\n## Acceptance Criteria\n- Contract supports stub mode and composio mode consistently.\n- Error handling and reconciliation strategy documented.\n- Includes offline/demo mode guardrails.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:39.447531400Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:26:00.001540317Z","closed_at":"2026-02-23T12:26:00.001523485Z","close_reason":"Completed: CRM contract/sync boundary artifact at .planning/research/RCH-06-CRM-Contract-and-Sync-Boundary-Design.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["crm","foundation","research"],"dependencies":[{"issue_id":"bd-3d8.11.7","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:39.447531400Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.7","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:43.052548595Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.7.1","title":"[RCH] 06a CRM field-mapping and conflict resolution matrix","description":"## Objective\\nProduce a canonical mapping table and conflict policy table.\\n\\n## Acceptance Criteria\\n- Includes nullability/versioning semantics.\\n- Covers retry-safe write behaviors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:39.719876402Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:39:35.140106411Z","closed_at":"2026-02-23T12:39:35.140087505Z","close_reason":"Completed: created .planning/research/RCH-06a-CRM-Field-Mapping-and-Conflict-Resolution-Matrix.md with canonical field mappings, nullability/versioning semantics, conflict policy matrix, and retry-safe write behaviors","source_repo":".","compaction_level":0,"original_size":0,"labels":["crm","foundation","research","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.7.1","depends_on_id":"bd-3d8.11.7","type":"parent-child","created_at":"2026-02-23T11:38:39.719876402Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.8","title":"[RCH] 07 Observability KPI and SLO framework","description":"## Objective\nDefine observability framework: KPI instrumentation, event taxonomy, and SLO baselines.\n\n## Deliverables\n- KPI list with formulas and owners.\n- Event schema for audit and operational telemetry.\n- Initial SLOs and alert thresholds.\n\n## Acceptance Criteria\n- Metrics enable before/after evaluation of major features.\n- Event schema avoids ambiguity and duplicates.\n- Dashboards/runbooks can be implemented directly from spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:39.992278552Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:27:26.470291218Z","closed_at":"2026-02-23T12:27:26.470274256Z","close_reason":"Completed: observability KPI/SLO artifact at .planning/research/RCH-07-Observability-KPI-and-SLO-Framework.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","observability","research"],"dependencies":[{"issue_id":"bd-3d8.11.8","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:39.992278552Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.8","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:43.322268941Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.8.1","title":"[RCH] 07a Event taxonomy and dashboard blueprint","description":"## Objective\\nDefine event names, dimensions, and dashboard panels.\\n\\n## Acceptance Criteria\\n- Includes latency, failure, approval, and conversion slices.\\n- Directly maps to logging instrumentation tasks.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:40.261180606Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:34:55.177342320Z","closed_at":"2026-02-23T12:34:55.177322031Z","close_reason":"Completed: event taxonomy and dashboard blueprint published at .planning/research/RCH-07a-Event-Taxonomy-and-Dashboard-Blueprint.md","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","observability","research","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.8.1","depends_on_id":"bd-3d8.11.8","type":"parent-child","created_at":"2026-02-23T11:38:40.261180606Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.11.9","title":"[RCH] 08 Security and compliance baseline","description":"## Objective\nEstablish security and compliance baseline: threat model, controls, and sensitive-data boundaries.\n\n## Deliverables\n- Threat model covering Slack, storage, adapters, and operator actions.\n- Control mapping for authn/authz, secrets, audit integrity, and PII handling.\n- Security acceptance criteria for future features.\n\n## Acceptance Criteria\n- Risks ranked by likelihood and impact.\n- Mitigation ownership and verification plan defined.\n- Includes tamper-evidence and incident response hooks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:38:40.610727553Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:27:48.437870314Z","closed_at":"2026-02-23T12:27:48.437848743Z","close_reason":"Completed: security and compliance baseline documented","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","research","security"],"dependencies":[{"issue_id":"bd-3d8.11.9","depends_on_id":"bd-3d8.11","type":"parent-child","created_at":"2026-02-23T11:38:40.610727553Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.11.9","depends_on_id":"bd-3d8.11.1","type":"blocks","created_at":"2026-02-23T11:38:43.585621225Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}],"comments":[{"id":23,"issue_id":"bd-3d8.11.9","author":"Codex","text":"Completed security/compliance baseline deliverables:\\n- .planning/research/RCH-05-Security-and-Compliance-Baseline.md\\n- .planning/research/ADR-005-Security-Baseline-Architecture.md\\nIncludes threat model, risk-ranked control map, security acceptance criteria, tamper-evidence strategy, and incident response hooks.","created_at":"2026-02-23T12:27:48Z"}]}
{"id":"bd-3d8.11.9.1","title":"[RCH] 08a Threat model worksheet and control map","description":"## Objective\\nCreate actionable threat model artifacts tied to implementation controls.\\n\\n## Acceptance Criteria\\n- Contains abuse cases and control verifications.\\n- Includes logging and incident response requirements.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T11:38:40.888211611Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:34:05.802731330Z","closed_at":"2026-02-23T12:34:05.802714007Z","close_reason":"Completed: created .planning/research/RCH-08a-Threat-Model-Worksheet-and-Control-Map.md with abuse-case matrix, control verification map, logging requirements, and incident-response hooks","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","research","security","subtask"],"dependencies":[{"issue_id":"bd-3d8.11.9.1","depends_on_id":"bd-3d8.11.9","type":"parent-child","created_at":"2026-02-23T11:38:40.888211611Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.12","title":"[FND] 00 Environment and tooling validation","description":"## Objective\nValidate local development environment and tooling baseline before scaffold implementation.\n\n## Source Mapping\nDerived from `.planning/FOUNDATION_IMPLEMENTATION_PLAN.md` Phase 0.\n\n## Acceptance Criteria\n- Rust toolchain version requirement documented and checked.\n- rustfmt and clippy strict config enforced.\n- sqlx-cli, nextest, and cargo-deny checks integrated in workflow.\n- Verification commands recorded for repeatable onboarding.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:42:34.573621462Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:19:05.141397847Z","closed_at":"2026-02-23T12:19:05.141370515Z","close_reason":"Completed: environment/tooling validation baseline established and documented; required tooling commands verified and reproducible Phase 0 checklist added.","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","phase0","tooling"],"dependencies":[{"issue_id":"bd-3d8.12","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:42:34.573621462Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.12.1","title":"[FND-00a] Rust toolchain and workspace lint baseline","description":"## Objective\\nVerify rust toolchain and lint/format baselines.\\n\\n## Acceptance Criteria\\n- rustc >= required version validated.\\n- rustfmt and clippy strict settings documented and reproducible.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:35.356421339Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:19:04.480636516Z","closed_at":"2026-02-23T12:19:04.480615306Z","close_reason":"Completed: documented/validated rustc>=1.75 and established rustfmt+clippy baseline via rust-toolchain.toml, rustfmt.toml, and .cargo/config.toml strict lint aliases.","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","phase0","subtask","tooling"],"dependencies":[{"issue_id":"bd-3d8.12.1","depends_on_id":"bd-3d8.12","type":"parent-child","created_at":"2026-02-23T11:42:35.356421339Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.12.2","title":"[FND-00b] SQLx/nextest/cargo-deny tooling checks","description":"## Objective\\nValidate foundational dev tooling required by plan.\\n\\n## Acceptance Criteria\\n- sqlx-cli, nextest, cargo-deny availability verified.\\n- check commands captured in onboarding/doctor documentation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:35.637404320Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:19:04.811286718Z","closed_at":"2026-02-23T12:19:04.811260268Z","close_reason":"Completed: installed and verified cargo-sqlx, cargo-nextest, cargo-deny; captured onboarding and verification workflow in .planning/FOUNDATION_QUICKSTART.md and README.md; added deny.toml policy.","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","phase0","subtask","tooling"],"dependencies":[{"issue_id":"bd-3d8.12.2","depends_on_id":"bd-3d8.12","type":"parent-child","created_at":"2026-02-23T11:42:35.637404320Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.12.2","depends_on_id":"bd-3d8.12.1","type":"blocks","created_at":"2026-02-23T11:42:35.911947586Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.2","title":"[FND] 02 Config and bootstrap wiring","description":"## Objective\\nImplement startup config loading and validation with sane defaults.\\n\\n## Acceptance Criteria\\n- config loader supports env interpolation.\\n- startup fails fast with actionable errors.\\n- config contract documented for local development.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:31:32.089948134Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:29:17.801798621Z","closed_at":"2026-02-23T12:29:17.801779855Z","close_reason":"Completed: config/bootstrap wiring landed with env interpolation, fail-fast actionable validation, and documented local-development config contract.","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.2","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:32.089948134Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.2","depends_on_id":"bd-3d8.1","type":"blocks","created_at":"2026-02-23T11:31:34.216137309Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.2.1","title":"[FND-02a] Config schema structs and defaults","description":"## Objective\\nDefine config schema sections and defaults.\\n\\n## Acceptance Criteria\\n- database/slack/llm/server/logging sections typed.\\n- default values and required fields explicit.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:39.911736448Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:29:16.543439074Z","closed_at":"2026-02-23T12:29:16.543420097Z","close_reason":"Completed: typed AppConfig schema/defaults implemented with database/slack/llm/server/logging sections in quotey-core config module.","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.2.1","depends_on_id":"bd-3d8.2","type":"parent-child","created_at":"2026-02-23T11:42:39.911736448Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.2.2","title":"[FND-02b] Layered config loading precedence","description":"## Objective\\nImplement layered config loading precedence.\\n\\n## Acceptance Criteria\\n- defaults -> file -> env -> cli precedence verified.\\n- deterministic merge behavior tested.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:40.213786933Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:29:16.857201931Z","closed_at":"2026-02-23T12:29:16.857182906Z","close_reason":"Completed: deterministic layered loading implemented (defaults -> file with env interpolation -> QUOTEY_* env -> overrides) with precedence tests.","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.2.2","depends_on_id":"bd-3d8.2","type":"parent-child","created_at":"2026-02-23T11:42:40.213786933Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.2.2","depends_on_id":"bd-3d8.2.1","type":"blocks","created_at":"2026-02-23T11:42:41.084355370Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.2.3","title":"[FND-02c] Config validation and secret handling tests","description":"## Objective\\nImplement validation rules and secret handling safeguards.\\n\\n## Acceptance Criteria\\n- token/url/timeout validation tests present.\\n- secrets avoid accidental debug leakage.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:40.503711265Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:29:17.179787016Z","closed_at":"2026-02-23T12:29:17.179770344Z","close_reason":"Completed: validation and secret-handling tests added (token/url/timeout checks + SecretString debug redaction assertions).","source_repo":".","compaction_level":0,"original_size":0,"labels":["config","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.2.3","depends_on_id":"bd-3d8.2","type":"parent-child","created_at":"2026-02-23T11:42:40.503711265Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.2.3","depends_on_id":"bd-3d8.2.2","type":"blocks","created_at":"2026-02-23T11:42:41.371208825Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.2.4","title":"[FND-02d] Application bootstrap wiring and DI container","description":"## Objective\\nWire application bootstrap and DI container composition.\\n\\n## Acceptance Criteria\\n- components wired via typed interfaces.\\n- bootstrap failure modes are explicit and tested.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:40.799543692Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:29:17.489081784Z","closed_at":"2026-02-23T12:29:17.489052719Z","close_reason":"Completed: server bootstrap wiring implemented with typed Application composition, explicit BootstrapError failure modes, and bootstrap failure test.","source_repo":".","compaction_level":0,"original_size":0,"labels":["bootstrap","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.2.4","depends_on_id":"bd-3d8.2","type":"parent-child","created_at":"2026-02-23T11:42:40.799543692Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.2.4","depends_on_id":"bd-3d8.2.2","type":"blocks","created_at":"2026-02-23T11:42:41.654907144Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.3","title":"[FND] 03 SQLite base schema and migration runner","description":"## Objective\\nAdd base migration pipeline and first schema scaffolding.\\n\\n## Acceptance Criteria\\n- migration command works from CLI.\\n- baseline tables for quotes flow_state audit exist.\\n- migrations are reversible and tested.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:31:32.319177099Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:34:33.643923589Z","closed_at":"2026-02-23T12:34:33.643903952Z","close_reason":"Completed: migration runner wired (sqlx migrator), CLI migrate command operational, baseline schema reversible and tested.","source_repo":".","compaction_level":0,"original_size":0,"labels":["database","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.3","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:32.319177099Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.3","depends_on_id":"bd-3d8.1","type":"blocks","created_at":"2026-02-23T11:31:34.449586048Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.3.1","title":"[FND-03a] Initial migration set for core CPQ tables","description":"## Objective\\nCreate initial schema migration set per foundation plan.\\n\\n## Acceptance Criteria\\n- baseline core tables present with FK/index strategy.\\n- migration up/down paths validated.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:41.955698637Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:34:32.663950056Z","closed_at":"2026-02-23T12:34:32.663928696Z","close_reason":"Completed: initial reversible migration set added under migrations/ with baseline quote/quote_line/flow_state/audit_event tables and migration up/down validation tests.","source_repo":".","compaction_level":0,"original_size":0,"labels":["database","foundation","migration","subtask"],"dependencies":[{"issue_id":"bd-3d8.3.1","depends_on_id":"bd-3d8.3","type":"parent-child","created_at":"2026-02-23T11:42:41.955698637Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.3.2","title":"[FND-03b] SQLite pool settings and PRAGMA enforcement","description":"## Objective\\nImplement connection pool and SQLite PRAGMA settings.\\n\\n## Acceptance Criteria\\n- foreign key and WAL settings enforced after connect.\\n- connection timeout/limits configurable.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:42.255747941Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:34:32.994416795Z","closed_at":"2026-02-23T12:34:32.994393852Z","close_reason":"Completed: SQLite pool settings include configurable connection/timeouts and enforced PRAGMA foreign_keys/WAL/busy_timeout via after_connect.","source_repo":".","compaction_level":0,"original_size":0,"labels":["database","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.3.2","depends_on_id":"bd-3d8.3","type":"parent-child","created_at":"2026-02-23T11:42:42.255747941Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.3.2","depends_on_id":"bd-3d8.3.1","type":"blocks","created_at":"2026-02-23T11:42:42.848505434Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.3.3","title":"[FND-03c] Repository traits and in-memory test doubles","description":"## Objective\\nDefine repository traits and mock/test implementations.\\n\\n## Acceptance Criteria\\n- quote/product repository interfaces stable.\\n- in-memory doubles enable contract tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:42.556897117Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:34:33.319859418Z","closed_at":"2026-02-23T12:34:33.319839449Z","close_reason":"Completed: repository traits stabilized and in-memory quote/product test doubles implemented with passing contract tests.","source_repo":".","compaction_level":0,"original_size":0,"labels":["database","foundation","repository","subtask"],"dependencies":[{"issue_id":"bd-3d8.3.3","depends_on_id":"bd-3d8.3","type":"parent-child","created_at":"2026-02-23T11:42:42.556897117Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.3.3","depends_on_id":"bd-3d8.3.1","type":"blocks","created_at":"2026-02-23T11:42:43.137271272Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.4","title":"[FND] 04 Repository and domain trait contracts","description":"## Objective\\nDefine repository interfaces and domain contracts for deterministic services.\\n\\n## Acceptance Criteria\\n- traits and models defined for quote flow pricing policy approvals.\\n- clear separation between domain and adapter layers.\\n- mock/test seams available.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:31:32.555275222Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:37:08.764400485Z","closed_at":"2026-02-23T12:37:08.764376911Z","close_reason":"Completed: repository/domain contract layer defined for quote flow/pricing/policy/approvals with adapter separation and in-memory seams.","source_repo":".","compaction_level":0,"original_size":0,"labels":["domain","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.4","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:32.555275222Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.4","depends_on_id":"bd-3d8.3","type":"blocks","created_at":"2026-02-23T11:31:34.679550129Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.4.1","title":"[FND-04a] Quote aggregate and lifecycle status model","description":"## Objective\\nDefine quote aggregate root and status transitions data model.\\n\\n## Acceptance Criteria\\n- quote and quote line structures finalized.\\n- status enum aligns with flow design.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:43.440041585Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:37:07.820900853Z","closed_at":"2026-02-23T12:37:07.820869894Z","close_reason":"Completed: quote aggregate/lifecycle model expanded with deterministic status transitions and lifecycle tests.","source_repo":".","compaction_level":0,"original_size":0,"labels":["domain","foundation","quote","subtask"],"dependencies":[{"issue_id":"bd-3d8.4.1","depends_on_id":"bd-3d8.4","type":"parent-child","created_at":"2026-02-23T11:42:43.440041585Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.4.2","title":"[FND-04b] Pricing result and pricing trace domain types","description":"## Objective\\nDefine pricing result and trace domain types.\\n\\n## Acceptance Criteria\\n- monetary and trace fields typed and auditable.\\n- no floating-point monetary values.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:43.745888645Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:37:08.137367286Z","closed_at":"2026-02-23T12:37:08.137350305Z","close_reason":"Completed: pricing result + trace domain types added (typed Decimal monetary fields and auditable trace steps).","source_repo":".","compaction_level":0,"original_size":0,"labels":["domain","foundation","pricing","subtask"],"dependencies":[{"issue_id":"bd-3d8.4.2","depends_on_id":"bd-3d8.4","type":"parent-child","created_at":"2026-02-23T11:42:43.745888645Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.4.2","depends_on_id":"bd-3d8.4.1","type":"blocks","created_at":"2026-02-23T11:42:44.338655394Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.4.3","title":"[FND-04c] Constraint and policy domain type system","description":"## Objective\\nDefine constraints and policy domain structures and evaluation inputs.\\n\\n## Acceptance Criteria\\n- constraint and policy types are explicit.\\n- structures support deterministic evaluation and explanations.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:44.044891796Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:37:08.446881749Z","closed_at":"2026-02-23T12:37:08.446862963Z","close_reason":"Completed: explicit constraint/policy domain input-output models added to support deterministic evaluation + explanation payloads.","source_repo":".","compaction_level":0,"original_size":0,"labels":["constraints","domain","foundation","policy","subtask"],"dependencies":[{"issue_id":"bd-3d8.4.3","depends_on_id":"bd-3d8.4","type":"parent-child","created_at":"2026-02-23T11:42:44.044891796Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.4.3","depends_on_id":"bd-3d8.4.1","type":"blocks","created_at":"2026-02-23T11:42:44.634020030Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.5","title":"[FND] 05 Slack Socket Mode skeleton and command router","description":"## Objective\\nWire Slack Socket Mode loop and minimal command routing skeleton.\\n\\n## Acceptance Criteria\\n- bot can connect and receive events.\\n- command routes map into service entrypoints.\\n- safe error handling and structured logs in place.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-23T11:31:32.787397310Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:46:11.646643747Z","closed_at":"2026-02-23T12:46:11.646620103Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","scaffold","slack"],"dependencies":[{"issue_id":"bd-3d8.5","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:32.787397310Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.5","depends_on_id":"bd-3d8.1","type":"blocks","created_at":"2026-02-23T11:31:34.911538896Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.5.1","title":"[FND-05a] Socket Mode client lifecycle and reconnect policy","description":"## Objective\\nImplement Socket Mode client lifecycle skeleton.\\n\\n## Acceptance Criteria\\n- connect/reconnect lifecycle defined.\\n- failure handling does not crash process by default.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:44.935875448Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:46:10.275289768Z","closed_at":"2026-02-23T12:46:10.275265582Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","slack","socket","subtask"],"dependencies":[{"issue_id":"bd-3d8.5.1","depends_on_id":"bd-3d8.5","type":"parent-child","created_at":"2026-02-23T11:42:44.935875448Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.5.2","title":"[FND-05b] Event handler trait contracts and dispatcher","description":"## Objective\\nDefine event handler trait and dispatcher pattern.\\n\\n## Acceptance Criteria\\n- typed handler interfaces established.\\n- event dispatch pipeline testable.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:45.243925610Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:46:10.600875984Z","closed_at":"2026-02-23T12:46:10.600856036Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"labels":["events","foundation","slack","subtask"],"dependencies":[{"issue_id":"bd-3d8.5.2","depends_on_id":"bd-3d8.5","type":"parent-child","created_at":"2026-02-23T11:42:45.243925610Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.5.2","depends_on_id":"bd-3d8.5.1","type":"blocks","created_at":"2026-02-23T11:42:46.166289079Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.5.3","title":"[FND-05c] Slash command router for quote lifecycle commands","description":"## Objective\\nImplement command router for quote commands.\\n\\n## Acceptance Criteria\\n- /quote new status list help routes are stubbed with structured responses.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:45.550213571Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:46:10.920554196Z","closed_at":"2026-02-23T12:46:10.920534538Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"labels":["commands","foundation","slack","subtask"],"dependencies":[{"issue_id":"bd-3d8.5.3","depends_on_id":"bd-3d8.5","type":"parent-child","created_at":"2026-02-23T11:42:45.550213571Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.5.3","depends_on_id":"bd-3d8.5.2","type":"blocks","created_at":"2026-02-23T11:42:46.462341170Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.5.4","title":"[FND-05d] Type-safe Block Kit builders and response templates","description":"## Objective\\nProvide type-safe Block Kit builders for core response types.\\n\\n## Acceptance Criteria\\n- approval/status/error message templates exist.\\n- avoids raw ad-hoc JSON construction.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:45.863594449Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:46:11.286404453Z","closed_at":"2026-02-23T12:46:11.286384686Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"labels":["blockkit","foundation","slack","subtask"],"dependencies":[{"issue_id":"bd-3d8.5.4","depends_on_id":"bd-3d8.5","type":"parent-child","created_at":"2026-02-23T11:42:45.863594449Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.5.4","depends_on_id":"bd-3d8.5.2","type":"blocks","created_at":"2026-02-23T11:42:46.759519824Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.6","title":"[FND] 06 Deterministic flow engine skeleton","description":"## Objective\\nCreate base flow state machine interfaces and transition guards.\\n\\n## Acceptance Criteria\\n- flow states and transition contracts implemented.\\n- invalid transitions blocked deterministically.\\n- initial net-new flow stub exists.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T11:31:33.018679164Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:49:12.858714429Z","closed_at":"2026-02-23T12:49:12.858694892Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"labels":["flows","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.6","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:33.018679164Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.6","depends_on_id":"bd-3d8.4","type":"blocks","created_at":"2026-02-23T11:31:35.138853153Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.7","title":"[FND] 07 CPQ core service stubs (constraints pricing policy)","description":"## Objective\\nCreate CPQ core stubs and deterministic orchestration seams.\\n\\n## Acceptance Criteria\\n- constraints pricing and policy services have explicit interfaces.\\n- pricing trace object is defined.\\n- integration stubs can be called from flow runtime.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-23T11:31:33.253698433Z","created_by":"ubuntuman","updated_at":"2026-02-23T12:49:39.088933955Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cpq","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.7","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:33.253698433Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.7","depends_on_id":"bd-3d8.4","type":"blocks","created_at":"2026-02-23T11:31:35.373849889Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.8","title":"[FND] 08 Audit telemetry and error taxonomy baseline","description":"## Objective\\nInstall audit events telemetry hooks and shared error taxonomy.\\n\\n## Acceptance Criteria\\n- audit events emitted at key boundaries.\\n- structured logs include correlation fields quote_id thread_id.\\n- error types normalized with user-safe messages.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:31:33.499806228Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:35.833788812Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","observability","scaffold"],"dependencies":[{"issue_id":"bd-3d8.8","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:33.499806228Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.8","depends_on_id":"bd-3d8.3","type":"blocks","created_at":"2026-02-23T11:31:35.605300992Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.8","depends_on_id":"bd-3d8.5","type":"blocks","created_at":"2026-02-23T11:31:35.833719190Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.8.1","title":"[FND-08a] Layered error taxonomy (domain app interface)","description":"## Objective\\nImplement layered error taxonomy aligned with foundation appendix strategy.\\n\\n## Acceptance Criteria\\n- domain/app/interface error layers defined.\\n- conversion boundaries explicit and tested.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:47.068869236Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:47.068869236Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["errors","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.8.1","depends_on_id":"bd-3d8.8","type":"parent-child","created_at":"2026-02-23T11:42:47.068869236Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.8.2","title":"[FND-08b] Structured tracing with quote/thread correlation","description":"## Objective\\nAdd structured tracing conventions with correlation fields.\\n\\n## Acceptance Criteria\\n- quote_id/thread_id correlation fields standardized.\\n- log events map to audit and debugging workflows.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:47.389870015Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:47.694816077Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation","observability","subtask","tracing"],"dependencies":[{"issue_id":"bd-3d8.8.2","depends_on_id":"bd-3d8.8","type":"parent-child","created_at":"2026-02-23T11:42:47.389870015Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.8.2","depends_on_id":"bd-3d8.8.1","type":"blocks","created_at":"2026-02-23T11:42:47.694729363Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.9","title":"[FND] 09 CLI boot commands (start migrate seed smoke)","description":"## Objective\\nProvide operational CLI commands needed for day-1 development and demos.\\n\\n## Acceptance Criteria\\n- quotey start migrate seed-demo commands wired.\\n- smoke command validates critical startup path.\\n- command help text is complete and accurate.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:31:33.740280647Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:36.296596111Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","foundation","scaffold"],"dependencies":[{"issue_id":"bd-3d8.9","depends_on_id":"bd-3d8","type":"parent-child","created_at":"2026-02-23T11:31:33.740280647Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.9","depends_on_id":"bd-3d8.3","type":"blocks","created_at":"2026-02-23T11:31:36.059902105Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.9","depends_on_id":"bd-3d8.5","type":"blocks","created_at":"2026-02-23T11:31:36.296529886Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.9.1","title":"[FND-09a] Doctor command checks for config db slack readiness","description":"## Objective\\nImplement doctor checks for local readiness.\\n\\n## Acceptance Criteria\\n- config validation, db connectivity, and slack token checks included.\\n- output is machine- and human-readable.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:48.004911354Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:48.004911354Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","doctor","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.9.1","depends_on_id":"bd-3d8.9","type":"parent-child","created_at":"2026-02-23T11:42:48.004911354Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-3d8.9.2","title":"[FND-09b] Config inspection command with source precedence output","description":"## Objective\\nImplement config introspection command showing effective values and source precedence.\\n\\n## Acceptance Criteria\\n- sensitive values redacted.\\n- source attribution displayed for troubleshooting.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:42:48.318404334Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:42:48.623379543Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","config","foundation","subtask"],"dependencies":[{"issue_id":"bd-3d8.9.2","depends_on_id":"bd-3d8.9","type":"parent-child","created_at":"2026-02-23T11:42:48.318404334Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-3d8.9.2","depends_on_id":"bd-3d8.9.1","type":"blocks","created_at":"2026-02-23T11:42:48.623318699Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d","title":"EPIC: Quotey AI-Native CPQ Enhancement Initiative","description":"# EPIC: Quotey AI-Native CPQ Enhancement Initiative\n\n## Vision & Strategic Context\n\nThis epic represents a fundamental evolution of Quotey from a deterministic CPQ tool into an **AI-native, intelligence-driven quoting platform** that operates at the speed of conversation while maintaining absolute determinism for pricing and policy decisions.\n\n### Why This Matters Now\n\nTraditional CPQ systems are form-heavy, approval-slow, and knowledge-siloed. Sales reps spend 30%+ of their time on administrative quote activities rather than selling. This initiative changes the game by:\n\n1. **Meeting users where they work** (Slack-native, conversation-first)\n2. **Surfacing tribal knowledge automatically** (Deal DNA, past outcomes)\n3. **Removing friction from approvals** (emoji micro-approvals, smart routing)\n4. **Making the system explainable** (policy reasoning in plain English)\n5. **Ensuring trust through cryptographic integrity** (immutable audit trails)\n\n### Core Architectural Principles\n\nThese features share DNA that honors Quotey's foundational safety principle:\n\n- **Deterministic Reliability**: LLMs translate, predict, and explain—but NEVER decide prices, validity, or policy\n- **AI-Powered UX**: Natural language, prediction, proactive assistance\n- **Slack-Native Velocity**: Every feature optimized for thread-based collaboration\n- **Progressive Enhancement**: Core CPQ works without AI; AI makes it faster/smarter\n\n### Success Metrics\n\n- Quote creation time: 50% reduction\n- Approval cycle time: 70% reduction  \n- Sales rep satisfaction: NPS > 50\n- Quote accuracy: 99.5%+ (zero AI-induced pricing errors)\n- System adoption: 90%+ daily active usage\n\n### Implementation Approach\n\nThis epic decomposes into 10 major feature areas, each with granular sub-tasks:\n\n1. **Deal DNA** - Configuration fingerprinting for intelligent similarity matching\n2. **Conversational Solver** - Natural language constraint resolution\n3. **Emoji Micro-Approvals** - Frictionless approval workflows\n4. **Ghost Quotes** - Predictive opportunity creation from buying signals\n5. **Explainable Policy Engine** - Transparent reasoning for all decisions\n6. **Live Multi-User Sessions** - Real-time collaborative quote editing\n7. **Win Probability Pricing** - Data-informed pricing optimization\n8. **Immutable Quote Ledger** - Cryptographic integrity guarantees\n9. **Configuration Archaeology** - Natural language forensics for constraints\n10. **Smart Thread Routing** - Authority-aware automatic routing\n\n### Technical Foundation\n\nAll features build on Quotey's existing stack:\n- Rust backend with SQLx migrations\n- SQLite with vector extensions (planned)\n- Slack Socket Mode + Block Kit\n- Deterministic rule engine (unchanged)\n\n### Quality Gates\n\nFor ALL stories in this epic:\n- `cargo check` - Type checking and compilation\n- `cargo clippy` - Linting\n- `cargo test` - Unit tests pass\n- SQLx migrations must be reversible\n- No AI in critical path of pricing/policy decisions","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-23T11:02:31.214933450Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:03.519710844Z","external_ref":"agents:brainstorming-session-2026-02-23","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:03.519648587Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1","title":"FEAT-01: Deal DNA - Configuration Fingerprint Matching","description":"# FEAT-01: Deal DNA - Configuration Fingerprint Matching\n\n## Feature Overview\n\nDeal DNA provides **intelligent similarity matching** for quotes by generating mathematical fingerprints of every configuration. When a rep builds a quote, the system instantly surfaces 3-5 most similar past deals with their outcomes, pricing, and customer profiles.\n\n### The Problem This Solves\n\nSales reps operate in isolation. They don't know:\n- \"What did we charge similar customers?\"\n- \"What configs closed successfully for this use case?\"\n- \"What's the market-tested discount for this segment?\"\n\nTribal knowledge walks out the door when reps leave. Deal DNA captures it permanently.\n\n### How It Works\n\n1. **Fingerprint Generation**: Every finalized quote gets a MinHash/simhash fingerprint of its configuration\n2. **Vector Storage**: Fingerprints stored with outcome metadata (won/lost, final price, close time)\n3. **Similarity Query**: New quotes query for nearest neighbors in fingerprint space\n4. **Contextual Presentation**: Results shown with relevance scores and outcome summaries\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"Building quote for Acme Corp, Enterprise tier + Premium Support + API access\"\nQuotey: [Shows quote preview with Deal DNA card]\n        \"Similar deals closed at $45-52k with 15-20% discounts\"\n        \"3 of 5 similar deals won (60% win rate)\"\n        \"Average sales cycle: 34 days\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Quote Service  │────▶│ Fingerprint      │────▶│  Vector Store   │\n│                 │     │ Generator        │     │  (SQLite +      │\n└─────────────────┘     └──────────────────┘     │   extensions)   │\n         │                                         └─────────────────┘\n         │                                                   ▲\n         │              ┌──────────────────┐                   │\n         └─────────────▶│ Similarity       │───────────────────┘\n                        │ Query Engine     │\n                        └──────────────────┘\n```\n\n### Data Model Additions\n\n- `configuration_fingerprints` table: hash, vector representation, quote reference\n- `similarity_indices` table: precomputed similarity scores for fast lookup\n- `deal_outcomes` table: win/loss, final terms, close date\n\n### Integration Points\n\n- Quote finalization trigger (auto-generate fingerprint)\n- Quote retrieval (fetch similar deals)\n- Slack Block Kit rendering (similarity card)\n- Analytics dashboard (aggregate patterns)\n\n### Acceptance Criteria\n- [ ] Fingerprints generate deterministically for identical configs\n- [ ] Similarity queries return results in <100ms\n- [ ] Results include at least: price range, discount range, win rate\n- [ ] Integration with existing quote workflow (no extra steps)\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes\n- [ ] Migration is reversible","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:02:42.241808630Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:49.879972061Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:49.879896679Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:02:42.241808630Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.1","title":"DNA-001: Create configuration_fingerprints database schema","description":"## DNA-001: Create configuration_fingerprints database schema\n\n### Background\nDeal DNA requires storing mathematical fingerprints of quote configurations for similarity matching. This is the foundational database work.\n\n### Acceptance Criteria\n- [ ] Create `configuration_fingerprints` table with:\n  - id (UUID primary key)\n  - quote_id (foreign key to quotes)\n  - fingerprint_hash (string, indexed)\n  - configuration_vector (BLOB for vector storage)\n  - outcome_status (won/lost/pending)\n  - final_price (decimal)\n  - close_date (timestamp, nullable)\n  - created_at (timestamp)\n- [ ] Create `similarity_cache` table for precomputed similarities\n- [ ] Add SQLx migration (reversible)\n- [ ] Add indexes on fingerprint_hash and quote_id\n- [ ] `cargo sqlx migrate run` succeeds\n- [ ] `cargo check` passes","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:04:44.553390122Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:40.927658267Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:40.927593584Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.1","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:44.553390122Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.2","title":"DNA-002: Implement MinHash fingerprint generation service","description":"## DNA-002: Implement MinHash fingerprint generation service\n\n### Background\nGenerate deterministic fingerprints from quote configurations using MinHash algorithm for efficient similarity estimation.\n\n### Acceptance Criteria\n- [ ] Create `FingerprintGenerator` service in `src/dna/`\n- [ ] Implement MinHash (or SimHash) algorithm\n- [ ] Input: Quote configuration (JSON/product selection)\n- [ ] Output: 128-bit fingerprint hash + vector representation\n- [ ] Same configuration = identical fingerprint (deterministic)\n- [ ] Similar configurations = similar hashes (locality sensitive)\n- [ ] Unit tests with 90%+ coverage\n- [ ] `cargo test` passes\n- [ ] `cargo clippy` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:04:47.315937584Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:48.256125055Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:48.256044723Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.2","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:47.315937584Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.2","depends_on_id":"bd-70d.1.1","type":"blocks","created_at":"2026-02-23T11:29:27.182791355Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.3","title":"DNA-003: Build similarity search query engine","description":"## DNA-003: Build similarity search query engine\n\n### Background\nQuery engine to find similar deals given a fingerprint. Uses k-NN or similar vector similarity search.\n\n### Acceptance Criteria\n- [ ] Create `SimilarityEngine` in `src/dna/`\n- [ ] Implement cosine similarity or Hamming distance for fingerprint comparison\n- [ ] Method: `find_similar(fingerprint, limit: usize) -> Vec<SimilarDeal>`\n- [ ] Return deals within similarity threshold (configurable, default 0.8)\n- [ ] Query performance: <100ms for 10k fingerprints\n- [ ] Include outcome metadata in results\n- [ ] Unit tests with sample data\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:04:49.930973156Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:48.029254685Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:48.029161970Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.3","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:49.930973156Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.3","depends_on_id":"bd-70d.1.2","type":"blocks","created_at":"2026-02-23T11:29:27.399585485Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.4","title":"DNA-004: Create API endpoints for similarity queries","description":"## DNA-004: Create API endpoints for similarity queries\n\n### Background\nREST API for fetching similar deals for a given quote.\n\n### Acceptance Criteria\n- [ ] Add GET `/api/v1/quotes/:id/similar-deals` endpoint\n- [ ] Returns JSON array of similar deals with:\n  - quote_id, customer_name, similarity_score\n  - outcome (won/lost), final_price, close_date\n- [ ] Query param: `limit` (default 5, max 20)\n- [ ] Query param: `min_similarity` (default 0.7)\n- [ ] HTTP 404 if quote not found\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:04:52.461910937Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:02.357674408Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:02.357599387Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.4","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:52.461910937Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.4","depends_on_id":"bd-70d.1.3","type":"blocks","created_at":"2026-02-23T11:29:27.611410101Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.5","title":"DNA-005: Add Slack Block Kit Deal DNA card renderer","description":"## DNA-005: Add Slack Block Kit Deal DNA card renderer\n\n### Background\nRender Deal DNA similar deals as a rich Block Kit card in Slack threads.\n\n### Acceptance Criteria\n- [ ] Create `DealDnaCard` component in `src/slack/blocks/`\n- [ ] Display: similarity score, price range, discount range, win rate\n- [ ] Show up to 5 similar deals in collapsible section\n- [ ] Include \"View Details\" button for each similar deal\n- [ ] Style with appropriate emojis (📊 💰 🎯)\n- [ ] Compact view for thread context\n- [ ] Unit tests for card generation\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:04:59.315084996Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:02.130388033Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:02.130324654Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.5","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:04:59.315084996Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.5","depends_on_id":"bd-70d.1.4","type":"blocks","created_at":"2026-02-23T11:29:27.825869372Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.6","title":"DNA-006: Integrate fingerprint generation with quote lifecycle","description":"## DNA-006: Integrate fingerprint generation with quote lifecycle\n\n### Background\nAuto-generate fingerprints when quotes are finalized/closed.\n\n### Acceptance Criteria\n- [ ] Hook into quote finalization event\n- [ ] Generate and store fingerprint on quote close\n- [ ] Update fingerprint if quote is reopened/modified\n- [ ] Store outcome when deal is marked won/lost\n- [ ] Background job for backfilling historical quotes\n- [ ] Integration test: quote finalization → fingerprint created\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:01.469803985Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:01.903678666Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.6","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:01.903615508Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.6","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:05:01.469803985Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.6","depends_on_id":"bd-70d.1.2","type":"blocks","created_at":"2026-02-23T11:29:28.044096272Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.1.7","title":"DNA-007: Add /quotey similar-deals slash command","description":"## DNA-007: Add /quotey similar-deals slash command\n\n### Background\nSlack slash command to query similar deals on demand.\n\n### Acceptance Criteria\n- [ ] Register `/quotey similar-deals` slash command\n- [ ] Accept quote_id as parameter\n- [ ] Return Deal DNA card with similar deals\n- [ ] Handle invalid quote IDs gracefully\n- [ ] Integration test\n- [ ] `cargo test` passes","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:29:07.108506201Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:04.216267176Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.1.7","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:04.216195402Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.7","depends_on_id":"bd-70d.1","type":"parent-child","created_at":"2026-02-23T11:29:07.108506201Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.1.7","depends_on_id":"bd-70d.1.5","type":"blocks","created_at":"2026-02-23T11:29:28.258223468Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10","title":"FEAT-10: Smart Thread Routing","description":"# FEAT-10: Smart Thread Routing\n\n## Feature Overview\n\nThe system knows who can approve what based on real-time org data. When a discount exceeds thresholds, it doesn't just flag—it **@mentions the correct approver with full context**: \"@sarah This needs VP approval: $67k ARR, 23% discount, strategic account. Tap 👍 to approve.\"\n\n### The Problem This Solves\n\nFinding the right approver is a time sink:\n- \"Who approves $50k+ deals?\"\n- \"Sarah's OOO, who's the backup?\"\n- \"Is this a strategic account requiring exec sign-off?\"\n- Approval requests sit in wrong inboxes\n\nSmart Routing gets requests to the right person instantly.\n\n### How It Works\n\n1. **Authority Mapping**: Load org hierarchy and approval limits\n2. **Request Classification**: Analyze quote for routing criteria\n3. **Approver Resolution**: Match requirements to available approvers\n4. **Availability Check**: Calendar integration for OOO detection\n5. **Smart Mention**: @mention with context and action options\n6. **Escalation Path**: Auto-escalate if no response in timeframe\n\n### User Experience\n\n**Slack Thread Flow:**\n```\n[Quote requiring VP approval created]\n\nQuotey: \"@sarah-vp-sales Approval Required\n        \n        📋 Quote: Acme Corp - Expansion\n        💰 Value: $67,000 ARR\n        📉 Discount: 23% (your limit: 25%)\n        🏢 Account: Strategic (tier 1)\n        ⏱️ Customer needs response by: Friday\n        \n        👍 Approve immediately\n        💬 Comment with changes\n        ⏭️ Delegate to @jane-vp-sales (you're OOO tomorrow)\n        \n        [View Full Quote] [See Similar Approvals]\"\n\n[sarah unavailable - system checks calendar]\n\nQuotey: \"⏰ Auto-escalating to @jane-vp-sales\n        @sarah-vp-sales is OOO until Monday\n        Jane has same authority and is available\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Approval       │────▶│ Routing Engine   │────▶│  Authority      │\n│  Request        │     │                  │     │  Resolver       │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                      │                          │\n         │                      ▼                          ▼\n         │               ┌──────────────────┐      ┌─────────────────┐\n         └──────────────▶│  Smart Mention   │◄─────│  Availability   │\n                        │  Composer        │      │  Checker        │\n                        └──────────────────┘      └─────────────────┘\n```\n\n### Routing Criteria\n\n- **Deal Value**: $ thresholds by role\n- **Discount %**: Authority limits\n- **Account Tier**: Strategic accounts → exec approval\n- **Product Type**: Special products → specialist approval\n- **Geo/Region**: Territory-based routing\n- **Customer Segment**: Enterprise vs SMB paths\n\n### Authority Resolution Logic\n\n```rust\nfn resolve_approver(request: ApprovalRequest) -> Approver {\n    // Primary: Direct authority match\n    let primary = find_by_authority(request.requirements);\n    \n    // Check availability\n    if !is_available(primary) {\n        // Fallback: Same authority level\n        let fallback = find_same_authority(primary);\n        \n        if !is_available(fallback) {\n            // Escalate: Next authority level up\n            return escalate_to_next_level(primary);\n        }\n        return fallback;\n    }\n    \n    primary\n}\n```\n\n### Components\n\n- **Authority Registry**: Org structure, roles, limits\n- **Routing Engine**: Match requests to approvers\n- **Availability Service**: Calendar/OOO integration\n- **Mention Composer**: Context-rich @mention generation\n- **Escalation Manager**: Time-based auto-escalation\n\n### Data Model\n\n- `approval_authorities` table: Role → limits mapping\n- `org_hierarchy` table: Reporting structure\n- `routing_rules` table: Criteria → approver mapping\n- `escalation_paths` table: Fallback sequences\n\n### Integration Points\n\n- Slack @mention API\n- Calendar integration (Google/Outlook)\n- Quote service (approval requirements)\n- Notification system\n\n### Acceptance Criteria\n- [ ] 95%+ of requests routed correctly on first try\n- [ ] OOO detection triggers fallback within 1 minute\n- [ ] Context included in every routing mention\n- [ ] Escalation happens automatically after timeout\n- [ ] Reps can override routing with @mention\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:04:29.120191712Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:48.483611436Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:48.483530965Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:04:29.120191712Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10.1","title":"ROUTE-001: Create approval_routing database schema","description":"## ROUTE-001: Create approval_routing database schema\n\n### Background\nStore org hierarchy and routing rules for smart approvals.\n\n### Acceptance Criteria\n- [ ] Create `approval_authorities` table:\n  - user_id, role, max_discount_pct, max_deal_value\n  - account_tiers (JSON), product_categories (JSON)\n- [ ] Create `org_hierarchy` table:\n  - user_id, manager_id, department, level\n- [ ] Create `routing_rules` table:\n  - id, criteria_type, criteria_value, approver_role\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:51.516064580Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:38.607523374Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:38.607459994Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.1","depends_on_id":"bd-70d.10","type":"parent-child","created_at":"2026-02-23T11:05:51.516064580Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10.2","title":"ROUTE-002: Build smart routing engine","description":"## ROUTE-002: Build smart routing engine\n\n### Background\nRoute approval requests to correct approver based on rules.\n\n### Acceptance Criteria\n- [ ] Create `RoutingEngine` in `src/routing/`\n- [ ] Match quote criteria to authority rules\n- [ ] Resolve approver from org hierarchy\n- [ ] Handle OOO fallback logic\n- [ ] Return RoutingResult with primary + fallback approvers\n- [ ] Integration with calendar API for availability\n- [ ] Unit tests for various routing scenarios\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:00.385228932Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:42.279697753Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:42.279629695Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.2","depends_on_id":"bd-70d.10","type":"parent-child","created_at":"2026-02-23T11:06:00.385228932Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.2","depends_on_id":"bd-70d.10.1","type":"blocks","created_at":"2026-02-23T11:29:43.996566643Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.10.3","title":"ROUTE-003: Add smart @mention composer for Slack","description":"## ROUTE-003: Add smart @mention composer for Slack\n\n### Background\nGenerate context-rich @mention messages for approval requests.\n\n### Acceptance Criteria\n- [ ] Create `SmartMentionComposer` in `src/routing/`\n- [ ] Include quote summary in mention\n- [ ] Show approval context (threshold exceeded)\n- [ ] Add emoji action buttons\n- [ ] Mention fallback approver if primary OOO\n- [ ] Handle urgent styling for time-sensitive\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:55.028066764Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:50.345379710Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.10.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:50.345300992Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.3","depends_on_id":"bd-70d.10","type":"parent-child","created_at":"2026-02-23T11:28:55.028066764Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.3","depends_on_id":"bd-70d.10.2","type":"blocks","created_at":"2026-02-23T11:29:44.209854986Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.10.3","depends_on_id":"bd-70d.3.4","type":"blocks","created_at":"2026-02-23T11:29:55.588452680Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2","title":"FEAT-02: Conversational Constraint Solver","description":"# FEAT-02: Conversational Constraint Solver\n\n## Feature Overview\n\nTransform quote configuration from form-filling into **natural language negotiation**. Users express needs conversationally: \"I need the enterprise tier but my budget is $50k\" and the system reasons through constraints to find valid configurations or suggest alternatives.\n\n### The Problem This Solves\n\nTraditional CPQ forces users to understand:\n- Product hierarchies and dependencies\n- Constraint rules and incompatibilities\n- Pricing tiers and discount structures\n\nReps waste time hunting through catalogs. Conversational solver lets them *describe what they need* and guides them to valid configs.\n\n### How It Works\n\n1. **Intent Extraction**: Parse natural language for: product mentions, constraints, priorities\n2. **Constraint Mapping**: Map intents to product rules\n3. **Solver Invocation**: Run deterministic constraint engine\n4. **Response Generation**: Present solutions or clarifying questions\n5. **Dialogue State**: Maintain context across multi-turn conversations\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"I need the enterprise tier but my budget is $50k\"\nQuotey: \"Enterprise tier starts at $75k. Options:\n        1. 2-year commitment + standard support = $52k\n        2. Premium tier + annual = $48k (recommended: fits your use case)\n        Which would you prefer?\"\n\nRep: \"What's the difference between Premium and Enterprise?\"\nQuotey: [Explains feature differences relevant to customer's stated needs]\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Slack Message  │────▶│ Intent Extractor │────▶│  Constraint     │\n│                 │     │ (Pattern/LLM)    │     │  Solver         │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n                               │                           │\n                               ▼                           ▼\n                        ┌──────────────────┐      ┌─────────────────┐\n                        │ Dialogue State   │      │  Product        │\n                        │ Manager          │      │  Catalog        │\n                        └──────────────────┘      └─────────────────┘\n```\n\n### Components\n\n- **Intent Extractor**: Pattern matching + lightweight NLP for product/constraint identification\n- **Dialogue State Manager**: Track conversation context, pending clarifications\n- **Constraint Mapper**: Bridge natural language to deterministic rule engine\n- **Response Generator**: Format solutions, alternatives, and questions\n\n### Integration Points\n\n- Slack message handler (new conversation type)\n- Existing constraint engine (no changes to core)\n- Quote builder (can seed from conversation)\n\n### Safety Considerations\n\nCRITICAL: LLM only translates/explains. ALL pricing and validity decisions come from the deterministic constraint engine. Never trust LLM for price quotes.\n\n### Acceptance Criteria\n- [ ] Understands 90%+ of common product/constraint phrases\n- [ ] Always validates constraints through deterministic engine\n- [ ] Maintains context across 5+ turns\n- [ ] Falls back to form-based config when unclear\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:02:50.676628609Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:49.648356648Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:49.648295413Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:02:50.676628609Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.1","title":"CONV-001: Create dialogue_state database schema","description":"## CONV-001: Create dialogue_state database schema\n\n### Background\nStore conversational state for multi-turn constraint solving sessions.\n\n### Acceptance Criteria\n- [ ] Create `dialogue_sessions` table:\n  - id, slack_thread_id, user_id, created_at, expires_at\n  - current_intent (JSON), pending_clarifications (JSON)\n  - quote_draft_id (nullable), status (active/completed/expired)\n- [ ] Create `dialogue_turns` table for history:\n  - session_id, turn_number, user_message, bot_response\n- [ ] Add indexes on thread_id and user_id\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:03.966191853Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:40.698966723Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:40.698905138Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.1","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:03.966191853Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.2","title":"CONV-002: Implement intent extraction service","description":"## CONV-002: Implement intent extraction service\n\n### Background\nParse natural language for product mentions, constraints, and user goals.\n\n### Acceptance Criteria\n- [ ] Create `IntentExtractor` in `src/conversation/`\n- [ ] Extract entities: product_names, quantities, budgets, timelines\n- [ ] Pattern matching for common phrases (regex-based)\n- [ ] Optional: lightweight LLM integration for complex parsing\n- [ ] Return structured Intent object with confidence scores\n- [ ] Handle ambiguous intents with clarification requests\n- [ ] Unit tests for 20+ example phrases\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:06.154580576Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:47.789668580Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:47.789605120Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.2","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:06.154580576Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.2","depends_on_id":"bd-70d.2.1","type":"blocks","created_at":"2026-02-23T11:29:28.472805681Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.3","title":"CONV-003: Build constraint mapping engine","description":"## CONV-003: Build constraint mapping engine\n\n### Background\nBridge natural language intents to deterministic constraint engine rules.\n\n### Acceptance Criteria\n- [ ] Create `ConstraintMapper` in `src/conversation/`\n- [ ] Map extracted intents to product catalog items\n- [ ] Convert budget constraints to valid configurations\n- [ ] Validate mappings through constraint engine\n- [ ] Handle incomplete mappings with clarifying questions\n- [ ] Return ConstraintSet for solver\n- [ ] Unit tests for mapping accuracy\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:12.193361612Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:45.711671599Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:45.711603642Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.3","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:12.193361612Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.3","depends_on_id":"bd-70d.2.2","type":"blocks","created_at":"2026-02-23T11:29:28.686784817Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.4","title":"CONV-004: Create conversational Slack message handler","description":"## CONV-004: Create conversational Slack message handler\n\n### Background\nHandle threaded conversations for natural language quote building.\n\n### Acceptance Criteria\n- [ ] Add Slack event handler for conversational messages\n- [ ] Detect conversation start vs continuation\n- [ ] Maintain dialogue state across turns\n- [ ] Generate contextual responses with Block Kit\n- [ ] Handle /done command to finalize quote\n- [ ] Timeout inactive sessions (30 min default)\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:05:14.121591451Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:55.707427061Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:55.707335558Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.4","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:05:14.121591451Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.4","depends_on_id":"bd-70d.2.3","type":"blocks","created_at":"2026-02-23T11:29:28.903327083Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.2.5","title":"CONV-005: Add /quotey chat slash command","description":"## CONV-005: Add /quotey chat slash command\n\n### Background\nStart conversational quote building from slash command.\n\n### Acceptance Criteria\n- [ ] Register `/quotey chat` slash command\n- [ ] Accept optional initial request as parameter\n- [ ] Start new dialogue session\n- [ ] Return welcome message with hints\n- [ ] Handle busy state (existing session)\n- [ ] Integration test\n- [ ] `cargo test` passes","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:29:07.325432640Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:03.989345109Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.2.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:03.989281428Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.5","depends_on_id":"bd-70d.2","type":"parent-child","created_at":"2026-02-23T11:29:07.325432640Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.2.5","depends_on_id":"bd-70d.2.4","type":"blocks","created_at":"2026-02-23T11:29:29.115037152Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3","title":"FEAT-03: Emoji-Based Micro-Approvals","description":"# FEAT-03: Emoji-Based Micro-Approvals\n\n## Feature Overview\n\nRemove friction from the #1 CPQ bottleneck: **waiting for approvals**. Senior approvers can grant exceptions via simple emoji reactions (👍) on Slack threads. The system captures this as valid approval with full audit trail.\n\n### The Problem This Solves\n\nApproval workflows kill deal velocity:\n- Reps wait hours/days for email responses\n- Approvers don't want to log into another system\n- Urgent deals stall over $5k exceptions\n- Audit trails are manual and error-prone\n\nEmoji approvals meet approvers where they already are (Slack) with zero friction.\n\n### How It Works\n\n1. **Exception Detection**: System detects discount/config exceeds thresholds\n2. **Smart Routing**: @mentions correct approver with context\n3. **Emoji Response**: Approver taps 👍 (approve), 👎 (reject), or 💬 (discuss)\n4. **Instant Capture**: Reaction logged as formal approval with cryptographic audit\n5. **Thread Update**: Quote automatically advances to next stage\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nQuotey: \"@sarah-vp-sales This quote needs VP approval:\n        • Customer: Acme Corp (strategic account)\n        • Value: $67k ARR\n        • Discount: 23% (threshold: 20%)\n        • Term: 2-year commitment\n        \n        👍 to approve | 👎 to reject | 💬 to discuss\"\n\n[Sarah taps 👍 within 30 seconds]\n\nQuotey: \"✅ Approved by @sarah-vp-sales at 2:34pm\n        Quote advancing to finalization...\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Slack Emoji    │────▶│ Reaction         │────▶│  Approval       │\n│  Event          │     │ Handler          │     │  Validator      │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                                                   │\n         ▼                                                   ▼\n┌─────────────────┐                              ┌─────────────────┐\n│  Audit Logger   │                              │  Quote State    │\n│  (Immutable)    │                              │  Machine        │\n└─────────────────┘                              └─────────────────┘\n```\n\n### Components\n\n- **Reaction Handler**: Process Slack emoji reaction events\n- **Authority Validator**: Verify reactor has approval authority for this exception type\n- **Approval State Machine**: Transition quote based on valid approval\n- **Audit Logger**: Cryptographically-signed approval record\n\n### Security & Compliance\n\n- Emoji only valid from authorized approvers\n- Reaction timestamp + user ID + message ID captured\n- Immutable audit trail (hash chain)\n- Reversible within 5 minutes (misclick protection)\n\n### Integration Points\n\n- Slack Events API (reaction_added)\n- Existing approval workflow engine\n- Immutable ledger (Feature 08)\n- Notification system\n\n### Acceptance Criteria\n- [ ] 👍 from authorized approver = valid approval\n- [ ] Unauthorized emoji reactions ignored with DM warning\n- [ ] Approval logged with: who, what, when, context\n- [ ] Quote state advances automatically on approval\n- [ ] 5-minute undo window for misclicks\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:03:00.046934541Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:49.417802635Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:49.417740549Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:00.046934541Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.1","title":"EMOJI-001: Create emoji_approvals database schema","description":"## EMOJI-001: Create emoji_approvals database schema\n\n### Background\nStore emoji-based approvals with full audit trail.\n\n### Acceptance Criteria\n- [ ] Create `emoji_approvals` table:\n  - id, quote_id, approver_user_id, emoji (👍/👎/💬)\n  - slack_message_id, slack_timestamp\n  - approval_type (discount/config/etc.), metadata (JSON)\n  - created_at, undo_until (5-min window)\n- [ ] Create `approval_audit_log` table for immutability\n- [ ] Add indexes on quote_id and approver_id\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:16.690554635Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:40.240092337Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:40.239977642Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.1","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:05:16.690554635Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.2","title":"EMOJI-002: Implement Slack emoji reaction handler","description":"## EMOJI-002: Implement Slack emoji reaction handler\n\n### Background\nProcess emoji reactions as approval events.\n\n### Acceptance Criteria\n- [ ] Subscribe to `reaction_added` Slack events\n- [ ] Filter for 👍 👎 💬 emojis on quote messages\n- [ ] Validate reactor has approval authority\n- [ ] Store approval in database\n- [ ] Trigger quote state transition\n- [ ] Send confirmation DM to approver\n- [ ] Handle undo within 5-minute window\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:18.967506564Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:44.328034594Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:44.327952479Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.2","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:05:18.967506564Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.2","depends_on_id":"bd-70d.3.1","type":"blocks","created_at":"2026-02-23T11:29:29.326852610Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.3","title":"EMOJI-003: Add approval validation service","description":"## EMOJI-003: Add approval validation service\n\n### Background\nValidate that emoji approver has authority for the specific approval type.\n\n### Acceptance Criteria\n- [ ] Create `ApprovalValidator` in `src/approvals/`\n- [ ] Check approver role against approval requirements\n- [ ] Validate discount % against approver's limit\n- [ ] Account tier-based authority checks\n- [ ] Return detailed validation result (allowed/denied + reason)\n- [ ] Unit tests for various scenarios\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:26.763388851Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:43.181750574Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:43.181689468Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.3","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:05:26.763388851Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.3","depends_on_id":"bd-70d.3.1","type":"blocks","created_at":"2026-02-23T11:29:29.536750605Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.3.4","title":"EMOJI-004: Add Slack Block Kit approval request cards","description":"## EMOJI-004: Add Slack Block Kit approval request cards\n\n### Background\nRich approval request UI with emoji action buttons.\n\n### Acceptance Criteria\n- [ ] Create `ApprovalRequestCard` in `src/slack/blocks/`\n- [ ] Display quote summary (customer, value, discount)\n- [ ] Show 👍 👎 💬 action buttons\n- [ ] Include context on approval requirements\n- [ ] Style appropriately for urgency\n- [ ] Unit tests for card generation\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:06:18.254284648Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:51.518549419Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.3.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:51.518486671Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.4","depends_on_id":"bd-70d.3","type":"parent-child","created_at":"2026-02-23T11:06:18.254284648Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.3.4","depends_on_id":"bd-70d.3.3","type":"blocks","created_at":"2026-02-23T11:29:29.751655756Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4","title":"FEAT-04: Ghost Quotes - Predictive Opportunity Creation","description":"# FEAT-04: Ghost Quotes - Predictive Opportunity Creation\n\n## Feature Overview\n\nThe system monitors Slack channels for **buying signals** (competitor mentions, budget discussions, timeline pressure) and proactively creates draft quotes when confidence is high. Reps get DM: \"Sounds like Acme is shopping. I drafted a quote based on their last purchase.\"\n\n### The Problem This Solves\n\nOpportunities emerge in conversation before they're formalized:\n- Customer mentions \"evaluating options\" in #general\n- Competitor name drops in #random\n- Budget discussions in project channels\n\nReps miss 60%+ of these signals. Ghost Quotes captures them automatically.\n\n### How It Works\n\n1. **Signal Detection**: Monitor channels for buying intent keywords\n2. **Entity Extraction**: Identify company, use case, stakeholders\n3. **Context Enrichment**: Pull customer history, past quotes, preferences\n4. **Confidence Scoring**: ML model scores opportunity likelihood\n5. **Draft Generation**: Auto-create quote with suggested configuration\n6. **Proactive Delivery**: DM rep with draft + confidence score\n\n### User Experience\n\n**Behind the Scenes:**\n```\n[In #customer-success channel]\nCustomer: \"We're looking to expand to 3 more departments next quarter\"\n\n[Ghost Quotes detects signal: \"expand\" + timeline + departments]\n[Extracts: Acme Corp, growth use case, Q2 timeline]\n[Pulls: Last quote was Enterprise 100-seat, $45k]\n[Drafts: Enterprise 300-seat upgrade, $87k with growth discount]\n\n[DM to rep]\nQuotey: \"🎯 Ghost Quote detected\n        Acme Corp mentioned expansion in #customer-success\n        Confidence: 78%\n        \n        I drafted: Enterprise 300-seat upgrade\n        Suggested: $87k (23% growth discount pre-applied)\n        \n        [View Draft] [Dismiss] [Schedule Follow-up]\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Slack Message  │────▶│ Signal Detector  │────▶│  Context        │\n│  Stream         │     │ (Keywords + NLP) │     │  Enricher       │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                           │                     │\n         ▼                           ▼                     ▼\n┌─────────────────┐      ┌──────────────────┐    ┌─────────────────┐\n│  Confidence     │      │  Draft Quote     │    │  Customer       │\n│  Scorer (ML)    │─────▶│  Generator       │    │  History DB     │\n└─────────────────┘      └──────────────────┘    └─────────────────┘\n```\n\n### Components\n\n- **Signal Detector**: Keyword patterns, entity recognition\n- **Context Enricher**: Join with CRM data, past quotes\n- **Confidence Model**: Logistic regression on historical conversions\n- **Draft Generator**: Seed quote from similar past deals\n- **Notification Router**: DM appropriate rep with context\n\n### Privacy & Ethics\n\n- Only monitors public channels (never DMs)\n- Respects channel notification settings\n- Reps can disable for specific channels\n- Confidence threshold prevents spam (default: 70%)\n\n### Integration Points\n\n- Slack Events API (message monitoring)\n- CRM integration (customer lookup)\n- Deal DNA (similar deal lookup)\n- Notification system\n\n### Acceptance Criteria\n- [ ] Detects 80%+ of explicit buying signals\n- [ ] False positive rate <10% (to avoid spam)\n- [ ] Draft quotes seeded from customer history\n- [ ] Rep can convert to real quote in one click\n- [ ] Full audit trail of signal → quote creation\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:03:09.388813270Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:03.291910471Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:03.291847353Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:09.388813270Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.1","title":"GHOST-001: Create ghost_signals database schema","description":"## GHOST-001: Create ghost_signals database schema\n\n### Background\nStore buying signals and ghost quote drafts.\n\n### Acceptance Criteria\n- [ ] Create `buying_signals` table:\n  - id, slack_channel_id, slack_message_id, signal_type\n  - confidence_score, detected_company, extracted_intent\n  - matched_rep_id, status (new/processed/dismissed)\n- [ ] Create `ghost_quotes` table:\n  - id, signal_id, draft_quote_id, confidence_score\n  - rep_notified_at, rep_response (accepted/dismissed)\n- [ ] Add indexes on matched_rep_id and status\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:29.280127682Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:39.994509892Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:39.994434259Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.1","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:05:29.280127682Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.2","title":"GHOST-002: Implement signal detection engine","description":"## GHOST-002: Implement signal detection engine\n\n### Background\nMonitor Slack messages for buying intent keywords and patterns.\n\n### Acceptance Criteria\n- [ ] Create `SignalDetector` in `src/ghost/`\n- [ ] Keyword patterns: budget, expand, looking for, evaluating, etc.\n- [ ] Entity extraction: company names, departments, timelines\n- [ ] Competitor mention detection\n- [ ] Return Signal objects with confidence scores\n- [ ] Configurable confidence threshold (default 70%)\n- [ ] Unit tests with example messages\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:31.554920714Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:42.952273840Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:42.952202967Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.2","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:05:31.554920714Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.2","depends_on_id":"bd-70d.4.1","type":"blocks","created_at":"2026-02-23T11:29:29.965430457Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.3","title":"GHOST-003: Build ghost quote draft generator","description":"## GHOST-003: Build ghost quote draft generator\n\n### Background\nAuto-create quote drafts from detected buying signals.\n\n### Acceptance Criteria\n- [ ] Create `GhostQuoteGenerator` in `src/ghost/`\n- [ ] Fetch customer history for context\n- [ ] Use Deal DNA to find similar past deals\n- [ ] Generate suggested configuration\n- [ ] Apply appropriate discount based on patterns\n- [ ] Create draft quote in database\n- [ ] Return GhostQuote with confidence score\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:11.677633351Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:41.619552882Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:41.619497108Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.3","depends_on_id":"bd-70d.1.3","type":"blocks","created_at":"2026-02-23T11:29:55.162657806Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.3","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:06:11.677633351Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.3","depends_on_id":"bd-70d.4.2","type":"blocks","created_at":"2026-02-23T11:29:30.177177706Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.4.4","title":"GHOST-004: Add ghost quote notification DM handler","description":"## GHOST-004: Add ghost quote notification DM handler\n\n### Background\nSend proactive DMs to reps when ghost quotes are created.\n\n### Acceptance Criteria\n- [ ] Create `GhostNotifier` in `src/ghost/`\n- [ ] Format ghost quote DM with context\n- [ ] Include [View Draft] [Dismiss] [Schedule] buttons\n- [ ] Track rep responses\n- [ ] Respect notification preferences\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:29:12.133205936Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:50.116500814Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.4.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:50.116435952Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.4","depends_on_id":"bd-70d.4","type":"parent-child","created_at":"2026-02-23T11:29:12.133205936Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.4.4","depends_on_id":"bd-70d.4.3","type":"blocks","created_at":"2026-02-23T11:29:30.395320849Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5","title":"FEAT-05: Explainable Policy Engine","description":"# FEAT-05: Explainable Policy Engine\n\n## Feature Overview\n\nEvery rejected discount or configuration conflict gets an **instant plain-English explanation** with cited rules. \"This exceeds your approval limit by $12k (Rule: VP approval required >$50k)\" AND offers resolution paths: \"Tag @sarah-vp-sales or reduce quantity by 2 units.\"\n\n### The Problem This Solves\n\nCurrent CPQ black boxes frustrate users:\n- \"Why was my discount rejected?\"\n- \"What rule blocked this configuration?\"\n- \"How do I fix this?\"\n- Policy buried in documentation reps never read\n\nExplainable Policy turns opaque rules into actionable guidance.\n\n### How It Works\n\n1. **Policy Violation Detection**: Constraint engine flags violation\n2. **Rule Citation**: Identify specific policy rules triggered\n3. **Explanation Generation**: Natural language summary of the issue\n4. **Resolution Pathfinding**: Suggest alternative valid configurations\n5. **Context Formatting**: Tailor explanation to user's role/seniority\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"/quotey discount 25%\"\nQuotey: \"❌ Discount rejected\n        \n        Why: 25% exceeds your approval authority (max: 20%)\n        Rule: Section 4.2 - Manager approval required >20%\n        \n        Resolution options:\n        1. Reduce to 20% (automatically approved)\n        2. @sarah-vp-sales for VP override\n        3. Apply 2-year term for automatic 25% eligibility\n        \n        [Apply 20%] [Request Override] [View Policy]\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Constraint     │────▶│ Explanation      │────▶│  Resolution     │\n│  Engine         │     │ Generator        │     │  Pathfinder     │\n│  (Violation)    │     │                  │     │                 │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                      │                          │\n         ▼                      ▼                          ▼\n┌─────────────────┐      ┌──────────────────┐      ┌─────────────────┐\n│  Policy Rules   │      │  Natural Language│      │  Alternative    │\n│  Registry       │      │  Templates       │      │  Configs        │\n└─────────────────┘      └──────────────────┘      └─────────────────┘\n```\n\n### Components\n\n- **Rule Parser**: Load policy rules with explanation metadata\n- **Explanation Generator**: Map violations to human-readable text\n- **Resolution Engine**: Calculate valid alternative configurations\n- **Citation System**: Link explanations to specific rule IDs/versions\n- **Policy Browser**: Interactive rule exploration UI\n\n### Policy Rule Schema Extension\n\n```json\n{\n  \"rule_id\": \"DISCOUNT_MGR_MAX\",\n  \"condition\": \"discount > 20%\",\n  \"explanation\": \"Manager approval limited to 20% discounts\",\n  \"resolution_hints\": [\"Reduce discount\", \"Request VP approval\"],\n  \"documentation_url\": \"/policies/pricing#manager-limits\"\n}\n```\n\n### Integration Points\n\n- Constraint engine (violation events)\n- Slack Block Kit (rich explanations)\n- Policy documentation (link generation)\n- User profile (role-based explanations)\n\n### Acceptance Criteria\n- [ ] Every rejection includes specific rule citation\n- [ ] Explanation generated in <50ms\n- [ ] At least 2 resolution paths offered when available\n- [ ] Policy links open relevant documentation\n- [ ] Explanations adapt to user role (rep vs manager)\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:03:24.185577404Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:49.186795619Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:49.186729374Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:24.185577404Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.1","title":"EXPLAIN-001: Create policy_explanations database schema","description":"## EXPLAIN-001: Create policy_explanations database schema\n\n### Background\nStore policy rule metadata for explainable violations.\n\n### Acceptance Criteria\n- [ ] Extend `policy_rules` table with:\n  - explanation_template (text)\n  - resolution_hints (JSON array)\n  - documentation_url (string)\n  - rule_category (pricing/approval/config)\n- [ ] Create `explanation_cache` table for generated explanations\n- [ ] Add indexes on rule_category\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:34.022920992Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:39.768376701Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:39.768307611Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.1","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:05:34.022920992Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.2","title":"EXPLAIN-002: Implement explanation generator service","description":"## EXPLAIN-002: Implement explanation generator service\n\n### Background\nGenerate human-readable explanations for policy violations.\n\n### Acceptance Criteria\n- [ ] Create `ExplanationGenerator` in `src/policy/`\n- [ ] Template-based explanation generation\n- [ ] Variable substitution (discount %, limit, etc.)\n- [ ] Resolution path suggestion\n- [ ] Role-based explanation tailoring\n- [ ] Cite specific rule IDs and documentation links\n- [ ] Unit tests for various violation types\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:04.678152469Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:41.837241078Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:41.837173060Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.2","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:06:04.678152469Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.2","depends_on_id":"bd-70d.5.1","type":"blocks","created_at":"2026-02-23T11:29:42.067676438Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.3","title":"EXPLAIN-003: Add explanation Slack Block Kit renderer","description":"## EXPLAIN-003: Add explanation Slack Block Kit renderer\n\n### Background\nRender policy explanations with resolution options in Slack.\n\n### Acceptance Criteria\n- [ ] Create `ExplanationCard` in `src/slack/blocks/`\n- [ ] Display violation reason with rule citation\n- [ ] Show 2-3 resolution buttons\n- [ ] Include \"View Policy\" link\n- [ ] Style with appropriate emojis (❌ 📖 ✅)\n- [ ] Unit tests for card generation\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:06:45.420724945Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:51.287154732Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:51.287090622Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.3","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:06:45.420724945Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.5.4","title":"EXPLAIN-003: Add Slack Block Kit explanation cards","description":"## EXPLAIN-003: Add Slack Block Kit explanation cards\n\n### Background\nRich explanation UI with rule citations and resolution options.\n\n### Acceptance Criteria\n- [ ] Create `ExplanationCard` in `src/slack/blocks/`\n- [ ] Display violation reason with rule citation\n- [ ] Show 2-3 resolution path buttons\n- [ ] Link to policy documentation\n- [ ] Include relevant emojis (❌ 📋 🔗)\n- [ ] Collapsible details section\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:47.557627261Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:50.821529353Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.5.4","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:50.821467326Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.4","depends_on_id":"bd-70d.5","type":"parent-child","created_at":"2026-02-23T11:28:47.557627261Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.5.4","depends_on_id":"bd-70d.5.2","type":"blocks","created_at":"2026-02-23T11:29:42.283569211Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6","title":"FEAT-06: Live Multi-User Quote Sessions","description":"# FEAT-06: Live Multi-User Quote Sessions\n\n## Feature Overview\n\nMultiple stakeholders edit the **same quote simultaneously** in a Slack thread (like Google Docs). Conflict resolution uses deterministic rules (last valid edit wins based on authority). Shows who's editing what in real-time.\n\n### The Problem This Solves\n\nQuote collaboration is chaotic:\n- Email threads with conflicting versions\n- \"Who has the latest?\" confusion\n- Senior rep overrides junior without visibility\n- No awareness of concurrent changes\n\nLive sessions bring order to collaboration.\n\n### How It Works\n\n1. **Session Initiation**: Quote enters \"collaborative mode\"\n2. **Presence Tracking**: Show who's viewing/editing\n3. **Operational Transform**: Merge concurrent edits safely\n4. **Authority Resolution**: Senior role wins on conflicts\n5. **Real-time Sync**: All participants see changes instantly\n6. **Session History**: Full edit log with attribution\n\n### User Experience\n\n**Slack Thread Flow:**\n```\n[Quote enters collaborative mode]\nQuotey: \"🟢 Live Session Active\n        @john-ae (editing line items)\n        @sarah-vp (viewing)\n        \n        Last change: Quantity updated 10 → 15 (by @john-ae, 2s ago)\n        \n        [Current Quote Preview]\n        \n        💡 Tip: Type /done when finished editing\"\n\n[john changes discount from 10% to 20%]\n[sarah simultaneously changes to 25% - conflict!]\n\nQuotey: \"⚠️ Edit conflict resolved\n        @sarah-vp's change (25%) applied\n        @john-ae's change (20%) overridden\n        Reason: VP authority > AE authority\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Slack Thread   │◄───▶│  Session Manager │◄───▶│  Presence       │\n│  (WebSocket)    │     │                  │     │  Tracker        │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         ▲                      │                          │\n         │                      ▼                          ▼\n┌─────────────────┐      ┌──────────────────┐      ┌─────────────────┐\n│  Block Kit      │      │  Operational     │      │  Authority      │\n│  Renderer       │      │  Transform       │      │  Resolver       │\n└─────────────────┘      └──────────────────┘      └─────────────────┘\n```\n\n### Components\n\n- **Session Manager**: Create/destroy collaborative sessions\n- **Operational Transform Engine**: Merge concurrent operations\n- **Presence Tracker**: Who's active, what they're editing\n- **Authority Resolver**: Role-based conflict resolution\n- **Change Broadcast**: WebSocket-based real-time updates\n\n### Conflict Resolution Rules\n\n1. Authority hierarchy: VP > Manager > AE > SDR\n2. Same authority: timestamp wins (later edit prevails)\n3. Invalid changes: rejected with explanation\n4. Blocking edits: require confirmation from affected party\n\n### Data Model\n\n- `quote_sessions` table: session state, participants, lock status\n- `quote_operations` table: operation log (insert/update/delete)\n- `presence_events` table: join/leave/idle tracking\n\n### Integration Points\n\n- Slack Socket Mode (real-time messaging)\n- Quote state machine (collaborative state)\n- User roles/permissions (authority)\n- Notification system (conflict alerts)\n\n### Acceptance Criteria\n- [ ] 3+ users can edit same quote simultaneously\n- [ ] Changes visible to all within 1 second\n- [ ] Conflicts auto-resolve based on authority\n- [ ] Session history shows who changed what\n- [ ] Graceful handling of disconnections\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:03:34.729815094Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:03.059365356Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:03.059297548Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:34.729815094Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6.1","title":"COLLAB-001: Create quote_sessions database schema","description":"## COLLAB-001: Create quote_sessions database schema\n\n### Background\nStore collaborative session state for multi-user quote editing.\n\n### Acceptance Criteria\n- [ ] Create `quote_sessions` table:\n  - id, quote_id, status (active/paused/closed)\n  - created_by, created_at, expires_at\n- [ ] Create `session_participants` table:\n  - session_id, user_id, role, joined_at, last_activity\n- [ ] Create `session_operations` table:\n  - id, session_id, user_id, operation_type, payload, timestamp\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:41.070723358Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:39.539239549Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:39.539169878Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.1","depends_on_id":"bd-70d.6","type":"parent-child","created_at":"2026-02-23T11:05:41.070723358Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6.2","title":"COLLAB-002: Implement operational transform engine","description":"## COLLAB-002: Implement operational transform engine\n\n### Background\nMerge concurrent edits from multiple users safely.\n\n### Acceptance Criteria\n- [ ] Create `OperationalTransform` in `src/collab/`\n- [ ] Define operation types: Insert, Update, Delete\n- [ ] Transform function: reconcile concurrent operations\n- [ ] Authority-based conflict resolution\n- [ ] Apply operations to quote state atomically\n- [ ] Maintain operation history\n- [ ] Unit tests for conflict scenarios\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:16.136333801Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:41.156857266Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:41.156797343Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.2","depends_on_id":"bd-70d.6","type":"parent-child","created_at":"2026-02-23T11:06:16.136333801Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.2","depends_on_id":"bd-70d.6.1","type":"blocks","created_at":"2026-02-23T11:29:42.497726983Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.6.3","title":"COLLAB-003: Add WebSocket real-time sync handler","description":"## COLLAB-003: Add WebSocket real-time sync handler\n\n### Background\nReal-time updates for collaborative quote sessions.\n\n### Acceptance Criteria\n- [ ] Create WebSocket handler for session sync\n- [ ] Broadcast operations to all participants\n- [ ] Handle connection/disconnection\n- [ ] Implement presence heartbeat\n- [ ] Conflict resolution notifications\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T11:29:12.350118551Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:03.753299126Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.6.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:03.753215528Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.3","depends_on_id":"bd-70d.6","type":"parent-child","created_at":"2026-02-23T11:29:12.350118551Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.6.3","depends_on_id":"bd-70d.6.2","type":"blocks","created_at":"2026-02-23T11:29:42.712465230Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.7","title":"FEAT-07: Win Probability Pricing Optimizer","description":"# FEAT-07: Win Probability Pricing Optimizer\n\n## Feature Overview\n\nDeterministic pricing meets ML intelligence: The system calculates not just *can* we price at $X, but *should* we? Shows a probability curve: \"At $45k = 78% win probability, at $52k = 45% probability. Break-even optimization suggests $48.5k.\"\n\n### The Problem This Solves\n\nReps price based on gut feel:\n- \"Can I get away with 30% discount?\"\n- \"Will this price win the deal?\"\n- \"Am I leaving money on the table?\"\n\nData-informed pricing removes guesswork.\n\n### How It Works\n\n1. **Historical Data Collection**: Gather past quotes + outcomes\n2. **Feature Extraction**: Customer segment, product mix, timing, etc.\n3. **Model Training**: Logistic regression on win/loss patterns\n4. **Probability Prediction**: Score current quote variants\n5. **Optimization**: Find price that maximizes expected value\n6. **Recommendation**: Present curve + suggested price\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"Thinking of quoting $52k for Acme\"\nQuotey: \"💰 Pricing Intelligence\n        \n        Win Probability Curve:\n        $45k ████████████████████ 78%\n        $48k ████████████████░░░░ 65%\n        $52k ██████████░░░░░░░░░░ 45%\n        $55k ███████░░░░░░░░░░░░░ 32%\n        \n        💡 Optimal: $48.5k (59% prob, max expected value)\n        📊 Based on: 23 similar deals in Enterprise/SaaS segment\n        \n        [Apply $48.5k] [Keep $52k] [View Similar Deals]\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Quote Features │────▶│ Win Probability  │────▶│  Pricing        │\n│  Extractor      │     │ Model (ML)       │     │  Optimizer      │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                      ▲                          │\n         ▼                      │                          ▼\n┌─────────────────┐      ┌──────────────────┐      ┌─────────────────┐\n│  Deal DNA       │      │  Historical      │      │  Recommendation │\n│  (Similarity)   │─────▶│  Outcomes DB     │      │  Engine         │\n└─────────────────┘      └──────────────────┘      └─────────────────┘\n```\n\n### Model Details\n\n- **Algorithm**: Logistic regression (interpretable, fast)\n- **Features**: Customer segment, product tier, discount %, term, seasonality\n- **Training**: Weekly retraining on new outcomes\n- **Calibration**: Probability outputs validated against actual win rates\n\n### Expected Value Calculation\n\n```\nExpected Value = Price × Win Probability\n\nExample:\n- $45k × 78% = $35.1k EV\n- $48.5k × 59% = $28.6k EV\n- $52k × 45% = $23.4k EV\n\nOptimal is $45k for max EV, but $48.5k balances revenue and win rate\n```\n\n### Safety Safeguards\n\n- Model predictions are ADVISORY only\n- Never override deterministic pricing rules\n- Confidence interval displayed with all predictions\n- Rep always makes final pricing decision\n\n### Integration Points\n\n- Deal DNA (similar deal lookup for features)\n- Quote service (current quote data)\n- ML inference pipeline (separate service)\n- Slack Block Kit (curve visualization)\n\n### Acceptance Criteria\n- [ ] Win probability predictions within ±10% of actual outcomes\n- [ ] Optimization suggestion updates in <2 seconds\n- [ ] Confidence intervals displayed for all predictions\n- [ ] Model retraining happens automatically weekly\n- [ ] Historical accuracy metrics visible to admins\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:03:46.750279453Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:02.828116003Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.7","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:02.828038026Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:46.750279453Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.7.1","title":"WIN-001: Create win_probability database schema","description":"## WIN-001: Create win_probability database schema\n\n### Background\nStore historical deal outcomes and model predictions.\n\n### Acceptance Criteria\n- [ ] Create `deal_outcomes` table:\n  - quote_id, outcome (won/lost), final_price, close_date\n  - customer_segment, product_mix, sales_cycle_days\n- [ ] Create `win_probability_models` table:\n  - id, version, training_date, accuracy_score, model_path\n- [ ] Create `prediction_cache` table:\n  - quote_id, model_version, win_probability, predicted_at\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:43.600718492Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:39.305937898Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.7.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:39.305877323Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7.1","depends_on_id":"bd-70d.7","type":"parent-child","created_at":"2026-02-23T11:05:43.600718492Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.7.2","title":"WIN-002: Implement win probability ML model","description":"## WIN-002: Implement win probability ML model\n\n### Background\nTrain and run logistic regression model for win probability predictions.\n\n### Acceptance Criteria\n- [ ] Create `WinProbabilityModel` in `src/ml/`\n- [ ] Feature extraction from quote data\n- [ ] Logistic regression implementation (or use crate)\n- [ ] Training pipeline on historical outcomes\n- [ ] Prediction method: `predict_win_probability(quote) -> f64`\n- [ ] Model versioning and persistence\n- [ ] Accuracy evaluation (>70% on test set)\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:13.939413788Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:41.384199415Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.7.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:41.384142227Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7.2","depends_on_id":"bd-70d.1.3","type":"blocks","created_at":"2026-02-23T11:29:55.376115629Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7.2","depends_on_id":"bd-70d.7","type":"parent-child","created_at":"2026-02-23T11:06:13.939413788Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.7.2","depends_on_id":"bd-70d.7.1","type":"blocks","created_at":"2026-02-23T11:29:42.929519271Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8","title":"FEAT-08: Immutable Quote Ledger","description":"# FEAT-08: Immutable Quote Ledger\n\n## Feature Overview\n\nEvery quote version is **hashed and chained** (like a blockchain but local/SQLite). Customers get verification links proving quote authenticity. Internally, no \"he said/she said\" about what was promised. Zero-trust quote integrity without enterprise blockchain bloat.\n\n### The Problem This Solves\n\nQuote disputes damage trust:\n- \"That's not the price you quoted me\"\n- \"Someone changed the terms after approval\"\n- \"I have no proof of what was promised\"\n- Audit trails can be tampered with\n\nCryptographic integrity makes quotes tamper-evident and trustless.\n\n### How It Works\n\n1. **Version Hashing**: SHA-256 hash of quote content + metadata\n2. **Chain Linking**: Each version includes hash of previous version\n3. **Timestamping**: Cryptographic timestamp from internal clock\n4. **Verification Link**: Customer-facing URL for integrity check\n5. **Tamper Detection**: Any change breaks the hash chain\n6. **Audit Export**: Full chain export for compliance\n\n### User Experience\n\n**Customer Verification:**\n```\n[Customer receives quote PDF with verification link]\n\nCustomer clicks: https://quotey.company.com/verify/quote-abc-123\n\nPage shows:\n🔒 Quote Integrity Verified\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━\nQuote ID: quote-abc-123\nVersion: 3 of 5\nCreated: 2026-02-23 14:32 UTC\nLast Modified: 2026-02-23 16:45 UTC\nVerified By: cryptographic-hash-chain\n\nStatus: ✅ Untampered\nHash Chain: abc123... → def456... → ghi789...\n\n[Download Verified PDF] [View Audit Trail]\n```\n\n**Internal Audit Trail:**\n```\nQuotey: \"/quotey audit quote-abc-123\"\n\n[Shows full version history with signatures]\nVersion 1: Created by @john-ae, hash: a1b2c3...\nVersion 2: Modified by @sarah-vp, hash: d4e5f6... (prev: a1b2c3...)\nVersion 3: Approved by @sarah-vp, hash: g7h8i9... (prev: d4e5f6...)\n\nChain integrity: ✅ Valid\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  Quote Change   │────▶│ Hash Generator   │────▶│  Ledger Entry   │\n│  Event          │     │ (SHA-256)        │     │  Creation       │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                                                   │\n         │              ┌──────────────────┐                   │\n         └─────────────▶│ Previous Hash    │◄──────────────────┘\n                        │ Reference        │\n                        └──────────────────┘\n```\n\n### Cryptographic Design\n\n```rust\nstruct LedgerEntry {\n    entry_id: UUID,\n    quote_id: String,\n    version: u32,\n    content_hash: String,      // SHA-256 of quote JSON\n    prev_hash: Option<String>, // Hash of previous version\n    timestamp: DateTime<Utc>,\n    actor_id: String,          // Who made the change\n    action: ActionType,        // Create, Update, Approve, etc.\n    signature: String,         // HMAC of all fields\n}\n```\n\n### Components\n\n- **Hash Generator**: SHA-256 of canonical quote representation\n- **Chain Manager**: Link entries, verify chain integrity\n- **Signature Engine**: HMAC with system secret key\n- **Verification Service**: Public endpoint for integrity checks\n- **Audit Exporter**: Full chain export for compliance\n\n### Storage\n\n- `quote_ledger` table: All ledger entries indexed by quote\n- `ledger_signatures` table: Signature verification data\n- No external blockchain required - pure SQLite implementation\n\n### Integration Points\n\n- Quote state machine (all state changes logged)\n- Quote API (verification endpoints)\n- Customer portal (verification page)\n- Compliance export (CSV/JSON chain dump)\n\n### Acceptance Criteria\n- [ ] Every quote change creates immutable ledger entry\n- [ ] Hash chain validates in O(n) time\n- [ ] Tampering detected and flagged immediately\n- [ ] Customer verification page loads in <1s\n- [ ] Full audit export available in <5s\n- [ ] No external dependencies (self-contained)\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-23T11:03:58.067799454Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:48.951739511Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:48.951667706Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:03:58.067799454Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8.1","title":"LEDGER-001: Create quote_ledger database schema","description":"## LEDGER-001: Create quote_ledger database schema\n\n### Background\nStore immutable cryptographic ledger entries for quote versions.\n\n### Acceptance Criteria\n- [ ] Create `quote_ledger` table:\n  - entry_id, quote_id, version_number\n  - content_hash (SHA-256), prev_hash (nullable)\n  - actor_id, action_type, timestamp\n  - signature (HMAC), metadata (JSON)\n- [ ] Create `ledger_verifications` table:\n  - entry_id, verified_at, verification_result\n- [ ] Add indexes on quote_id and content_hash\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:46.405497864Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:39.070636638Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:39.070572928Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.1","depends_on_id":"bd-70d.8","type":"parent-child","created_at":"2026-02-23T11:05:46.405497864Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8.2","title":"LEDGER-002: Implement cryptographic hash chain service","description":"## LEDGER-002: Implement cryptographic hash chain service\n\n### Background\nGenerate SHA-256 hashes and chain quote versions for immutability.\n\n### Acceptance Criteria\n- [ ] Create `LedgerService` in `src/ledger/`\n- [ ] Implement SHA-256 hashing of quote content\n- [ ] Chain linking: each entry references previous hash\n- [ ] HMAC signing with system secret key\n- [ ] Method: `append_entry(quote, action, actor) -> LedgerEntry`\n- [ ] Method: `verify_chain(quote_id) -> VerificationResult`\n- [ ] Unit tests for hash consistency and chain integrity\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:05:58.177501021Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:42.500621777Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:42.500416921Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.2","depends_on_id":"bd-70d.8","type":"parent-child","created_at":"2026-02-23T11:05:58.177501021Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.2","depends_on_id":"bd-70d.8.1","type":"blocks","created_at":"2026-02-23T11:29:43.142742462Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.8.3","title":"LEDGER-003: Create quote verification API endpoint","description":"## LEDGER-003: Create quote verification API endpoint\n\n### Background\nPublic endpoint for customers to verify quote integrity.\n\n### Acceptance Criteria\n- [ ] Add GET `/verify/quote/:id` endpoint\n- [ ] Return verification status (valid/tampered)\n- [ ] Display hash chain for transparency\n- [ ] Show version history\n- [ ] HTML page with quote details\n- [ ] JSON API for programmatic verification\n- [ ] Integration tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:43.727530918Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:51.056414489Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.8.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:51.056348384Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.3","depends_on_id":"bd-70d.8","type":"parent-child","created_at":"2026-02-23T11:28:43.727530918Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.8.3","depends_on_id":"bd-70d.8.2","type":"blocks","created_at":"2026-02-23T11:29:43.354951933Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9","title":"FEAT-09: Configuration Archaeology","description":"# FEAT-09: Configuration Archaeology\n\n## Feature Overview\n\nAsk \"Why can't I add the premium module to this config?\" and get a **full dependency walkback**: \"Because you selected Standard Hosting (line 3), which lacks API access. Premium Module requires API access. Change hosting to Enterprise or remove the failover requirement.\" Natural language forensics for constraint chains.\n\n### The Problem This Solves\n\nComplex configurations are hard to debug:\n- \"Why is this option grayed out?\"\n- \"What do I need to change to enable this feature?\"\n- \"Which rule is blocking me?\"\n- Trial-and-error configuration is frustrating\n\nConfiguration Archaeology makes the constraint graph transparent and navigable.\n\n### How It Works\n\n1. **Constraint Graph Traversal**: Map all dependencies for a configuration\n2. **Blockage Detection**: Identify which rules prevent desired state\n3. **Root Cause Analysis**: Walk back the dependency chain to origin\n4. **Explanation Generation**: Natural language description of the chain\n5. **Resolution Suggestion**: Alternative paths to achieve goal\n6. **Interactive Navigation**: Click through the constraint graph\n\n### User Experience\n\n**Slack Thread Flow:**\n```\nRep: \"Why can't I add Premium Analytics?\"\nQuotey: \"🔍 Configuration Analysis\n        \n        Premium Analytics requires:\n        ├── Enterprise API Access ❌ MISSING\n        │   └── Requires: Enterprise Hosting Tier\n        │       └── You have: Standard Hosting ✓\n        └── Minimum 100 seats ❌ (you have 50)\n        \n        Resolution paths:\n        1. Upgrade to Enterprise Hosting (+$12k)\n           → Unlocks API Access → Enables Premium Analytics\n        2. Increase seats to 100 (+$5k)\n           → Meets seat minimum → Enables Premium Analytics\n        3. Choose Standard Analytics instead (compatible)\n        \n        [Upgrade Hosting] [Add Seats] [View Standard Analytics]\"\n```\n\n### Technical Architecture\n\n```\n┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐\n│  User Query     │────▶│ Dependency       │────▶│  Constraint     │\n│  (NL or         │     │ Graph Builder    │     │  Evaluator      │\n│   Structured)   │     │                  │     │                 │\n└─────────────────┘     └──────────────────┘     └─────────────────┘\n         │                      │                          │\n         │                      ▼                          ▼\n         │               ┌──────────────────┐      ┌─────────────────┐\n         └──────────────▶│  Explanation     │◄─────│  Resolution     │\n                        │  Generator       │      │  Pathfinder     │\n                        └──────────────────┘      └─────────────────┘\n```\n\n### Components\n\n- **Dependency Graph Builder**: Construct full constraint graph for config\n- **Blockage Analyzer**: Find specific constraints blocking desired state\n- **Chain Tracer**: Walk back dependencies to root causes\n- **Explanation Generator**: Convert technical chains to human text\n- **Resolution Engine**: Calculate minimal changes to achieve goal\n\n### Constraint Graph Representation\n\n```rust\nstruct ConstraintNode {\n    node_id: String,\n    node_type: Product|Feature|Rule|Dependency,\n    status: Satisfied|Blocked|Missing,\n    requires: Vec<ConstraintEdge>,\n    required_by: Vec<ConstraintEdge>,\n}\n\nstruct ConstraintEdge {\n    from: String,\n    to: String,\n    condition: String,  // \"API Access = true\"\n}\n```\n\n### Query Types Supported\n\n- \"Why can't I add X?\" → Shows blocking dependency chain\n- \"What do I need for X?\" → Shows all requirements\n- \"What would break if I change Y?\" → Impact analysis\n- \"What's the shortest path to enable X?\" → Minimal changes\n\n### Integration Points\n\n- Constraint engine (dependency data)\n- Product catalog (requirement definitions)\n- Slack Block Kit (tree visualization)\n- Quote service (current configuration)\n\n### Acceptance Criteria\n- [ ] Explains 95%+ of configuration blocks correctly\n- [ ] Dependency chains visualized up to 5 levels deep\n- [ ] At least 2 resolution paths suggested when available\n- [ ] Explanations generated in <100ms\n- [ ] Interactive tree navigation in Slack\n- [ ] `cargo check` passes\n- [ ] `cargo clippy` passes\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-23T11:04:15.276273155Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:32:02.586015240Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:32:02.585935209Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9","depends_on_id":"bd-70d","type":"parent-child","created_at":"2026-02-23T11:04:15.276273155Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9.1","title":"ARCH-001: Create dependency_graph storage schema","description":"## ARCH-001: Create dependency_graph storage schema\n\n### Background\nStore constraint dependency graphs for archaeology queries.\n\n### Acceptance Criteria\n- [ ] Create `constraint_nodes` table:\n  - id, config_id, node_type, node_key, status\n- [ ] Create `constraint_edges` table:\n  - id, config_id, from_node, to_node, edge_type, condition\n- [ ] Create `archaeology_queries` cache table:\n  - id, config_id, query_type, result (JSON), created_at\n- [ ] Add indexes on config_id and node_key\n- [ ] SQLx migration with rollback\n- [ ] `cargo sqlx migrate run` succeeds","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-23T11:05:49.038770838Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:38.842707834Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9.1","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:38.842647349Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.1","depends_on_id":"bd-70d.9","type":"parent-child","created_at":"2026-02-23T11:05:49.038770838Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9.2","title":"ARCH-002: Build dependency graph traversal engine","description":"## ARCH-002: Build dependency graph traversal engine\n\n### Background\nTraverse constraint graphs to find blockages and paths.\n\n### Acceptance Criteria\n- [ ] Create `DependencyGraphEngine` in `src/archaeology/`\n- [ ] Build graph from product catalog constraints\n- [ ] BFS/DFS traversal for dependency chain discovery\n- [ ] Find shortest path to enable blocked feature\n- [ ] Identify root causes of configuration blocks\n- [ ] Return GraphAnalysis with paths and alternatives\n- [ ] Unit tests with sample constraint graphs\n- [ ] `cargo test` passes","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-23T11:06:02.745704099Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:42.064477298Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9.2","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:42.064386827Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.2","depends_on_id":"bd-70d.9","type":"parent-child","created_at":"2026-02-23T11:06:02.745704099Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.2","depends_on_id":"bd-70d.9.1","type":"blocks","created_at":"2026-02-23T11:29:43.567319863Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
{"id":"bd-70d.9.3","title":"ARCH-003: Add Slack Block Kit dependency tree renderer","description":"## ARCH-003: Add Slack Block Kit dependency tree renderer\n\n### Background\nVisualize dependency chains as interactive tree in Slack.\n\n### Acceptance Criteria\n- [ ] Create `DependencyTreeCard` in `src/slack/blocks/`\n- [ ] Render tree structure with ASCII/emoji\n- [ ] Show status (✅ ❌) for each node\n- [ ] Collapsible sections for deep trees\n- [ ] Include resolution path buttons\n- [ ] Handle trees up to 5 levels deep\n- [ ] Unit tests\n- [ ] `cargo test` passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T11:28:51.651252590Z","created_by":"ubuntuman","updated_at":"2026-02-23T11:31:50.592552363Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-70d.9.3","depends_on_id":"bd-3d8.10","type":"blocks","created_at":"2026-02-23T11:31:50.592486929Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.3","depends_on_id":"bd-70d.9","type":"parent-child","created_at":"2026-02-23T11:28:51.651252590Z","created_by":"ubuntuman","metadata":"{}","thread_id":""},{"issue_id":"bd-70d.9.3","depends_on_id":"bd-70d.9.2","type":"blocks","created_at":"2026-02-23T11:29:43.787169922Z","created_by":"ubuntuman","metadata":"{}","thread_id":""}]}
